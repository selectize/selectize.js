/**
 * Selectize (v0.15.0)
 * https://selectize.dev
 *
 * Copyright (c) 2013-2015 Brian Reavis & contributors
 * Copyright (c) 2020-2022 Selectize Team & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 * @author Ris Adams <selectize@risadams.com>
 */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):t.Selectize=e(t.jQuery)}(this,function(x){"use strict";function i(){}x.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};function d(t,e){this.items=t,this.settings=e||{diacritics:!0}}i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){var e=this._events=this._events||{};if(t in e!=!1)for(var n=0;n<e[t].length;n++)e[t][n].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var t={},s=(t.mixin=function(i){i.plugins={},i.prototype.initializePlugins=function(t){var e,n,i,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},s.isArray(t))for(e=0,n=t.length;e<n;e++)"string"==typeof t[e]?o.push(t[e]):(this.plugins.settings[t[e].name]=t[e].options,o.push(t[e].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(this.plugins.settings[i]=t[i],o.push(i));for(;o.length;)this.require(o.shift())},i.prototype.loadPlugin=function(t){var e=this.plugins,n=i.plugins[t];if(!i.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');e.requested[t]=!0,e.loaded[t]=n.fn.apply(this,[this.plugins.settings[t]||{}]),e.names.push(t)},i.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},i.define=function(t,e){i.plugins[t]={name:t,fn:e}}},{isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}),h=(d.prototype.tokenize=function(t,e){if(!(t=l(String(t||"").toLowerCase()))||!t.length)return[];for(var n,i,o=[],s=t.split(/ +/),r=0,a=s.length;r<a;r++){if(n=p(s[r]),this.settings.diacritics)for(i in u)u.hasOwnProperty(i)&&(n=n.replace(new RegExp(i,"g"),u[i]));e&&(n="\\b"+n),o.push({string:s[r],regex:new RegExp(n,"i")})}return o},d.prototype.iterator=function(t,e){var n=a(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)};n.apply(t,[e])},d.prototype.getScoreFunction=function(t,e){function o(t,e){var n;return!t||-1===(n=(t=String(t||"")).search(e.regex))?0:(e=e.string.length/t.length,0===n&&(e+=.5),e)}var s,r=(t=this.prepareSearch(t,e)).tokens,a=t.options.fields,l=r.length,p=t.options.nesting,d=(s=a.length)?1===s?function(t,e){return o(g(e,a[0],p),t)}:function(t,e){for(var n=0,i=0;n<s;n++)i+=o(g(e,a[n],p),t);return i/s}:function(){return 0};return l?1===l?function(t){return d(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<l;n++){if((e=d(r[n],t))<=0)return 0;i+=e}return i/l}:function(t){for(var e=0,n=0;e<l;e++)n+=d(r[e],t);return n/l}:function(){return 0}},d.prototype.getSortFunction=function(t,n){var e,i,o,s,r,a,l,p=this,d=!(t=p.prepareSearch(t,n)).query&&n.sort_empty||n.sort,u=function(t,e){return"$score"===t?e.score:g(p.items[e.id],t,n.nesting)},c=[];if(d)for(e=0,i=d.length;e<i;e++)!t.query&&"$score"===d[e].field||c.push(d[e]);if(t.query){for(l=!0,e=0,i=c.length;e<i;e++)if("$score"===c[e].field){l=!1;break}l&&c.unshift({field:"$score",direction:"desc"})}else for(e=0,i=c.length;e<i;e++)if("$score"===c[e].field){c.splice(e,1);break}for(a=[],e=0,i=c.length;e<i;e++)a.push("desc"===c[e].direction?-1:1);return(s=c.length)?1===s?(o=c[0].field,r=a[0],function(t,e){return r*h(u(o,t),u(o,e))}):function(t,e){for(var n,i=0;i<s;i++)if(n=c[i].field,n=a[i]*h(u(n,t),u(n,e)))return n;return 0}:null},d.prototype.prepareSearch=function(t,e){var n,i,o;return"object"==typeof t?t:(n=(e=r({},e)).fields,i=e.sort,o=e.sort_empty,n&&!a(n)&&(e.fields=[n]),i&&!a(i)&&(e.sort=[i]),o&&!a(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t,e.respect_word_boundaries),total:0,items:[]})},d.prototype.search=function(t,n){var i,o,e=this,s=this.prepareSearch(t,n);return n=s.options,t=s.query,o=n.score||e.getScoreFunction(s),t.length?e.iterator(e.items,function(t,e){i=o(t),(!1===n.filter||0<i)&&s.items.push({score:i,id:e})}):e.iterator(e.items,function(t,e){s.items.push({score:1,id:e})}),(t=e.getSortFunction(s,n))&&s.items.sort(t),s.total=s.items.length,"number"==typeof n.limit&&(s.items=s.items.slice(0,n.limit)),s},function(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=n(String(t||"")),(e=n(String(e||"")))<t?1:t<e?-1:0)}),r=function(t,e){for(var n,i,o=1,s=arguments.length;o<s;o++)if(i=arguments[o])for(n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t},g=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},l=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},p=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||void 0!==x&&x.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u={a:"[aá¸€á¸Ä‚ÄƒÃ‚Ã¢ÇÇŽÈºâ±¥È¦È§áº áº¡Ã„Ã¤Ã€Ã ÃÃ¡Ä€ÄÃƒÃ£Ã…Ã¥Ä…Ä„ÃƒÄ…Ä„]",b:"[bâ¢Î²Î’Bà¸¿ðŒá›’]",c:"[cÄ†Ä‡ÄˆÄ‰ÄŒÄÄŠÄ‹CÌ„cÌ„Ã‡Ã§á¸ˆá¸‰È»È¼Æ‡ÆˆÉ•á´„ï¼£ï½ƒ]",d:"[dÄŽÄá¸Šá¸‹á¸á¸‘á¸Œá¸á¸’á¸“á¸Žá¸ÄÄ‘DÌ¦dÌ¦Æ‰É–ÆŠÉ—Æ‹ÆŒáµ­á¶á¶‘È¡á´…ï¼¤ï½„Ã°]",e:"[eÃ‰Ã©ÃˆÃ¨ÃŠÃªá¸˜á¸™ÄšÄ›Ä”Ä•áº¼áº½á¸šá¸›áººáº»Ä–Ä—Ã‹Ã«Ä’Ä“È¨È©Ä˜Ä™á¶’É†É‡È„È…áº¾áº¿á»€á»á»„á»…á»‚á»ƒá¸œá¸á¸–á¸—á¸”á¸•È†È‡áº¸áº¹á»†á»‡â±¸á´‡ï¼¥ï½…É˜ÇÆÆÎµ]",f:"[fÆ‘Æ’á¸žá¸Ÿ]",g:"[gÉ¢â‚²Ç¤Ç¥ÄœÄÄžÄŸÄ¢Ä£Æ“É Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áº–áº–á¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ•]",i:"[iÃÃ­ÃŒÃ¬Ä¬Ä­ÃŽÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»ˆá»‰ÈˆÈ‰ÈŠÈ‹á»Šá»‹á¸¬á¸­Æ—É¨É¨Ì†áµ»á¶–Ä°iIÄ±Éªï¼©ï½‰]",j:"[jÈ·Ä´ÄµÉˆÉ‰ÊÉŸÊ²]",k:"[kÆ˜Æ™ê€êá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â‚­]",l:"[lÅÅ‚Ä½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿Å€È½Æšâ± â±¡â±¢É«É¬á¶…É­È´ÊŸï¼¬ï½Œ]",n:"[nÅƒÅ„Ç¸Ç¹Å‡ÅˆÃ‘Ã±á¹„á¹…Å…Å†á¹†á¹‡á¹Šá¹‹á¹ˆá¹‰NÌˆnÌˆÆÉ²È Æžáµ°á¶‡É³ÈµÉ´ï¼®ï½ŽÅŠÅ‹]",o:"[oÃ˜Ã¸Ã–Ã¶Ã“Ã³Ã’Ã²Ã”Ã´Ç‘Ç’ÅÅ‘ÅŽÅÈ®È¯á»Œá»ÆŸÉµÆ Æ¡á»Žá»ÅŒÅÃ•ÃµÇªÇ«ÈŒÈÕ•Ö…]",p:"[pá¹”á¹•á¹–á¹—â±£áµ½Æ¤Æ¥áµ±]",q:"[qê–ê—Ê ÉŠÉ‹ê˜ê™qÌƒ]",r:"[rÅ”Å•ÉŒÉÅ˜Å™Å–Å—á¹˜á¹™ÈÈ‘È’È“á¹šá¹›â±¤É½]",s:"[sÅšÅ›á¹ á¹¡á¹¢á¹£êž¨êž©ÅœÅÅ Å¡ÅžÅŸÈ˜È™SÌˆsÌˆ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊˆÈšÈ›á¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­É„Ê‰á»¤á»¥ÃœÃ¼ÃšÃºÃ™Ã¹Ã›Ã»Ç“Ç”Å°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³È”È•âˆª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Ê‹êžêŸâ±±Ê‹]",w:"[wáº‚áºƒáº€áºÅ´Åµáº„áº…áº†áº‡áºˆáº‰]",x:"[xáºŒáºáºŠáº‹Ï‡]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºŽáºá»´á»µÉŽÉÆ³Æ´]",z:"[zÅ¹Åºáºáº‘Å½Å¾Å»Å¼áº’áº“áº”áº•ÆµÆ¶]"},n=function(){var t,e,n,i,o="",s={};for(n in u)if(u.hasOwnProperty(n))for(o+=i=u[n].substring(2,u[n].length-1),t=0,e=i.length;t<e;t++)s[i.charAt(t)]=n;var r=new RegExp("["+o+"]","g");return function(t){return t.replace(r,function(t){return s[t]}).toLowerCase()}}();function e(t,e){return navigator.userAgentData?t===navigator.userAgentData.platform:e.test(navigator.userAgent)}function c(t){return void 0!==t}function I(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""}function f(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function o(e,n,t){var i,o=e.trigger,s={};for(i in e.trigger=function(){var t=arguments[0];if(-1===n.indexOf(t))return o.apply(e,arguments);s[t]=arguments},t.apply(e,[]),e.trigger=o,s)s.hasOwnProperty(i)&&o.apply(e,s[i])}function v(t){var e,n,i={};return void 0===t?console.warn("WARN getInputSelection cannot locate input control"):"selectionStart"in t?(i.start=t.selectionStart,i.length=t.selectionEnd-i.start):document.selection&&(t.focus(),e=document.selection.createRange(),n=document.selection.createRange().text.length,e.moveStart("character",-t.value.length),i.start=e.text.length-n,i.length=n),i}function m(t,e){return t?(S.$testInput||(S.$testInput=x("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),x("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(S.$testInput).appendTo("body")),S.$testInput.text(t),_(e,S.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),S.$testInput.width()):0}function y(s){function t(t,e){var n,i,o;e=e||{},(t=t||window.event||{}).metaKey||t.altKey||!e.force&&!1===s.data("grow")||(e=s.val(),t.type&&"keydown"===t.type.toLowerCase()&&(n=48<=(i=t.keyCode)&&i<=57||65<=i&&i<=90||96<=i&&i<=111||186<=i&&i<=222||32===i,46===i||8===i?(o=v(s[0])).length?e=e.substring(0,o.start)+e.substring(o.start+o.length):8===i&&o.start?e=e.substring(0,o.start-1)+e.substring(o.start+1):46===i&&void 0!==o.start&&(e=e.substring(0,o.start)+e.substring(o.start+1)):n&&(i=t.shiftKey,o=String.fromCharCode(t.keyCode),e+=o=i?o.toUpperCase():o.toLowerCase())),t=(n=s.attr("placeholder"))?m(n,s)+4:0,(i=Math.max(m(e,s),t)+4)===r)||(r=i,s.width(i),s.triggerHandler("resize"))}var r=null;s.on("keydown keyup update blur",t),t()}var w=e("macOS",/Mac/),O=w?91:17,$=w?18:17,C=!e("Android",/android/i)&&!!document.createElement("input").validity,b={before:function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},after:function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}}},_=function(t,e,n){var i,o,s={};if(n)for(i=0,o=n.length;i<o;i++)s[n[i]]=t.css(n[i]);else s=t.css();e.css(s)},S=function(t,e){var n,i,o,s,r,a=this,l=t[0],p=(l.selectize=a,window.getComputedStyle&&window.getComputedStyle(l,null));if(p=(p?p.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",x.extend(a,{order:0,settings:e,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(p),eventNS:".selectize"+ ++S.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},isDropdownClosing:!1,$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?a.onSearchChange:(o=a.onSearchChange,s=e.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){o.apply(t,e)},s)})}),a.sifter=new d(this.options,{diacritics:e.diacritics}),a.settings.options){for(n=0,i=a.settings.options.length;n<i;n++)a.registerOption(a.settings.options[n]);delete a.settings.options}if(a.settings.optgroups){for(n=0,i=a.settings.optgroups.length;n<i;n++)a.registerOptionGroup(a.settings.optgroups[n]);delete a.settings.optgroups}a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return i.mixin(S),t.mixin(S),x.extend(S.prototype,{setup:function(){var n,t,i,e=this,o=e.settings,s=e.eventNS,r=x(window),a=x(document),l=e.$input,p=e.settings.mode,d=l.attr("class")||"",u=x("<div>").addClass(o.wrapperClass).addClass(d+" selectize-control").addClass(p),c=x("<div>").addClass(o.inputClass+" selectize-input items").appendTo(u),h=x('<input type="select-one" autocomplete="new-password" autofill="no" />').appendTo(c).attr("tabindex",l.is(":disabled")?"-1":e.tabIndex),g=x(o.dropdownParent||u),p=x("<div>").addClass(o.dropdownClass).addClass(p+" selectize-dropdown").hide().appendTo(g),g=x("<div>").addClass(o.dropdownContentClass+" selectize-dropdown-content").attr("tabindex","-1").appendTo(p),u=((t=l.attr("id"))&&(h.attr("id",t+"-selectized"),x("label[for='"+t+"']").attr("for",t+"-selectized")),e.settings.copyClassesToDropdown&&p.addClass(d),u.css({width:l[0].style.width}),e.plugins.names.length&&(t="plugin-"+e.plugins.names.join(" plugin-"),u.addClass(t),p.addClass(t)),(null===o.maxItems||1<o.maxItems)&&1===e.tagType&&l.attr("multiple","multiple"),e.settings.placeholder&&h.attr("placeholder",o.placeholder),!e.settings.splitOn&&e.settings.delimiter&&(d=e.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.settings.splitOn=new RegExp("\\s*"+d+"+\\s*")),l.attr("autocorrect")&&h.attr("autocorrect",l.attr("autocorrect")),l.attr("autocapitalize")&&h.attr("autocapitalize",l.attr("autocapitalize")),l.is("input")&&(h[0].type=l[0].type),e.$wrapper=u,e.$control=c,e.$control_input=h,e.$dropdown=p,e.$dropdown_content=g,p.on("mouseenter mousedown mouseup click","[data-disabled]>[data-selectable]",function(t){t.stopImmediatePropagation()}),p.on("mouseenter","[data-selectable]",function(){return e.onOptionHover.apply(e,arguments)}),p.on("mouseup click","[data-selectable]",function(){return e.onOptionSelect.apply(e,arguments)}),t="mouseup",d="*:not(input)",i=function(){return e.onItemSelect.apply(e,arguments)},(n=c).on(t,d,function(t){for(var e=t.target;e&&e.parentNode!==n[0];)e=e.parentNode;return t.currentTarget=e,i.apply(this,[t])}),y(h),c.on({mousedown:function(){return e.onMouseDown.apply(e,arguments)},click:function(){return e.onClick.apply(e,arguments)}}),h.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return e.onKeyDown.apply(e,arguments)},keypress:function(){return e.onKeyPress.apply(e,arguments)},input:function(){return e.onInput.apply(e,arguments)},resize:function(){e.positionDropdown.apply(e,[])},focus:function(){return e.ignoreBlur=!1,e.onFocus.apply(e,arguments)},paste:function(){return e.onPaste.apply(e,arguments)}}),a.on("keydown"+s,function(t){e.isCmdDown=t[w?"metaKey":"ctrlKey"],e.isCtrlDown=t[w?"altKey":"ctrlKey"],e.isShiftDown=t.shiftKey}),a.on("keyup"+s,function(t){t.keyCode===$&&(e.isCtrlDown=!1),16===t.keyCode&&(e.isShiftDown=!1),t.keyCode===O&&(e.isCmdDown=!1)}),a.on("mousedown"+s,function(t){if(e.isFocused){if(t.target===e.$dropdown[0]||t.target.parentNode===e.$dropdown[0])return!1;e.$dropdown.has(t.target).length||t.target===e.$control[0]||e.blur(t.target)}}),r.on(["scroll"+s,"resize"+s].join(" "),function(){e.isOpen&&e.positionDropdown.apply(e,arguments)}),r.on("mousemove"+s,function(){e.ignoreHover=e.settings.ignoreHover}),x("<div></div>")),g=l.children().detach();l.replaceWith(u),u.replaceWith(l),this.revertSettings={$children:g,tabindex:l.attr("tabindex")},l.attr("tabindex",-1).hide().after(e.$wrapper),Array.isArray(o.items)&&(e.lastValidValue=o.items,e.setValue(o.items),delete o.items),C&&l.on("invalid"+s,function(t){t.preventDefault(),e.isInvalid=!0,e.refreshState()}),e.updateOriginalInput(),e.refreshItems(),e.refreshState(),e.updatePlaceholder(),e.isSetup=!0,l.is(":disabled")&&e.disable(),e.on("change",this.onChange),l.data("selectize",e),l.addClass("selectized"),e.trigger("initialize"),!0===o.preload&&e.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,o=t.settings.valueField,n=t.settings.optgroupLabelField;t.settings.render=x.extend({},{optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){var n=t.classes?" "+t.classes:"";return n+=""===t[o]?" selectize-dropdown-emptyoptionlabel":"","<div"+(t.styles?' style="'+t.styles+'"':"")+' class="option'+n+'">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&#x2026;</div>"}},t.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isDropdownClosing||this.isFocused&&this.isOpen||(this.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,n=t.isDefaultPrevented();x(t.target);if(e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?(e.isOpen?e.close():e.open(),e.isDropdownClosing=!0,setTimeout(function(){e.isDropdownClosing=!1},e.settings.closeDropdownThreshold)):n||e.setActiveItem(null),!1}else n||window.setTimeout(function(){e.focus()},0)},onChange:function(){""!==this.getValue()&&(this.lastValidValue=this.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(t){var o=this;o.isFull()||o.isInputHidden||o.isLocked?t.preventDefault():o.settings.splitOn&&setTimeout(function(){var t=o.$control_input.val();if(t.match(o.settings.splitOn))for(var e=t.trim().split(o.settings.splitOn),n=0,i=e.length;n<i;n++)o.createItem(e[n])},0)},onKeyPress:function(t){var e;return this.isLocked?t&&t.preventDefault():(e=String.fromCharCode(t.keyCode||t.which),this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0)},onKeyDown:function(t){t.target,this.$control_input[0];var e,n=this;if(n.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(n.isCmdDown)return void n.selectAll();break;case 27:return void(n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:return!n.isOpen&&n.hasOptions?n.open():n.$activeOption&&(n.ignoreHover=!0,(e=n.getAdjacentOption(n.$activeOption,1)).length)&&n.setActiveOption(e,!0,!0),void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:return n.$activeOption&&(n.ignoreHover=!0,(e=n.getAdjacentOption(n.$activeOption,-1)).length)&&n.setActiveOption(e,!0,!0),void t.preventDefault();case 13:return void(n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),t.preventDefault()));case 37:return void n.advanceSelection(-1,t);case 39:return void n.advanceSelection(1,t);case 9:return n.settings.selectOnTab&&n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),n.isFull()||t.preventDefault()),void(n.settings.create&&n.createItem()&&n.settings.showAddOptionOnCreate&&t.preventDefault());case 8:case 46:return void n.deleteSelection(t)}!n.isFull()&&!n.isInputHidden||(w?t.metaKey:t.ctrlKey)||t.preventDefault()}},onInput:function(t){var e=this,n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(e){var n=this,i=n.settings.load;i&&!n.loadedSearches.hasOwnProperty(e)&&(n.loadedSearches[e]=!0,n.load(function(t){i.apply(n,[e,t])}))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n,i=this;i.isFocused&&(i.isFocused=!1,i.ignoreFocus||(n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")},i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()))},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,n=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(e=x(t.currentTarget)).hasClass("create")?n.createItem(null,function(){n.settings.closeAfterSelect&&n.close()}):void 0!==(e=e.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(e),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&n.setActiveOption(n.getOption(e)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){(Array.isArray(t)?t:[t]).join("")!==this.items.join("")&&o(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setMaxItems:function(t){this.settings.maxItems=t=0===t?null:t,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(t,e){var n,i,o,s,r,a,l=this;if("single"!==l.settings.mode)if((t=x(t)).length){if("mousedown"===(n=e&&e.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(a=l.$control.children(".active:last"),a=Array.prototype.indexOf.apply(l.$control[0].childNodes,[a[0]]),(o=Array.prototype.indexOf.apply(l.$control[0].childNodes,[t[0]]))<a&&(r=a,a=o,o=r),i=a;i<=o;i++)s=l.$control[0].childNodes[i],-1===l.$activeItems.indexOf(s)&&(x(s).addClass("active"),l.$activeItems.push(s));e.preventDefault()}else"mousedown"===n&&l.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(r=l.$activeItems.indexOf(t[0]),l.$activeItems.splice(r,1),t.removeClass("active")):l.$activeItems.push(t.addClass("active")[0]):(x(l.$activeItems).removeClass("active"),l.$activeItems=[t.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}else x(l.$activeItems).removeClass("active"),l.$activeItems=[],l.isFocused&&l.showInput()},setActiveOption:function(t,e,n){var i,o,s,r,a=this;a.$activeOption&&(a.$activeOption.removeClass("active"),a.trigger("dropdown_item_deactivate",a.$activeOption.attr("data-value"))),a.$activeOption=null,(t=x(t)).length&&(a.$activeOption=t.addClass("active"),a.isOpen&&a.trigger("dropdown_item_activate",a.$activeOption.attr("data-value")),!e&&c(e)||(t=a.$dropdown_content.height(),i=a.$activeOption.outerHeight(!0),e=a.$dropdown_content.scrollTop()||0,r=(s=o=a.$activeOption.offset().top-a.$dropdown_content.offset().top+e)-t+i,t+e<o+i?a.$dropdown_content.stop().animate({scrollTop:r},n?a.settings.scrollDuration:0):o<e&&a.$dropdown_content.stop().animate({scrollTop:s},n?a.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:0}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;return t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0)),t},blur:function(t){return this.$control_input[0].blur(),this.onBlur(null,t),this},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return{fields:t.searchField,conjunction:t.searchConjunction,sort:e="string"==typeof e?[{field:e}]:e,nesting:t.nesting,filter:t.filter}},search:function(t){var e,n,i,o=this,s=o.settings,r=this.getSearchOptions();if(s.score&&"function"!=typeof(i=o.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(s.normalize&&(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),o.lastQuery=t,n=o.sifter.search(t,x.extend(r,{score:i})),o.currentResults=n):n=x.extend(!0,{},o.currentResults),s.hideSelected)for(e=n.items.length-1;0<=e;e--)-1!==o.items.indexOf(I(n.items[e].id))&&n.items.splice(e,1);return n},refreshOptions:function(t){void 0===t&&(t=!0);var e,n,i,o,s,r,a,l,p,d,u,c,h,g,f,v,m=this,y=m.$control_input.val().trim(),w=m.search(y),O=m.$dropdown_content,$=m.$activeOption&&I(m.$activeOption.attr("data-value")),C=w.items.length;for("number"==typeof m.settings.maxOptions&&(C=Math.min(C,m.settings.maxOptions)),o={},s=[],e=0;e<C;e++)for(r=m.options[w.items[e].id],a=m.render("option",r),l=r[m.settings.optgroupField]||"",n=0,i=(p=Array.isArray(l)?l:[l])&&p.length;n<i;n++)l=p[n],m.optgroups.hasOwnProperty(l)||(l=""),o.hasOwnProperty(l)||(o[l]=document.createDocumentFragment(),s.push(l)),o[l].appendChild(a);for(this.settings.lockOptgroupOrder&&s.sort(function(t,e){return(m.optgroups[t]&&m.optgroups[t].$order||0)-(m.optgroups[e]&&m.optgroups[e].$order||0)}),d=document.createDocumentFragment(),e=0,C=s.length;e<C;e++)m.optgroups.hasOwnProperty(l=s[e])&&o[l].childNodes.length?((u=document.createDocumentFragment()).appendChild(m.render("optgroup_header",m.optgroups[l])),u.appendChild(o[l]),d.appendChild(m.render("optgroup",x.extend({},m.optgroups[l],{html:(f=u,v=void 0,(v=document.createElement("div")).appendChild(f.cloneNode(!0)),v.innerHTML),dom:u})))):d.appendChild(o[l]);if(O.html(d),m.settings.highlight&&(O.removeHighlight(),w.query.length)&&w.tokens.length)for(e=0,C=w.tokens.length;e<C;e++)!function(t,e){var r,a;if("string"!=typeof e||e.length)r="string"==typeof e?new RegExp(e,"i"):e,a=function(t){var e=0;if(3===t.nodeType){var n,i,o=t.data.search(r);0<=o&&0<t.data.length&&(i=t.data.match(r),(n=document.createElement("span")).className="highlight",(o=t.splitText(o)).splitText(i[0].length),i=o.cloneNode(!0),n.appendChild(i),o.parentNode.replaceChild(n,o),e=1)}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var s=0;s<t.childNodes.length;++s)s+=a(t.childNodes[s]);return e},t.each(function(){a(this)})}(O,w.tokens[e].regex);if(!m.settings.hideSelected)for(m.$dropdown.find(".selected").removeClass("selected"),e=0,C=m.items.length;e<C;e++)m.getOption(m.items[e]).addClass("selected");"auto"!==m.settings.dropdownSize.sizeType&&m.isOpen&&m.setupDropdownHeight(),(c=m.canCreate(y))&&m.settings.showAddOptionOnCreate&&(O.prepend(m.render("option_create",{input:y})),g=x(O[0].childNodes[0])),m.hasOptions=0<w.items.length||c&&m.settings.showAddOptionOnCreate||m.settings.setFirstOptionActive,m.hasOptions?(0<w.items.length?(y=$&&m.getOption($),""!==w.query&&m.settings.setFirstOptionActive?h=O.find("[data-selectable]:first"):""!==w.query&&y&&y.length?h=y:"single"===m.settings.mode&&m.items.length&&(h=m.getOption(m.items[0])),h&&h.length||(h=g&&!m.settings.addPrecedence?m.getAdjacentOption(g,1):O.find("[data-selectable]:first"))):h=g,m.setActiveOption(h),t&&!m.isOpen&&m.open()):(m.setActiveOption(null),t&&m.isOpen&&m.close())},addOption:function(t){var e,n,i,o=this;if(Array.isArray(t))for(e=0,n=t.length;e<n;e++)o.addOption(t[e]);else(i=o.registerOption(t))&&(o.userOptions[i]=!0,o.lastQuery=null,o.trigger("option_add",i,t))},registerOption:function(t){var e=I(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=I(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,e){var n,i,o,s=this;if(t=I(t),n=I(e[s.settings.valueField]),null!==t&&s.options.hasOwnProperty(t)){if("string"!=typeof n)throw new Error("Value must be set in option data");o=s.options[t].$order,n!==t&&(delete s.options[t],-1!==(i=s.items.indexOf(t)))&&s.items.splice(i,1,n),e.$order=e.$order||o,s.options[n]=e,i=s.renderCache.item,o=s.renderCache.option,i&&(delete i[t],delete i[n]),o&&(delete o[t],delete o[n]),-1!==s.items.indexOf(n)&&(i=s.getItem(t),o=x(s.render("item",e)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),s.lastQuery=null,s.isOpen&&s.refreshOptions(!1)}},removeOption:function(t,e){var n=this,i=(t=I(t),n.renderCache.item),o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(t){var n=this,i=(n.loadedSearches={},n.userOptions={},n.renderCache={},n.options);x.each(n.options,function(t,e){-1==n.items.indexOf(t)&&delete i[t]}),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear"),n.clear(t)},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var t=this.$dropdown.find("[data-selectable]");return 0<t.length?t.eq(0):x()},getAdjacentOption:function(t,e){var n=this.$dropdown.find("[data-selectable]"),t=n.index(t)+e;return 0<=t&&t<n.length?n.eq(t):x()},getElementWithValue:function(t,e){if(null!=(t=I(t)))for(var n=0,i=e.length;n<i;n++)if(e[n].getAttribute("data-value")===t)return x(e[n]);return x()},getElementWithTextContent:function(t,e,n){if(null!=(t=I(t)))for(var i=0,o=n.length;i<o;i++){var s=n[i].textContent;if(1==e&&(s=null!==s?s.toLowerCase():null,t=t.toLowerCase()),s===t)return x(n[i])}return x()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},getFirstItemMatchedByTextContent:function(t,e){return this.getElementWithTextContent(t,e=null!==e&&!0===e,this.$dropdown_content.find("[data-selectable]"))},addItems:function(t,e){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var o=Array.isArray(t)?t:[t],i=0,s=o.length;i<s;i++)this.isPending=i<s-1,this.addItem(o[i],e);t=this.$control[0];t.insertBefore(this.buffer,t.firstChild),this.buffer=null},addItem:function(s,r){o(this,r?[]:["change"],function(){var t,e,n,i=this,o=i.settings.mode;s=I(s),-1!==i.items.indexOf(s)?"single"===o&&i.close():i.options.hasOwnProperty(s)&&("single"===o&&i.clear(r),"multi"===o&&i.isFull()||(t=x(i.render("item",i.options[s])),n=i.isFull(),i.items.splice(i.caretPos,0,s),i.insertAtCaret(t),i.isPending&&(n||!i.isFull())||i.refreshState(),i.isSetup&&(n=i.$dropdown_content.find("[data-selectable]"),i.isPending||(e=i.getOption(s),e=i.getAdjacentOption(e,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==o),e&&i.setActiveOption(i.getOption(e))),!n.length||i.isFull()?i.close():i.isPending||i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",s,t),i.isPending||i.updateOriginalInput({silent:r}))))})},removeItem:function(t,e){var n,i,o=this,s=t instanceof x?t:o.getItem(t);t=I(s.attr("data-value")),-1!==(n=o.items.indexOf(t))&&(o.trigger("item_before_remove",t,s),s.remove(),s.hasClass("active")&&(s.removeClass("active"),i=o.$activeItems.indexOf(s[0]),o.$activeItems.splice(i,1),s.removeClass("active")),o.items.splice(n,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,e),n<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:e}),o.positionDropdown(),o.trigger("item_remove",t,s))},createItem:function(t,n){var i=this,o=i.caretPos,s=(t=t||(i.$control_input.val()||"").trim(),arguments[arguments.length-1]);if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return s(),!1;i.lock();var e,r,a="function"==typeof i.settings.create?this.settings.create:function(t){var e={},t=e[i.settings.labelField]=t;if(!i.settings.formatValueToKey||"function"!=typeof i.settings.formatValueToKey||null!=(t=i.settings.formatValueToKey.apply(this,[t]))&&"object"!=typeof t&&"function"!=typeof t)return e[i.settings.valueField]=t,e;throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.')},l=(r=!(e=function(t){var e;return i.unlock(),!t||"object"!=typeof t||"string"!=typeof(e=I(t[i.settings.valueField]))?s():(i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void s(t))}),function(){r||(r=!0,e.apply(this,arguments))}),a=a.apply(this,[t,l]);return void 0!==a&&l(a),!0},refreshItems:function(t){this.lastQuery=null,this.isSetup&&this.addItem(this.items,t),this.refreshState(),this.updateOriginalInput({silent:t})},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var t=this,e=t.isFull(),n=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!x.isEmptyObject(t.options)).toggleClass("has-items",0<t.items.length),t.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,s,r,a=this;t=t||{},1===a.tagType?(o=a.$input.find("option"),e=[],n=[],i=[],r=[],o.get().forEach(function(t){e.push(t.value)}),a.items.forEach(function(t){s=a.options[t][a.settings.labelField]||"",r.push(t),-1==e.indexOf(t)&&n.push('<option value="'+f(t)+'" selected="selected">'+f(s)+"</option>")}),i=e.filter(function(t){return r.indexOf(t)<0}).map(function(t){return'option[value="'+t+'"]'}),e.length-i.length+n.length!==0||a.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),a.$input.find(i.join(", ")).remove(),a.$input.append(n.join(""))):(a.$input.val(a.getValue()),a.$input.attr("value",a.$input.val())),a.isSetup&&!t.silent&&a.trigger("change",a.$input.val())},updatePlaceholder:function(){var t;this.settings.placeholder&&(t=this.$control_input,this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0}))},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.setupDropdownHeight(),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.isBlurring)&&t.$control_input[0].blur(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position(),t=(e.top+=t.outerHeight(!0),t[0].getBoundingClientRect().width);this.settings.minWidth&&this.settings.minWidth>t&&(t=this.settings.minWidth),this.$dropdown.css({width:t,top:e.top,left:e.left})},setupDropdownHeight:function(){if("object"==typeof this.settings.dropdownSize&&"auto"!==this.settings.dropdownSize.sizeType){var t=this.settings.dropdownSize.sizeValue;if("numberItems"===this.settings.dropdownSize.sizeType){for(var e=this.$dropdown_content.find("*").not(".optgroup, .highlight").not(this.settings.ignoreOnDropwdownHeight),n=0,i=0,o=0,s=0,r=0;r<t;r++){var a=x(e[r]);if(0===a.length)break;n+=a.outerHeight(!0),void 0===a.data("selectable")&&(a.hasClass("optgroup-header")&&(a=window.getComputedStyle(a.parent()[0],":before"))&&(i=a.marginTop?Number(a.marginTop.replace(/\W*(\w)\w*/g,"$1")):0,o=a.marginBottom?Number(a.marginBottom.replace(/\W*(\w)\w*/g,"$1")):0,s=a.borderTopWidth?Number(a.borderTopWidth.replace(/\W*(\w)\w*/g,"$1")):0),t++)}t=n+(this.$dropdown_content.css("padding-top")?Number(this.$dropdown_content.css("padding-top").replace(/\W*(\w)\w*/g,"$1")):0)+(this.$dropdown_content.css("padding-bottom")?Number(this.$dropdown_content.css("padding-bottom").replace(/\W*(\w)\w*/g,"$1")):0)+i+o+s+"px"}else if("fixedHeight"!==this.settings.dropdownSize.sizeType)return void console.warn('Selectize.js - Value of "sizeType" must be "fixedHeight" or "numberItems');this.$dropdown_content.css({height:t,maxHeight:"none"})}},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),t=t[0],n=this.buffer||this.$control[0];0===e?n.insertBefore(t,n.firstChild):n.insertBefore(t,n.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(t){var e,n,i,o,s,r=this,a=t&&8===t.keyCode?-1:1,l=v(r.$control_input[0]);if(r.$activeOption&&!r.settings.hideSelected&&(o=("string"==typeof r.settings.deselectBehavior&&"top"===r.settings.deselectBehavior?r.getFirstOption():r.getAdjacentOption(r.$activeOption,-1)).attr("data-value")),i=[],r.$activeItems.length){for(s=r.$control.children(".active:"+(0<a?"last":"first")),s=r.$control.children(":not(input)").index(s),0<a&&s++,e=0,n=r.$activeItems.length;e<n;e++)i.push(x(r.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(r.isFocused||"single"===r.settings.mode)&&r.items.length&&(a<0&&0===l.start&&0===l.length?i.push(r.items[r.caretPos-1]):0<a&&l.start===r.$control_input.val().length&&i.push(r.items[r.caretPos]));if(!i.length||"function"==typeof r.settings.onDelete&&!1===r.settings.onDelete.apply(r,[i]))return!1;for(void 0!==s&&r.setCaret(s);i.length;)r.removeItem(i.pop());return r.showInput(),r.positionDropdown(),r.refreshOptions(!0),o&&(t=r.getOption(o)).length&&r.setActiveOption(t),!0},advanceSelection:function(t,e){var n,i,o,s=this;0!==t&&(s.rtl&&(t*=-1),n=0<t?"last":"first",o=v(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(i=s.$control_input.val().length,(t<0?0!==o.start||0!==o.length:o.start!==i)||i||s.advanceCaret(t,e)):(o=s.$control.children(".active:"+n)).length&&(i=s.$control.children(":not(input)").index(o),s.setActiveItem(null),s.setCaret(0<t?i+1:i)))},advanceCaret:function(t,e){var n,i=this;0!==t&&(i.isShiftDown?(n=i.$control_input[0<t?"next":"prev"]()).length&&(i.hideInput(),i.setActiveItem(n),e)&&e.preventDefault():i.setCaret(i.caretPos+t))},setCaret:function(t){var e=this;if(t="single"===e.settings.mode?e.items.length:Math.max(0,Math.min(e.items.length,t)),!e.isPending)for(var n,i=e.$control.children(":not(input)"),o=0,s=i.length;o<s;o++)n=x(i[o]).detach(),o<t?e.$control_input.before(n):e.$control.append(n);e.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var t=this,e=t.eventNS,n=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--S.count&&S.$testInput&&(S.$testInput.remove(),S.$testInput=void 0),x(window).off(e),x(document).off(e),x(document.body).off(e),delete t.$input[0].selectize},render:function(t,e){var n,i,o="",s=!1,r=this;return(s="option"!==t&&"item"!==t?s:!!(n=I(e[r.settings.valueField])))&&(c(r.renderCache[t])||(r.renderCache[t]={}),r.renderCache[t].hasOwnProperty(n))?r.renderCache[t][n]:(o=x(r.settings.render[t].apply(this,[e,f])),"option"===t||"option_create"===t?e[r.settings.disabledField]||o.attr("data-selectable",""):"optgroup"===t&&(i=e[r.settings.optgroupValueField]||"",o.attr("data-group",i),e[r.settings.disabledField])&&o.attr("data-disabled",""),"option"!==t&&"item"!==t||o.attr("data-value",n||""),s&&(r.renderCache[t][n]=o[0]),o[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){var e;return!!this.settings.create&&(e=this.settings.createFilter,t.length)&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),S.count=0,S.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",setFirstOptionActive:!1,closeAfterSelect:!1,closeDropdownThreshold:250,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"",inputClass:"",dropdownClass:"",dropdownContentClass:"",dropdownParent:null,copyClassesToDropdown:!0,dropdownSize:{sizeType:"auto",sizeValue:"auto"},normalize:!1,ignoreOnDropwdownHeight:"img, i",render:{}},x.fn.selectize=function(d){function u(t,o){function e(t,e){t=x(t);var n,i=I(t.val());(i||v.allowEmptyOption)&&(l.hasOwnProperty(i)?e&&((n=l[i][$])?Array.isArray(n)?n.push(e):l[i][$]=[n,e]:l[i][$]=e):((n=p(t)||{})[y]=n[y]||t.text(),n[w]=n[w]||i,n[O]=n[O]||t.prop("disabled"),n[$]=n[$]||e,n.styles=t.attr("style")||"",n.classes=t.attr("class")||"",l[i]=n,a.push(n),t.is(":selected")&&o.items.push(i)))}var n,i,s,r,a=o.options,l={},p=function(t){var e=m&&t.attr(m),t=t.data(),n={};return"string"==typeof e&&e.length&&(!function(){try{JSON.parse(str)}catch(t){return!1}return!0}()?n[e]=e:Object.assign(n,JSON.parse(e))),Object.assign(n,t),n||null};for(o.maxItems=t.attr("multiple")?null:1,n=0,i=(r=t.children()).length;n<i;n++)if("optgroup"===(s=r[n].tagName.toLowerCase())){g=h=c=u=d=void 0;var d,u,c,h,g,f=r[n];for((c=(f=x(f)).attr("label"))&&((h=p(f)||{})[C]=c,h[b]=c,h[O]=f.prop("disabled"),o.optgroups.push(h)),d=0,u=(g=x("option",f)).length;d<u;d++)e(g[d],c)}else"option"===s&&e(r[n])}var c=x.fn.selectize.defaults,v=x.extend({},c,d),m=v.dataAttr,y=v.labelField,w=v.valueField,O=v.disabledField,$=v.optgroupField,C=v.optgroupLabelField,b=v.optgroupValueField;return this.each(function(){if(!this.selectize){var t=x(this),e=this.tagName.toLowerCase(),n=t.attr("placeholder")||t.attr("data-placeholder"),i=(n||v.allowEmptyOption||(n=t.children('option[value=""]').text()),v.allowEmptyOption&&v.showEmptyOptionInDropdown&&!t.children('option[value=""]').length&&(l=t.html(),i=f(v.emptyOptionLabel||"--"),t.html('<option value="">'+i+"</option>"+l)),{placeholder:n,options:[],optgroups:[],items:[]});if("select"===e)u(t,i);else{var o,s,r,a,l=t,p=i,n=l.attr(m);if(n)for(p.options=JSON.parse(n),o=0,s=p.options.length;o<s;o++)p.items.push(p.options[o][w]);else{n=(l.val()||"").trim();if(v.allowEmptyOption||n.length){for(o=0,s=(r=n.split(v.delimiter)).length;o<s;o++)(a={})[y]=r[o],a[w]=r[o],p.options.push(a);p.items=r}}}new S(t,x.extend(!0,{},c,i,d)).settings_user=d}})},x.fn.selectize.defaults=S.defaults,x.fn.selectize.support={validity:C},S.define("auto_position",function(){const o={top:"top",bottom:"bottom"};this.positionDropdown=function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position(),n=(e.top+=t.outerHeight(!0),this.$dropdown.prop("scrollHeight")+5),n=this.$control.get(0).getBoundingClientRect().top+n+this.$wrapper.height()>window.innerHeight?o.top:o.bottom,i={width:t.outerWidth(),left:e.left};n===o.top?(n={bottom:e.top,top:"unset"},"body"===this.settings.dropdownParent&&(n.top=e.top-this.$dropdown.outerHeight(!0)-t.outerHeight(!0),n.bottom="unset"),Object.assign(i,n),this.$dropdown.addClass("selectize-position-top"),this.$control.addClass("selectize-position-top")):(Object.assign(i,{top:e.top,bottom:"unset"}),this.$dropdown.removeClass("selectize-position-top"),this.$control.removeClass("selectize-position-top")),this.$dropdown.css(i)}}),S.define("auto_select_on_type",function(t){var n,i=this;i.onBlur=(n=i.onBlur,function(t){var e=i.getFirstItemMatchedByTextContent(i.lastValue,!0);return void 0!==e.attr("data-value")&&i.getValue()!==e.attr("data-value")&&i.setValue(e.attr("data-value")),n.apply(this,arguments)})}),S.define("autofill_disable",function(t){var e,n=this;n.setup=(e=n.setup,function(){e.apply(n,arguments),n.$control_input.attr({autocomplete:"new-password",autofill:"no"})})}),S.define("clear_button",function(e){var t,n=this;e=x.extend({title:"Clear",className:"clear",label:"Ã—",html:function(t){return'<a class="'+t.className+'" title="'+t.title+'"> '+t.label+"</a>"}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$button_clear=x(e.html(e)),"single"===n.settings.mode&&n.$wrapper.addClass("single"),n.$wrapper.append(n.$button_clear),""!==n.getValue()&&0!==n.getValue().length||n.$wrapper.find("."+e.className).css("display","none"),n.on("change",function(){""===n.getValue()||0===n.getValue().length?n.$wrapper.find("."+e.className).css("display","none"):n.$wrapper.find("."+e.className).css("display","")}),n.$wrapper.on("click","."+e.className,function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),n.isLocked||(n.clear(),n.$wrapper.find("."+e.className).css("display","none"))})})}),S.define("drag_drop",function(t){if(!x.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var i,e,n,o;"multi"===this.settings.mode&&((i=this).lock=(e=i.lock,function(){var t=i.$control.data("sortable");return t&&t.disable(),e.apply(i,arguments)}),i.unlock=(n=i.unlock,function(){var t=i.$control.data("sortable");return t&&t.enable(),n.apply(i,arguments)}),i.setup=(o=i.setup,function(){o.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.addClass("dragging")},stop:function(){n.removeClass("dragging");var t=i.$activeItems?i.$activeItems.slice():null,e=[];n.children("[data-value]").each(function(){e.push(x(this).attr("data-value"))}),i.isFocused=!1,i.setValue(e),i.isFocused=!0,i.setActiveItem(t),i.positionDropdown()}})}))}),S.define("dropdown_header",function(t){var e,n=this;t=x.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&#xd7;</a></div></div>'}},t),n.setup=(e=n.setup,function(){e.apply(n,arguments),n.$dropdown_header=x(t.html(t)),n.$dropdown.prepend(n.$dropdown_header),n.$dropdown_header.find("."+t.closeClass).on("click",function(){n.close()})})}),S.define("optgroup_columns",function(r){function t(){var t,e,n,i,o=x("[data-group]",a.$dropdown_content),s=o.length;if(s&&a.$dropdown_content.width()){if(r.equalizeHeight){for(t=e=0;t<s;t++)e=Math.max(e,o.eq(t).height());o.css({height:e})}r.equalizeWidth&&(i=a.$dropdown_content.innerWidth()-l(),n=Math.round(i/s),o.css({width:n}),1<s)&&(i=i-n*(s-1),o.eq(s-1).css({width:i}))}}var i,a=this,l=(r=x.extend({equalizeWidth:!0,equalizeHeight:!0},r),this.getAdjacentOption=function(t,e){var n=t.closest("[data-group]").find("[data-selectable]"),t=n.index(t)+e;return 0<=t&&t<n.length?n.eq(t):x()},this.onKeyDown=(i=a.onKeyDown,function(t){var e,n;if(!this.isOpen||37!==t.keyCode&&39!==t.keyCode)return i.apply(this,arguments);a.ignoreHover=!0,e=(n=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),(n=(t=(n=37===t.keyCode?n.prev("[data-group]"):n.next("[data-group]")).find("[data-selectable]")).eq(Math.min(t.length-1,e))).length&&this.setActiveOption(n)}),function(){var t,e=l.width,n=document;return void 0===e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=l.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e});(r.equalizeHeight||r.equalizeWidth)&&(b.after(this,"positionDropdown",t),b.after(this,"refreshOptions",t))}),S.define("remove_button",function(t){var s,e,n,i,r;"single"!==this.settings.mode&&(t=x.extend({label:"&#xd7;",title:"Remove",className:"remove",append:!0},t),i=s=this,r='<a href="javascript:void(0)" class="'+(e=t).className+'" tabindex="-1" title="'+f(e.title)+'">'+e.label+"</a>",s.setup=(n=i.setup,function(){var o;e.append&&(o=i.settings.render.item,i.settings.render.item=function(t){return e=o.apply(s,arguments),n=r,i=e.search(/(<\/[^>]+>\s*)$/),e.substring(0,i)+n+e.substring(i);var e,n,i}),n.apply(s,arguments),s.$control.on("click","."+e.className,function(t){if(t.preventDefault(),!i.isLocked)return t=x(t.currentTarget).parent(),i.setActiveItem(t),i.deleteSelection()&&i.setCaret(i.items.length),!1})}))}),S.define("restore_on_backspace",function(n){var i,t=this;n.text=n.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(i=t.onKeyDown,function(t){var e;if(!(8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(e=this.caretPos-1)&&e<this.items.length))return i.apply(this,arguments);e=this.options[this.items[e]],this.deleteSelection(t)&&(this.setTextboxValue(n.text.apply(this,[e])),this.refreshOptions(!0)),t.preventDefault()})}),S.define("select_on_focus",function(t){var n,e,i=this;i.on("focus",(n=i.onFocus,function(t){var e=i.getItem(i.getValue()).text();return i.clear(),i.setTextboxValue(e),i.$control_input.select(),setTimeout(function(){i.settings.selectOnTab&&i.setActiveOption(i.getFirstItemMatchedByTextContent(e)),i.settings.score=null},0),n.apply(this,arguments)})),i.onBlur=(e=i.onBlur,function(t){return""===i.getValue()&&i.lastValidValue!==i.getValue()&&i.setValue(i.lastValidValue),setTimeout(function(){i.settings.score=function(){return function(){return 1}}},0),e.apply(this,arguments)}),i.settings.score=function(){return function(){return 1}}}),S.define("tag_limit",function(o){const t=this;o.tagLimit=o.tagLimit,this.onBlur=function(){const i=t.onBlur;return function(t){if(i.apply(this,t),t){var t=this.$control,e=t.find(".item");const n=o.tagLimit;void 0===n||e.length<=n||(e.toArray().forEach(function(t,e){e<n||x(t).hide()}),t.append("<span><b>"+(e.length-n)+"</b></span>"))}}}(),this.onFocus=function(){const e=t.onFocus;return function(t){e.apply(this,t),t&&((t=this.$control).find(".item").show(),t.find("span").remove())}}()}),S});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0aXplLm1pbi5qcyIsInNvdXJjZXMiOlsic2VsZWN0aXplLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgfSBlbHNlIHtcbiAgICByb290LlNlbGVjdGl6ZSA9IGZhY3Rvcnkocm9vdC5qUXVlcnkpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0Jztcbi8qKlxuICogaGlnaGxpZ2h0IHYzIHwgTUlUIGxpY2Vuc2UgfCBKb2hhbm4gQnVya2FyZCA8amJAZWFpby5jb20+XG4gKiBIaWdobGlnaHRzIGFyYml0cmFyeSB0ZXJtcyBpbiBhIG5vZGUuXG4gKlxuICogLSBNb2RpZmllZCBieSBNYXJzaGFsIDxiZWF0Z2F0ZXNAZ21haWwuY29tPiAyMDExLTYtMjQgKGFkZGVkIHJlZ2V4KVxuICogLSBNb2RpZmllZCBieSBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPiAyMDEyLTgtMjcgKGNsZWFudXApXG4gKi9cblxudmFyIGhpZ2hsaWdodCA9IGZ1bmN0aW9uICgkZWxlbWVudCwgcGF0dGVybikge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnICYmICFwYXR0ZXJuLmxlbmd0aCkgcmV0dXJuO1xuICB2YXIgcmVnZXggPSAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSA/IG5ldyBSZWdFeHAocGF0dGVybiwgJ2knKSA6IHBhdHRlcm47XG5cbiAgdmFyIGhpZ2hsaWdodCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIHNraXAgPSAwO1xuICAgIC8vIFdyYXAgbWF0Y2hpbmcgcGFydCBvZiB0ZXh0IG5vZGUgd2l0aCBoaWdobGlnaHRpbmcgPHNwYW4+LCBlLmcuXG4gICAgLy8gU29jY2VyICAtPiAgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj5Tb2M8L3NwYW4+Y2VyICBmb3IgcmVnZXggPSAvc29jL2lcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgdmFyIHBvcyA9IG5vZGUuZGF0YS5zZWFyY2gocmVnZXgpO1xuICAgICAgaWYgKHBvcyA+PSAwICYmIG5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IG5vZGUuZGF0YS5tYXRjaChyZWdleCk7XG4gICAgICAgIHZhciBzcGFubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbm5vZGUuY2xhc3NOYW1lID0gJ2hpZ2hsaWdodCc7XG4gICAgICAgIHZhciBtaWRkbGViaXQgPSBub2RlLnNwbGl0VGV4dChwb3MpO1xuICAgICAgICB2YXIgZW5kYml0ID0gbWlkZGxlYml0LnNwbGl0VGV4dChtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICB2YXIgbWlkZGxlY2xvbmUgPSBtaWRkbGViaXQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBzcGFubm9kZS5hcHBlbmRDaGlsZChtaWRkbGVjbG9uZSk7XG4gICAgICAgIG1pZGRsZWJpdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzcGFubm9kZSwgbWlkZGxlYml0KTtcbiAgICAgICAgc2tpcCA9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlY3Vyc2UgZWxlbWVudCBub2RlLCBsb29raW5nIGZvciBjaGlsZCB0ZXh0IG5vZGVzIHRvIGhpZ2hsaWdodCwgdW5sZXNzIGVsZW1lbnRcbiAgICAvLyBpcyBjaGlsZGxlc3MsIDxzY3JpcHQ+LCA8c3R5bGU+LCBvciBhbHJlYWR5IGhpZ2hsaWdodGVkOiA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPlxuICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS5jaGlsZE5vZGVzICYmICEvKHNjcmlwdHxzdHlsZSkvaS50ZXN0KG5vZGUudGFnTmFtZSkgJiYgKG5vZGUuY2xhc3NOYW1lICE9PSAnaGlnaGxpZ2h0JyB8fCBub2RlLnRhZ05hbWUgIT09ICdTUEFOJykpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGkgKz0gaGlnaGxpZ2h0KG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBza2lwO1xuICB9O1xuXG4gIHJldHVybiAkZWxlbWVudC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBoaWdobGlnaHQodGhpcyk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiByZW1vdmVIaWdobGlnaHQgZm4gY29waWVkIGZyb20gaGlnaGxpZ2h0IHY1IGFuZFxuICogZWRpdGVkIHRvIHJlbW92ZSB3aXRoKCkgYW5kIHBhc3MganMgc3RyaWN0IG1vZGVcbiAqL1xuJC5mbi5yZW1vdmVIaWdobGlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoXCJzcGFuLmhpZ2hsaWdodFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZTtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQodGhpcy5maXJzdENoaWxkLCB0aGlzKTtcbiAgICBwYXJlbnQubm9ybWFsaXplKCk7XG4gIH0pLmVuZCgpO1xufTtcblxuLyoqXG4gKiBNaWNyb0V2ZW50IC0gdG8gbWFrZSBhbnkganMgb2JqZWN0IGFuIGV2ZW50IGVtaXR0ZXJcbiAqXG4gKiAtIHB1cmUgamF2YXNjcmlwdCAtIHNlcnZlciBjb21wYXRpYmxlLCBicm93c2VyIGNvbXBhdGlibGVcbiAqIC0gZG9uJ3QgcmVseSBvbiB0aGUgYnJvd3NlciBkb21zXG4gKiAtIHN1cGVyIHNpbXBsZSAtIHlvdSBnZXQgaXQgaW1tZWRpYXRlbHksIG5vIG15c3RlcnksIG5vIG1hZ2ljIGludm9sdmVkXG4gKlxuICogQGF1dGhvciBKZXJvbWUgRXRpZW5uZSAoaHR0cHM6Ly9naXRodWIuY29tL2plcm9tZWV0aWVubmUpXG4gKi9cblxudmFyIE1pY3JvRXZlbnQgPSBmdW5jdGlvbiAoKSB7IH07XG5NaWNyb0V2ZW50LnByb3RvdHlwZSA9IHtcbiAgb246IGZ1bmN0aW9uIChldmVudCwgZmN0KSB7XG4gICAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAgIHRoaXMuX2V2ZW50c1tldmVudF0gPSB0aGlzLl9ldmVudHNbZXZlbnRdIHx8IFtdO1xuICAgIHRoaXMuX2V2ZW50c1tldmVudF0ucHVzaChmY3QpO1xuICB9LFxuICBvZmY6IGZ1bmN0aW9uIChldmVudCwgZmN0KSB7XG4gICAgdmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChuID09PSAwKSByZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50cztcbiAgICBpZiAobiA9PT0gMSkgcmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuXG4gICAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAgIGlmIChldmVudCBpbiB0aGlzLl9ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XG4gICAgdGhpcy5fZXZlbnRzW2V2ZW50XS5zcGxpY2UodGhpcy5fZXZlbnRzW2V2ZW50XS5pbmRleE9mKGZjdCksIDEpO1xuICB9LFxuICB0cmlnZ2VyOiBmdW5jdGlvbiAoZXZlbnQgLyogLCBhcmdzLi4uICovKSB7XG4gICAgY29uc3QgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAgIGlmIChldmVudCBpbiBldmVudHMgPT09IGZhbHNlKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHNbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBldmVudHNbZXZlbnRdW2ldLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBNaXhpbiB3aWxsIGRlbGVnYXRlIGFsbCBNaWNyb0V2ZW50LmpzIGZ1bmN0aW9uIGluIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKlxuICogLSBNaWNyb0V2ZW50Lm1peGluKEZvb2Jhcikgd2lsbCBtYWtlIEZvb2JhciBhYmxlIHRvIHVzZSBNaWNyb0V2ZW50XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHRoZSBvYmplY3Qgd2hpY2ggd2lsbCBzdXBwb3J0IE1pY3JvRXZlbnRcbiAqL1xuTWljcm9FdmVudC5taXhpbiA9IGZ1bmN0aW9uIChkZXN0T2JqZWN0KSB7XG4gIHZhciBwcm9wcyA9IFsnb24nLCAnb2ZmJywgJ3RyaWdnZXInXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIGRlc3RPYmplY3QucHJvdG90eXBlW3Byb3BzW2ldXSA9IE1pY3JvRXZlbnQucHJvdG90eXBlW3Byb3BzW2ldXTtcbiAgfVxufTtcblxuLyoqXG4gKiBtaWNyb3BsdWdpbi5qc1xuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICogQ29weXJpZ2h0IChjKSAyMDIyIFNlbGVjdGl6ZSBUZWFtICYgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cbiAqIEBhdXRob3IgUmlzIEFkYW1zIDxzZWxlY3RpemVAcmlzYWRhbXMuY29tPlxuICovXG5cbnZhciBNaWNyb1BsdWdpbiA9IHt9O1xuTWljcm9QbHVnaW4ubWl4aW4gPSBmdW5jdGlvbiAoSW50ZXJmYWNlKSB7XG4gIEludGVyZmFjZS5wbHVnaW5zID0ge307XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBsaXN0ZWQgcGx1Z2lucyAod2l0aCBvcHRpb25zKS5cbiAgICogQWNjZXB0YWJsZSBmb3JtYXRzOlxuICAgKlxuICAgKiBMaXN0ICh3aXRob3V0IG9wdGlvbnMpOlxuICAgKiAgIFsnYScsICdiJywgJ2MnXVxuICAgKlxuICAgKiBMaXN0ICh3aXRoIG9wdGlvbnMpOlxuICAgKiAgIFt7J25hbWUnOiAnYScsIG9wdGlvbnM6IHt9fSwgeyduYW1lJzogJ2InLCBvcHRpb25zOiB7fX1dXG4gICAqXG4gICAqIEhhc2ggKHdpdGggb3B0aW9ucyk6XG4gICAqICAgeydhJzogeyAuLi4gfSwgJ2InOiB7IC4uLiB9LCAnYyc6IHsgLi4uIH19XG4gICAqXG4gICAqIEBwYXJhbSB7bWl4ZWR9IHBsdWdpbnNcbiAgICovXG4gIEludGVyZmFjZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVBsdWdpbnMgPSBmdW5jdGlvbiAocGx1Z2lucykge1xuICAgIHZhciBpLCBuLCBrZXk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBxdWV1ZSA9IFtdO1xuXG4gICAgc2VsZi5wbHVnaW5zID0ge1xuICAgICAgbmFtZXM6IFtdLFxuICAgICAgc2V0dGluZ3M6IHt9LFxuICAgICAgcmVxdWVzdGVkOiB7fSxcbiAgICAgIGxvYWRlZDoge31cbiAgICB9O1xuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXkocGx1Z2lucykpIHtcbiAgICAgIGZvciAoaSA9IDAsIG4gPSBwbHVnaW5zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIHBsdWdpbnNbaV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcXVldWUucHVzaChwbHVnaW5zW2ldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnBsdWdpbnMuc2V0dGluZ3NbcGx1Z2luc1tpXS5uYW1lXSA9IHBsdWdpbnNbaV0ub3B0aW9ucztcbiAgICAgICAgICBxdWV1ZS5wdXNoKHBsdWdpbnNbaV0ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBsdWdpbnMpIHtcbiAgICAgIGZvciAoa2V5IGluIHBsdWdpbnMpIHtcbiAgICAgICAgaWYgKHBsdWdpbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHNlbGYucGx1Z2lucy5zZXR0aW5nc1trZXldID0gcGx1Z2luc1trZXldO1xuICAgICAgICAgIHF1ZXVlLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHNlbGYucmVxdWlyZShxdWV1ZS5zaGlmdCgpKTtcbiAgICB9XG4gIH07XG5cbiAgSW50ZXJmYWNlLnByb3RvdHlwZS5sb2FkUGx1Z2luID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHBsdWdpbnMgPSBzZWxmLnBsdWdpbnM7XG4gICAgdmFyIHBsdWdpbiA9IEludGVyZmFjZS5wbHVnaW5zW25hbWVdO1xuXG4gICAgaWYgKCFJbnRlcmZhY2UucGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBcIicgKyBuYW1lICsgJ1wiIHBsdWdpbicpO1xuICAgIH1cblxuICAgIHBsdWdpbnMucmVxdWVzdGVkW25hbWVdID0gdHJ1ZTtcbiAgICBwbHVnaW5zLmxvYWRlZFtuYW1lXSA9IHBsdWdpbi5mbi5hcHBseShzZWxmLCBbc2VsZi5wbHVnaW5zLnNldHRpbmdzW25hbWVdIHx8IHt9XSk7XG4gICAgcGx1Z2lucy5uYW1lcy5wdXNoKG5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBhIHBsdWdpbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG4gIEludGVyZmFjZS5wcm90b3R5cGUucmVxdWlyZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwbHVnaW5zID0gc2VsZi5wbHVnaW5zO1xuXG4gICAgaWYgKCFzZWxmLnBsdWdpbnMubG9hZGVkLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBpZiAocGx1Z2lucy5yZXF1ZXN0ZWRbbmFtZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gaGFzIGNpcmN1bGFyIGRlcGVuZGVuY3kgKFwiJyArIG5hbWUgKyAnXCIpJyk7XG4gICAgICB9XG4gICAgICBzZWxmLmxvYWRQbHVnaW4obmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBsdWdpbnMubG9hZGVkW25hbWVdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBwbHVnaW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gICAqL1xuICBJbnRlcmZhY2UuZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIGZuKSB7XG4gICAgSW50ZXJmYWNlLnBsdWdpbnNbbmFtZV0gPSB7XG4gICAgICAnbmFtZSc6IG5hbWUsXG4gICAgICAnZm4nOiBmblxuICAgIH07XG4gIH07XG59O1xuXG52YXIgdXRpbHMgPSB7XG4gIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHZBcmcpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZBcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9XG59O1xuXG5cbi8qKlxuICogc2lmdGVyLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTPigJMyMDIwIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuKiBDb3B5cmlnaHQgKGMpIDIwMjIgU2VsZWN0aXplIFRlYW0gJiBjb250cmlidXRvcnNcbipcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBAYXV0aG9yIEJyaWFuIFJlYXZpcyA8YnJpYW5AdGhpcmRyb3V0ZS5jb20+XG4gKiBAYXV0aG9yIFJpcyBBZGFtcyA8c2VsZWN0aXplQHJpc2FkYW1zLmNvbT5cbiAqL1xuXG4vKipcbiAqIFRleHR1YWxseSBzZWFyY2hlcyBhcnJheXMgYW5kIGhhc2hlcyBvZiBvYmplY3RzXG4gKiBieSBwcm9wZXJ0eSAob3IgbXVsdGlwbGUgcHJvcGVydGllcykuIERlc2lnbmVkXG4gKiBzcGVjaWZpY2FsbHkgZm9yIGF1dG9jb21wbGV0ZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBpdGVtc1xuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1zXG4gKi9cbnZhciBTaWZ0ZXIgPSBmdW5jdGlvbiAoaXRlbXMsIHNldHRpbmdzKSB7XG4gIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIHx8IHsgZGlhY3JpdGljczogdHJ1ZSB9O1xufTtcblxuLyoqXG4gKiBTcGxpdHMgYSBzZWFyY2ggc3RyaW5nIGludG8gYW4gYXJyYXkgb2YgaW5kaXZpZHVhbFxuICogcmVnZXhwcyB0byBiZSB1c2VkIHRvIG1hdGNoIHJlc3VsdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG4gKiBAcmV0dXJucyB7YXJyYXl9XG4gKi9cblNpZnRlci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbiAocXVlcnksIHJlc3BlY3Rfd29yZF9ib3VuZGFyaWVzKSB7XG4gIHF1ZXJ5ID0gdHJpbShTdHJpbmcocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCkpO1xuICBpZiAoIXF1ZXJ5IHx8ICFxdWVyeS5sZW5ndGgpIHJldHVybiBbXTtcblxuICB2YXIgaSwgbiwgcmVnZXgsIGxldHRlcjtcbiAgdmFyIHRva2VucyA9IFtdO1xuICB2YXIgd29yZHMgPSBxdWVyeS5zcGxpdCgvICsvKTtcblxuICBmb3IgKGkgPSAwLCBuID0gd29yZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgcmVnZXggPSBlc2NhcGVfcmVnZXgod29yZHNbaV0pO1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmRpYWNyaXRpY3MpIHtcbiAgICAgIGZvciAobGV0dGVyIGluIERJQUNSSVRJQ1MpIHtcbiAgICAgICAgaWYgKERJQUNSSVRJQ1MuaGFzT3duUHJvcGVydHkobGV0dGVyKSkge1xuICAgICAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuZXcgUmVnRXhwKGxldHRlciwgJ2cnKSwgRElBQ1JJVElDU1tsZXR0ZXJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzcGVjdF93b3JkX2JvdW5kYXJpZXMpIHJlZ2V4ID0gXCJcXFxcYlwiICsgcmVnZXhcbiAgICB0b2tlbnMucHVzaCh7XG4gICAgICBzdHJpbmc6IHdvcmRzW2ldLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAocmVnZXgsICdpJylcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59O1xuXG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgYXJyYXlzIGFuZCBoYXNoZXMuXG4gKlxuICogYGBgXG4gKiB0aGlzLml0ZXJhdG9yKHRoaXMuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XG4gKiAgICAvLyBpbnZva2VkIGZvciBlYWNoIGl0ZW1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHthcnJheXxvYmplY3R9IG9iamVjdFxuICovXG5TaWZ0ZXIucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgdmFyIGl0ZXJhdG9yO1xuICBpZiAoaXNfYXJyYXkob2JqZWN0KSkge1xuICAgIGl0ZXJhdG9yID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2ggfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbiA9IHRoaXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXNbaV0sIGksIHRoaXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgaXRlcmF0b3IgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBjYWxsYmFjayh0aGlzW2tleV0sIGtleSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaXRlcmF0b3IuYXBwbHkob2JqZWN0LCBbY2FsbGJhY2tdKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIHVzZWQgdG8gc2NvcmUgaW5kaXZpZHVhbCByZXN1bHRzLlxuICpcbiAqIEdvb2QgbWF0Y2hlcyB3aWxsIGhhdmUgYSBoaWdoZXIgc2NvcmUgdGhhbiBwb29yIG1hdGNoZXMuXG4gKiBJZiBhbiBpdGVtIGlzIG5vdCBhIG1hdGNoLCAwIHdpbGwgYmUgcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fHN0cmluZ30gc2VhcmNoXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAob3B0aW9uYWwpXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cblNpZnRlci5wcm90b3R5cGUuZ2V0U2NvcmVGdW5jdGlvbiA9IGZ1bmN0aW9uIChzZWFyY2gsIG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYsIGZpZWxkcywgdG9rZW5zLCB0b2tlbl9jb3VudCwgbmVzdGluZztcblxuICBzZWxmID0gdGhpcztcbiAgc2VhcmNoID0gc2VsZi5wcmVwYXJlU2VhcmNoKHNlYXJjaCwgb3B0aW9ucyk7XG4gIHRva2VucyA9IHNlYXJjaC50b2tlbnM7XG4gIGZpZWxkcyA9IHNlYXJjaC5vcHRpb25zLmZpZWxkcztcbiAgdG9rZW5fY291bnQgPSB0b2tlbnMubGVuZ3RoO1xuICBuZXN0aW5nID0gc2VhcmNoLm9wdGlvbnMubmVzdGluZztcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBob3cgY2xvc2Ugb2YgYSBtYXRjaCB0aGVcbiAgICogZ2l2ZW4gdmFsdWUgaXMgYWdhaW5zdCBhIHNlYXJjaCB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHttaXhlZH0gdmFsdWVcbiAgICogQHBhcmFtIHtvYmplY3R9IHRva2VuXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHZhciBzY29yZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCB0b2tlbikge1xuICAgIHZhciBzY29yZSwgcG9zO1xuXG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIDA7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUgfHwgJycpO1xuICAgIHBvcyA9IHZhbHVlLnNlYXJjaCh0b2tlbi5yZWdleCk7XG4gICAgaWYgKHBvcyA9PT0gLTEpIHJldHVybiAwO1xuICAgIHNjb3JlID0gdG9rZW4uc3RyaW5nLmxlbmd0aCAvIHZhbHVlLmxlbmd0aDtcbiAgICBpZiAocG9zID09PSAwKSBzY29yZSArPSAwLjU7XG4gICAgcmV0dXJuIHNjb3JlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzY29yZSBvZiBhbiBvYmplY3RcbiAgICogYWdhaW5zdCB0aGUgc2VhcmNoIHF1ZXJ5LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gdG9rZW5cbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgdmFyIHNjb3JlT2JqZWN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZmllbGRfY291bnQgPSBmaWVsZHMubGVuZ3RoO1xuICAgIGlmICghZmllbGRfY291bnQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9O1xuICAgIH1cbiAgICBpZiAoZmllbGRfY291bnQgPT09IDEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodG9rZW4sIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHNjb3JlVmFsdWUoZ2V0YXR0cihkYXRhLCBmaWVsZHNbMF0sIG5lc3RpbmcpLCB0b2tlbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRva2VuLCBkYXRhKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgc3VtID0gMDsgaSA8IGZpZWxkX2NvdW50OyBpKyspIHtcbiAgICAgICAgc3VtICs9IHNjb3JlVmFsdWUoZ2V0YXR0cihkYXRhLCBmaWVsZHNbaV0sIG5lc3RpbmcpLCB0b2tlbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VtIC8gZmllbGRfY291bnQ7XG4gICAgfTtcbiAgfSkoKTtcblxuICBpZiAoIXRva2VuX2NvdW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH07XG4gIH1cbiAgaWYgKHRva2VuX2NvdW50ID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICByZXR1cm4gc2NvcmVPYmplY3QodG9rZW5zWzBdLCBkYXRhKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHNlYXJjaC5vcHRpb25zLmNvbmp1bmN0aW9uID09PSAnYW5kJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIHNjb3JlO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XG4gICAgICAgIHNjb3JlID0gc2NvcmVPYmplY3QodG9rZW5zW2ldLCBkYXRhKTtcbiAgICAgICAgaWYgKHNjb3JlIDw9IDApIHJldHVybiAwO1xuICAgICAgICBzdW0gKz0gc2NvcmU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VtIC8gdG9rZW5fY291bnQ7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBzdW0gPSAwOyBpIDwgdG9rZW5fY291bnQ7IGkrKykge1xuICAgICAgICBzdW0gKz0gc2NvcmVPYmplY3QodG9rZW5zW2ldLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdW0gLyB0b2tlbl9jb3VudDtcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbXBhcmUgdHdvXG4gKiByZXN1bHRzLCBmb3Igc29ydGluZyBwdXJwb3Nlcy4gSWYgbm8gc29ydGluZyBzaG91bGRcbiAqIGJlIHBlcmZvcm1lZCwgYG51bGxgIHdpbGwgYmUgcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzZWFyY2hcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIGZ1bmN0aW9uKGEsYilcbiAqL1xuU2lmdGVyLnByb3RvdHlwZS5nZXRTb3J0RnVuY3Rpb24gPSBmdW5jdGlvbiAoc2VhcmNoLCBvcHRpb25zKSB7XG4gIHZhciBpLCBuLCBzZWxmLCBmaWVsZCwgZmllbGRzLCBmaWVsZHNfY291bnQsIG11bHRpcGxpZXIsIG11bHRpcGxpZXJzLCBnZXRfZmllbGQsIGltcGxpY2l0X3Njb3JlLCBzb3J0O1xuXG4gIHNlbGYgPSB0aGlzO1xuICBzZWFyY2ggPSBzZWxmLnByZXBhcmVTZWFyY2goc2VhcmNoLCBvcHRpb25zKTtcbiAgc29ydCA9ICghc2VhcmNoLnF1ZXJ5ICYmIG9wdGlvbnMuc29ydF9lbXB0eSkgfHwgb3B0aW9ucy5zb3J0O1xuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSBzcGVjaWZpZWQgc29ydCBmaWVsZCB2YWx1ZVxuICAgKiBmcm9tIGEgc2VhcmNoIHJlc3VsdCBpdGVtLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtICB7b2JqZWN0fSByZXN1bHRcbiAgICogQHJldHVybiB7bWl4ZWR9XG4gICAqL1xuICBnZXRfZmllbGQgPSBmdW5jdGlvbiAobmFtZSwgcmVzdWx0KSB7XG4gICAgaWYgKG5hbWUgPT09ICckc2NvcmUnKSByZXR1cm4gcmVzdWx0LnNjb3JlO1xuICAgIHJldHVybiBnZXRhdHRyKHNlbGYuaXRlbXNbcmVzdWx0LmlkXSwgbmFtZSwgb3B0aW9ucy5uZXN0aW5nKTtcbiAgfTtcblxuICAvLyBwYXJzZSBvcHRpb25zXG4gIGZpZWxkcyA9IFtdO1xuICBpZiAoc29ydCkge1xuICAgIGZvciAoaSA9IDAsIG4gPSBzb3J0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgaWYgKHNlYXJjaC5xdWVyeSB8fCBzb3J0W2ldLmZpZWxkICE9PSAnJHNjb3JlJykge1xuICAgICAgICBmaWVsZHMucHVzaChzb3J0W2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyB0aGUgXCIkc2NvcmVcIiBmaWVsZCBpcyBpbXBsaWVkIHRvIGJlIHRoZSBwcmltYXJ5XG4gIC8vIHNvcnQgZmllbGQsIHVubGVzcyBpdCdzIG1hbnVhbGx5IHNwZWNpZmllZFxuICBpZiAoc2VhcmNoLnF1ZXJ5KSB7XG4gICAgaW1wbGljaXRfc2NvcmUgPSB0cnVlO1xuICAgIGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBpZiAoZmllbGRzW2ldLmZpZWxkID09PSAnJHNjb3JlJykge1xuICAgICAgICBpbXBsaWNpdF9zY29yZSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGltcGxpY2l0X3Njb3JlKSB7XG4gICAgICBmaWVsZHMudW5zaGlmdCh7IGZpZWxkOiAnJHNjb3JlJywgZGlyZWN0aW9uOiAnZGVzYycgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBpZiAoZmllbGRzW2ldLmZpZWxkID09PSAnJHNjb3JlJykge1xuICAgICAgICBmaWVsZHMuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtdWx0aXBsaWVycyA9IFtdO1xuICBmb3IgKGkgPSAwLCBuID0gZmllbGRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgIG11bHRpcGxpZXJzLnB1c2goZmllbGRzW2ldLmRpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgfVxuXG4gIC8vIGJ1aWxkIGZ1bmN0aW9uXG4gIGZpZWxkc19jb3VudCA9IGZpZWxkcy5sZW5ndGg7XG4gIGlmICghZmllbGRzX2NvdW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoZmllbGRzX2NvdW50ID09PSAxKSB7XG4gICAgZmllbGQgPSBmaWVsZHNbMF0uZmllbGQ7XG4gICAgbXVsdGlwbGllciA9IG11bHRpcGxpZXJzWzBdO1xuICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBjbXAoXG4gICAgICAgIGdldF9maWVsZChmaWVsZCwgYSksXG4gICAgICAgIGdldF9maWVsZChmaWVsZCwgYilcbiAgICAgICk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZhciBpLCByZXN1bHQsIGFfdmFsdWUsIGJfdmFsdWUsIGZpZWxkO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGZpZWxkc19jb3VudDsgaSsrKSB7XG4gICAgICAgIGZpZWxkID0gZmllbGRzW2ldLmZpZWxkO1xuICAgICAgICByZXN1bHQgPSBtdWx0aXBsaWVyc1tpXSAqIGNtcChcbiAgICAgICAgICBnZXRfZmllbGQoZmllbGQsIGEpLFxuICAgICAgICAgIGdldF9maWVsZChmaWVsZCwgYilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogUGFyc2VzIGEgc2VhcmNoIHF1ZXJ5IGFuZCByZXR1cm5zIGFuIG9iamVjdFxuICogd2l0aCB0b2tlbnMgYW5kIGZpZWxkcyByZWFkeSB0byBiZSBwb3B1bGF0ZWRcbiAqIHdpdGggcmVzdWx0cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5TaWZ0ZXIucHJvdG90eXBlLnByZXBhcmVTZWFyY2ggPSBmdW5jdGlvbiAocXVlcnksIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcpIHJldHVybiBxdWVyeTtcblxuICBvcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcblxuICB2YXIgb3B0aW9uX2ZpZWxkcyA9IG9wdGlvbnMuZmllbGRzO1xuICB2YXIgb3B0aW9uX3NvcnQgPSBvcHRpb25zLnNvcnQ7XG4gIHZhciBvcHRpb25fc29ydF9lbXB0eSA9IG9wdGlvbnMuc29ydF9lbXB0eTtcblxuICBpZiAob3B0aW9uX2ZpZWxkcyAmJiAhaXNfYXJyYXkob3B0aW9uX2ZpZWxkcykpIG9wdGlvbnMuZmllbGRzID0gW29wdGlvbl9maWVsZHNdO1xuICBpZiAob3B0aW9uX3NvcnQgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0KSkgb3B0aW9ucy5zb3J0ID0gW29wdGlvbl9zb3J0XTtcbiAgaWYgKG9wdGlvbl9zb3J0X2VtcHR5ICYmICFpc19hcnJheShvcHRpb25fc29ydF9lbXB0eSkpIG9wdGlvbnMuc29ydF9lbXB0eSA9IFtvcHRpb25fc29ydF9lbXB0eV07XG5cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgIHF1ZXJ5OiBTdHJpbmcocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCksXG4gICAgdG9rZW5zOiB0aGlzLnRva2VuaXplKHF1ZXJ5LCBvcHRpb25zLnJlc3BlY3Rfd29yZF9ib3VuZGFyaWVzKSxcbiAgICB0b3RhbDogMCxcbiAgICBpdGVtczogW11cbiAgfTtcbn07XG5cbi8qKlxuICogU2VhcmNoZXMgdGhyb3VnaCBhbGwgaXRlbXMgYW5kIHJldHVybnMgYSBzb3J0ZWQgYXJyYXkgb2YgbWF0Y2hlcy5cbiAqXG4gKiBUaGUgYG9wdGlvbnNgIHBhcmFtZXRlciBjYW4gY29udGFpbjpcbiAqXG4gKiAgIC0gZmllbGRzIHtzdHJpbmd8YXJyYXl9XG4gKiAgIC0gc29ydCB7YXJyYXl9XG4gKiAgIC0gc2NvcmUge2Z1bmN0aW9ufVxuICogICAtIGZpbHRlciB7Ym9vbH1cbiAqICAgLSBsaW1pdCB7aW50ZWdlcn1cbiAqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxuICpcbiAqICAgLSBvcHRpb25zIHtvYmplY3R9XG4gKiAgIC0gcXVlcnkge3N0cmluZ31cbiAqICAgLSB0b2tlbnMge2FycmF5fVxuICogICAtIHRvdGFsIHtpbnR9XG4gKiAgIC0gaXRlbXMge2FycmF5fVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblNpZnRlci5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcywgdmFsdWUsIHNjb3JlLCBzZWFyY2gsIGNhbGN1bGF0ZVNjb3JlO1xuICB2YXIgZm5fc29ydDtcbiAgdmFyIGZuX3Njb3JlO1xuXG4gIHNlYXJjaCA9IHRoaXMucHJlcGFyZVNlYXJjaChxdWVyeSwgb3B0aW9ucyk7XG4gIG9wdGlvbnMgPSBzZWFyY2gub3B0aW9ucztcbiAgcXVlcnkgPSBzZWFyY2gucXVlcnk7XG5cbiAgLy8gZ2VuZXJhdGUgcmVzdWx0IHNjb3JpbmcgZnVuY3Rpb25cbiAgZm5fc2NvcmUgPSBvcHRpb25zLnNjb3JlIHx8IHNlbGYuZ2V0U2NvcmVGdW5jdGlvbihzZWFyY2gpO1xuXG4gIC8vIHBlcmZvcm0gc2VhcmNoIGFuZCBzb3J0XG4gIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICBzZWxmLml0ZXJhdG9yKHNlbGYuaXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpZCkge1xuICAgICAgc2NvcmUgPSBmbl9zY29yZShpdGVtKTtcbiAgICAgIGlmIChvcHRpb25zLmZpbHRlciA9PT0gZmFsc2UgfHwgc2NvcmUgPiAwKSB7XG4gICAgICAgIHNlYXJjaC5pdGVtcy5wdXNoKHsgJ3Njb3JlJzogc2NvcmUsICdpZCc6IGlkIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuaXRlcmF0b3Ioc2VsZi5pdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGlkKSB7XG4gICAgICBzZWFyY2guaXRlbXMucHVzaCh7ICdzY29yZSc6IDEsICdpZCc6IGlkIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZm5fc29ydCA9IHNlbGYuZ2V0U29ydEZ1bmN0aW9uKHNlYXJjaCwgb3B0aW9ucyk7XG4gIGlmIChmbl9zb3J0KSBzZWFyY2guaXRlbXMuc29ydChmbl9zb3J0KTtcblxuICAvLyBhcHBseSBsaW1pdHNcbiAgc2VhcmNoLnRvdGFsID0gc2VhcmNoLml0ZW1zLmxlbmd0aDtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgIHNlYXJjaC5pdGVtcyA9IHNlYXJjaC5pdGVtcy5zbGljZSgwLCBvcHRpb25zLmxpbWl0KTtcbiAgfVxuXG4gIHJldHVybiBzZWFyY2g7XG59O1xuXG4vLyB1dGlsaXRpZXNcbi8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxudmFyIGNtcCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IChhIDwgYiA/IC0xIDogMCk7XG4gIH1cbiAgYSA9IGFzY2lpZm9sZChTdHJpbmcoYSB8fCAnJykpO1xuICBiID0gYXNjaWlmb2xkKFN0cmluZyhiIHx8ICcnKSk7XG4gIGlmIChhID4gYikgcmV0dXJuIDE7XG4gIGlmIChiID4gYSkgcmV0dXJuIC0xO1xuICByZXR1cm4gMDtcbn07XG5cbnZhciBleHRlbmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgaSwgbiwgaywgb2JqZWN0O1xuICBmb3IgKGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgIG9iamVjdCA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAoIW9iamVjdCkgY29udGludWU7XG4gICAgZm9yIChrIGluIG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICBhW2tdID0gb2JqZWN0W2tdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYTtcbn07XG5cbi8qKlxuICogQSBwcm9wZXJ0eSBnZXR0ZXIgcmVzb2x2aW5nIGRvdC1ub3RhdGlvblxuICogQHBhcmFtICB7T2JqZWN0fSAgb2JqICAgICBUaGUgcm9vdCBvYmplY3QgdG8gZmV0Y2ggcHJvcGVydHkgb25cbiAqIEBwYXJhbSAge1N0cmluZ30gIG5hbWUgICAgVGhlIG9wdGlvbmFsbHkgZG90dGVkIHByb3BlcnR5IG5hbWUgdG8gZmV0Y2hcbiAqIEBwYXJhbSAge0Jvb2xlYW59IG5lc3RpbmcgSGFuZGxlIG5lc3Rpbmcgb3Igbm90XG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgIFRoZSByZXNvbHZlZCBwcm9wZXJ0eSB2YWx1ZVxuICovXG52YXIgZ2V0YXR0ciA9IGZ1bmN0aW9uIChvYmosIG5hbWUsIG5lc3RpbmcpIHtcbiAgaWYgKCFvYmogfHwgIW5hbWUpIHJldHVybjtcbiAgaWYgKCFuZXN0aW5nKSByZXR1cm4gb2JqW25hbWVdO1xuICB2YXIgbmFtZXMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCAmJiAob2JqID0gb2JqW25hbWVzLnNoaWZ0KCldKSk7XG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgdHJpbSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvXlxccyt8XFxzKyR8L2csICcnKTtcbn07XG5cbnZhciBlc2NhcGVfcmVnZXggPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoLyhbLj8qK14kW1xcXVxcXFwoKXt9fC1dKS9nLCAnXFxcXCQxJyk7XG59O1xuXG52YXIgaXNfYXJyYXkgPSBBcnJheS5pc0FycmF5IHx8ICh0eXBlb2YgJCAhPT0gJ3VuZGVmaW5lZCcgJiYgJC5pc0FycmF5KSB8fCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbnZhciBESUFDUklUSUNTID0ge1xuICAnYSc6ICdbYeG4gOG4gcSCxIPDgsOix43Hjsi64rGlyKbIp+G6oOG6ocOEw6TDgMOgw4HDocSAxIHDg8Ojw4XDpcSFxITDg8SFxIRdJyxcbiAgJ2InOiAnW2LikKLOss6SQuC4v/CQjIHhm5JdJyxcbiAgJ2MnOiAnW2PEhsSHxIjEicSMxI3EisSLQ8yEY8yEw4fDp+G4iOG4ici7yLzGh8aIyZXhtITvvKPvvYNdJyxcbiAgJ2QnOiAnW2TEjsSP4biK4biL4biQ4biR4biM4biN4biS4biT4biO4biPxJDEkUTMpmTMpsaJyZbGismXxovGjOG1reG2geG2kcih4bSF77yk772Ew7BdJyxcbiAgJ2UnOiAnW2XDicOpw4jDqMOKw6rhuJjhuJnEmsSbxJTEleG6vOG6veG4muG4m+G6uuG6u8SWxJfDi8OrxJLEk8ioyKnEmMSZ4baSyYbJh8iEyIXhur7hur/hu4Dhu4Hhu4Thu4Xhu4Lhu4PhuJzhuJ3huJbhuJfhuJThuJXIhsiH4bq44bq54buG4buH4rG44bSH77yl772FyZjHncaPxpDOtV0nLFxuICAnZic6ICdbZsaRxpLhuJ7huJ9dJyxcbiAgJ2cnOiAnW2fJouKCssekx6XEnMSdxJ7En8SixKPGk8mgxKDEoV0nLFxuICAnaCc6ICdbaMSkxKXEpsSn4bio4bip4bqW4bqW4bik4bil4bii4bijyabKsMe2xpVdJyxcbiAgJ2knOiAnW2nDjcOtw4zDrMSsxK3DjsOux4/HkMOPw6/huK7huK/EqMSpxK7Er8SqxKvhu4jhu4nIiMiJyIrIi+G7iuG7i+G4rOG4rcaXyajJqMyG4bW74baWxLBpScSxyarvvKnvvYldJyxcbiAgJ2onOiAnW2rIt8S0xLXJiMmJyp3Jn8qyXScsXG4gICdrJzogJ1trxpjGmeqdgOqdgeG4sOG4sceox6nhuLLhuLPhuLThuLXOus+w4oKtXScsXG4gICdsJzogJ1tsxYHFgsS9xL7Eu8S8xLnEuuG4tuG4t+G4uOG4ueG4vOG4veG4uuG4u8S/xYDIvcaa4rGg4rGh4rGiyavJrOG2hcmtyLTKn++8rO+9jF0nLFxuICAnbic6ICdbbsWDxYTHuMe5xYfFiMORw7HhuYThuYXFhcWG4bmG4bmH4bmK4bmL4bmI4bmJTsyIbsyIxp3Jssigxp7htbDhtofJs8i1ybTvvK7vvY7FisWLXScsXG4gICdvJzogJ1tvw5jDuMOWw7bDk8Ozw5LDssOUw7THkceSxZDFkcWOxY/Irsiv4buM4buNxp/JtcagxqHhu47hu4/FjMWNw5XDtceqx6vIjMiN1ZXWhV0nLFxuICAncCc6ICdbcOG5lOG5leG5luG5l+Kxo+G1vcakxqXhtbFdJyxcbiAgJ3EnOiAnW3HqnZbqnZfKoMmKyYvqnZjqnZlxzINdJyxcbiAgJ3InOiAnW3LFlMWVyYzJjcWYxZnFlsWX4bmY4bmZyJDIkciSyJPhuZrhuZvisaTJvV0nLFxuICAncyc6ICdbc8WaxZvhuaDhuaHhuaLhuaPqnqjqnqnFnMWdxaDFocWexZ/ImMiZU8yIc8yIXScsXG4gICd0JzogJ1t0xaTFpeG5quG5q8WixaPhuazhua3GrsqIyJrIm+G5sOG5seG5ruG5r8asxq1dJyxcbiAgJ3UnOiAnW3XFrMWtyYTKieG7pOG7pcOcw7zDmsO6w5nDucObw7vHk8eUxbDFscWsxa3Gr8aw4bum4bunxarFq8WoxanFssWzyJTIleKIql0nLFxuICAndic6ICdbduG5vOG5veG5vuG5v8ayyovqnZ7qnZ/isbHKi10nLFxuICAndyc6ICdbd+G6guG6g+G6gOG6gcW0xbXhuoThuoXhuobhuofhuojhuoldJyxcbiAgJ3gnOiAnW3jhuozhuo3huorhuovPh10nLFxuICAneSc6ICdbecOdw73hu7Lhu7PFtsW3xbjDv+G7uOG7ueG6juG6j+G7tOG7tcmOyY/Gs8a0XScsXG4gICd6JzogJ1t6xbnFuuG6kOG6kcW9xb7Fu8W84bqS4bqT4bqU4bqVxrXGtl0nXG59O1xuXG52YXIgYXNjaWlmb2xkID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGksIG4sIGssIGNodW5rO1xuICB2YXIgZm9yZWlnbmxldHRlcnMgPSAnJztcbiAgdmFyIGxvb2t1cCA9IHt9O1xuICBmb3IgKGsgaW4gRElBQ1JJVElDUykge1xuICAgIGlmIChESUFDUklUSUNTLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICBjaHVuayA9IERJQUNSSVRJQ1Nba10uc3Vic3RyaW5nKDIsIERJQUNSSVRJQ1Nba10ubGVuZ3RoIC0gMSk7XG4gICAgICBmb3JlaWdubGV0dGVycyArPSBjaHVuaztcbiAgICAgIGZvciAoaSA9IDAsIG4gPSBjaHVuay5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgbG9va3VwW2NodW5rLmNoYXJBdChpKV0gPSBrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnWycgKyBmb3JlaWdubGV0dGVycyArICddJywgJ2cnKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UocmVnZXhwLCBmdW5jdGlvbiAoZm9yZWlnbmxldHRlcikge1xuICAgICAgcmV0dXJuIGxvb2t1cFtmb3JlaWdubGV0dGVyXTtcbiAgICB9KS50b0xvd2VyQ2FzZSgpO1xuICB9O1xufSkoKTtcblxuXG5cdC8vIGV4cG9ydFxuXHQvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cbmZ1bmN0aW9uIHVhRGV0ZWN0KHBsYXRmb3JtLCByZSkge1xuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpIHtcbiAgICByZXR1cm4gcGxhdGZvcm0gPT09IG5hdmlnYXRvci51c2VyQWdlbnREYXRhLnBsYXRmb3JtO1xuICB9XG5cbiAgcmV0dXJuIHJlLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbnZhciBJU19NQUMgICAgICAgID0gdWFEZXRlY3QoXCJtYWNPU1wiLCAvTWFjLyk7XG5cbnZhciBLRVlfQSAgICAgICAgID0gNjU7XG52YXIgS0VZX0NPTU1BICAgICA9IDE4ODtcbnZhciBLRVlfUkVUVVJOICAgID0gMTM7XG52YXIgS0VZX0VTQyAgICAgICA9IDI3O1xudmFyIEtFWV9MRUZUICAgICAgPSAzNztcbnZhciBLRVlfVVAgICAgICAgID0gMzg7XG52YXIgS0VZX1AgICAgICAgICA9IDgwO1xudmFyIEtFWV9SSUdIVCAgICAgPSAzOTtcbnZhciBLRVlfRE9XTiAgICAgID0gNDA7XG52YXIgS0VZX04gICAgICAgICA9IDc4O1xudmFyIEtFWV9CQUNLU1BBQ0UgPSA4O1xudmFyIEtFWV9ERUxFVEUgICAgPSA0NjtcbnZhciBLRVlfU0hJRlQgICAgID0gMTY7XG52YXIgS0VZX0NNRCAgICAgICA9IElTX01BQyA/IDkxIDogMTc7XG52YXIgS0VZX0NUUkwgICAgICA9IElTX01BQyA/IDE4IDogMTc7XG52YXIgS0VZX1RBQiAgICAgICA9IDk7XG5cbnZhciBUQUdfU0VMRUNUICAgID0gMTtcbnZhciBUQUdfSU5QVVQgICAgID0gMjtcblxuLy8gZm9yIG5vdywgYW5kcm9pZCBzdXBwb3J0IGluIGdlbmVyYWwgaXMgdG9vIHNwb3R0eSB0byBzdXBwb3J0IHZhbGlkaXR5XG52YXIgU1VQUE9SVFNfVkFMSURJVFlfQVBJID0gIXVhRGV0ZWN0KFwiQW5kcm9pZFwiLCAvYW5kcm9pZC9pKSAmJiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykudmFsaWRpdHk7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgaGFzIGJlZW4gZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge21peGVkfSBvYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG52YXIgaXNzZXQgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ICE9PSAndW5kZWZpbmVkJztcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBzY2FsYXIgdG8gaXRzIGJlc3Qgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gKiBmb3IgaGFzaCBrZXlzIGFuZCBIVE1MIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gKlxuICogVHJhbnNmb3JtYXRpb25zOlxuICogICAnc3RyJyAgICAgLT4gJ3N0cidcbiAqICAgbnVsbCAgICAgIC0+ICcnXG4gKiAgIHVuZGVmaW5lZCAtPiAnJ1xuICogICB0cnVlICAgICAgLT4gJzEnXG4gKiAgIGZhbHNlICAgICAtPiAnMCdcbiAqICAgMCAgICAgICAgIC0+ICcwJ1xuICogICAxICAgICAgICAgLT4gJzEnXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gKi9cbnZhciBoYXNoX2tleSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgcmV0dXJuIHZhbHVlID8gJzEnIDogJzAnO1xuICByZXR1cm4gdmFsdWUgKyAnJztcbn07XG5cbi8qKlxuICogRXNjYXBlcyBhIHN0cmluZyBmb3IgdXNlIHdpdGhpbiBIVE1MLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbnZhciBlc2NhcGVfaHRtbCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIChzdHIgKyAnJylcbiAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn07XG5cbi8qKlxuICogRXNjYXBlcyBcIiRcIiBjaGFyYWN0ZXJzIGluIHJlcGxhY2VtZW50IHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xudmFyIGVzY2FwZV9yZXBsYWNlID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcbn07XG5cbnZhciBob29rID0ge307XG5cbi8qKlxuICogV3JhcHMgYG1ldGhvZGAgb24gYHNlbGZgIHNvIHRoYXQgYGZuYFxuICogaXMgaW52b2tlZCBiZWZvcmUgdGhlIG9yaWdpbmFsIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2VsZlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAqL1xuaG9vay5iZWZvcmUgPSBmdW5jdGlvbiAoc2VsZiwgbWV0aG9kLCBmbikge1xuICB2YXIgb3JpZ2luYWwgPSBzZWxmW21ldGhvZF07XG4gIHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuLyoqXG4gKiBXcmFwcyBgbWV0aG9kYCBvbiBgc2VsZmAgc28gdGhhdCBgZm5gXG4gKiBpcyBpbnZva2VkIGFmdGVyIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHNlbGZcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gKi9cbmhvb2suYWZ0ZXIgPSBmdW5jdGlvbiAoc2VsZiwgbWV0aG9kLCBmbikge1xuICB2YXIgb3JpZ2luYWwgPSBzZWxmW21ldGhvZF07XG4gIHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuXG4vKipcbiAqIFdyYXBzIGBmbmAgc28gdGhhdCBpdCBjYW4gb25seSBiZSBpbnZva2VkIG9uY2UuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xudmFyIG9uY2UgPSBmdW5jdGlvbiAoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG4vKipcbiAqIFdyYXBzIGBmbmAgc28gdGhhdCBpdCBjYW4gb25seSBiZSBjYWxsZWQgb25jZVxuICogZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgKGludm9rZWQgb24gdGhlIGZhbGxpbmcgZWRnZSkuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7aW50fSBkZWxheVxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YXIgZGVib3VuY2UgPSBmdW5jdGlvbiAoZm4sIGRlbGF5KSB7XG4gIHZhciB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9LCBkZWxheSk7XG4gIH07XG59O1xuXG4vKipcbiAqIERlYm91bmNlIGFsbCBmaXJlZCBldmVudHMgdHlwZXMgbGlzdGVkIGluIGB0eXBlc2BcbiAqIHdoaWxlIGV4ZWN1dGluZyB0aGUgcHJvdmlkZWQgYGZuYC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2VsZlxuICogQHBhcmFtIHthcnJheX0gdHlwZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG4gKi9cbnZhciBkZWJvdW5jZV9ldmVudHMgPSBmdW5jdGlvbiAoc2VsZiwgdHlwZXMsIGZuKSB7XG4gIHZhciB0eXBlO1xuICB2YXIgdHJpZ2dlciA9IHNlbGYudHJpZ2dlcjtcbiAgdmFyIGV2ZW50X2FyZ3MgPSB7fTtcblxuICAvLyBvdmVycmlkZSB0cmlnZ2VyIG1ldGhvZFxuICBzZWxmLnRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XG4gICAgaWYgKHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XG4gICAgICBldmVudF9hcmdzW3R5cGVdID0gYXJndW1lbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJpZ2dlci5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpbnZva2UgcHJvdmlkZWQgZnVuY3Rpb25cbiAgZm4uYXBwbHkoc2VsZiwgW10pO1xuICBzZWxmLnRyaWdnZXIgPSB0cmlnZ2VyO1xuXG4gIC8vIHRyaWdnZXIgcXVldWVkIGV2ZW50c1xuICBmb3IgKHR5cGUgaW4gZXZlbnRfYXJncykge1xuICAgIGlmIChldmVudF9hcmdzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICB0cmlnZ2VyLmFwcGx5KHNlbGYsIGV2ZW50X2FyZ3NbdHlwZV0pO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBBIHdvcmthcm91bmQgZm9yIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzY2OTZcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gJHBhcmVudCAtIFBhcmVudCBlbGVtZW50IHRvIGxpc3RlbiBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBEZXNjZW5kYW50IHNlbGVjdG9yIHRvIGZpbHRlciBieS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRXZlbnQgaGFuZGxlci5cbiAqL1xudmFyIHdhdGNoQ2hpbGRFdmVudCA9IGZ1bmN0aW9uICgkcGFyZW50LCBldmVudCwgc2VsZWN0b3IsIGZuKSB7XG4gICRwYXJlbnQub24oZXZlbnQsIHNlbGVjdG9yLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBjaGlsZCA9IGUudGFyZ2V0O1xuICAgIHdoaWxlIChjaGlsZCAmJiBjaGlsZC5wYXJlbnROb2RlICE9PSAkcGFyZW50WzBdKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIGUuY3VycmVudFRhcmdldCA9IGNoaWxkO1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBbZV0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgY3VycmVudCBzZWxlY3Rpb24gd2l0aGluIGEgdGV4dCBpbnB1dCBjb250cm9sLlxuICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZzpcbiAqICAgLSBzdGFydFxuICogICAtIGxlbmd0aFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xudmFyIGdldElucHV0U2VsZWN0aW9uID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dBUk4gZ2V0SW5wdXRTZWxlY3Rpb24gY2Fubm90IGxvY2F0ZSBpbnB1dCBjb250cm9sJyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBpbnB1dCkge1xuICAgIHJlc3VsdC5zdGFydCA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xuICAgIHJlc3VsdC5sZW5ndGggPSBpbnB1dC5zZWxlY3Rpb25FbmQgLSByZXN1bHQuc3RhcnQ7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgICB2YXIgc2VsID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgdmFyIHNlbExlbiA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnRleHQubGVuZ3RoO1xuICAgIHNlbC5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpO1xuICAgIHJlc3VsdC5zdGFydCA9IHNlbC50ZXh0Lmxlbmd0aCAtIHNlbExlbjtcbiAgICByZXN1bHQubGVuZ3RoID0gc2VsTGVuO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENvcGllcyBDU1MgcHJvcGVydGllcyBmcm9tIG9uZSBlbGVtZW50IHRvIGFub3RoZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9ICRmcm9tXG4gKiBAcGFyYW0ge29iamVjdH0gJHRvXG4gKiBAcGFyYW0ge2FycmF5fSBwcm9wZXJ0aWVzXG4gKi9cbnZhciB0cmFuc2ZlclN0eWxlcyA9IGZ1bmN0aW9uICgkZnJvbSwgJHRvLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBpLCBuLCBzdHlsZXMgPSB7fTtcbiAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICBmb3IgKGkgPSAwLCBuID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0eWxlc1twcm9wZXJ0aWVzW2ldXSA9ICRmcm9tLmNzcyhwcm9wZXJ0aWVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3R5bGVzID0gJGZyb20uY3NzKCk7XG4gIH1cbiAgJHRvLmNzcyhzdHlsZXMpO1xufTtcblxuLyoqXG4gKiBNZWFzdXJlcyB0aGUgd2lkdGggb2YgYSBzdHJpbmcgd2l0aGluIGFcbiAqIHBhcmVudCBlbGVtZW50IChpbiBwaXhlbHMpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7b2JqZWN0fSAkcGFyZW50XG4gKiBAcmV0dXJucyB7aW50fVxuICovXG52YXIgbWVhc3VyZVN0cmluZyA9IGZ1bmN0aW9uIChzdHIsICRwYXJlbnQpIHtcbiAgaWYgKCFzdHIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmICghU2VsZWN0aXplLiR0ZXN0SW5wdXQpIHtcbiAgICBTZWxlY3RpemUuJHRlc3RJbnB1dCA9ICQoJzxzcGFuIC8+JykuY3NzKHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICB3aGl0ZVNwYWNlOiAncHJlJ1xuICAgIH0pO1xuXG4gICAgJCgnPGRpdiAvPicpLmNzcyh7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgfSkuYXBwZW5kKFNlbGVjdGl6ZS4kdGVzdElucHV0KS5hcHBlbmRUbygnYm9keScpO1xuICB9XG5cbiAgU2VsZWN0aXplLiR0ZXN0SW5wdXQudGV4dChzdHIpO1xuXG4gIHRyYW5zZmVyU3R5bGVzKCRwYXJlbnQsIFNlbGVjdGl6ZS4kdGVzdElucHV0LCBbXG4gICAgJ2xldHRlclNwYWNpbmcnLFxuICAgICdmb250U2l6ZScsXG4gICAgJ2ZvbnRGYW1pbHknLFxuICAgICdmb250V2VpZ2h0JyxcbiAgICAndGV4dFRyYW5zZm9ybSdcbiAgXSk7XG5cbiAgcmV0dXJuIFNlbGVjdGl6ZS4kdGVzdElucHV0LndpZHRoKCk7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYW4gaW5wdXQgdG8gZ3JvdyBob3Jpem9udGFsbHkgYXMgdGhlIHVzZXJcbiAqIHR5cGVzLiBJZiB0aGUgdmFsdWUgaXMgY2hhbmdlZCBtYW51YWxseSwgeW91IGNhblxuICogdHJpZ2dlciB0aGUgXCJ1cGRhdGVcIiBoYW5kbGVyIHRvIHJlc2l6ZTpcbiAqXG4gKiAkaW5wdXQudHJpZ2dlcigndXBkYXRlJyk7XG4gKlxuICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxuICovXG52YXIgYXV0b0dyb3cgPSBmdW5jdGlvbiAoJGlucHV0KSB7XG4gIHZhciBjdXJyZW50V2lkdGggPSBudWxsO1xuXG4gIHZhciB1cGRhdGUgPSBmdW5jdGlvbiAoZSwgb3B0aW9ucykge1xuICAgIHZhciB2YWx1ZSwga2V5Q29kZSwgcHJpbnRhYmxlLCB3aWR0aDtcbiAgICB2YXIgcGxhY2Vob2xkZXIsIHBsYWNlaG9sZGVyV2lkdGg7XG4gICAgdmFyIHNoaWZ0LCBjaGFyYWN0ZXIsIHNlbGVjdGlvbjtcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQgfHwge307XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoZS5tZXRhS2V5IHx8IGUuYWx0S2V5KSByZXR1cm47XG4gICAgaWYgKCFvcHRpb25zLmZvcmNlICYmICRpbnB1dC5kYXRhKCdncm93JykgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICB2YWx1ZSA9ICRpbnB1dC52YWwoKTtcbiAgICBpZiAoZS50eXBlICYmIGUudHlwZS50b0xvd2VyQ2FzZSgpID09PSAna2V5ZG93bicpIHtcbiAgICAgIGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICBwcmludGFibGUgPSAoXG4gICAgICAgIChrZXlDb2RlID49IDQ4ICYmIGtleUNvZGUgPD0gNTcpIHx8IC8vIDAtOVxuICAgICAgICAoa2V5Q29kZSA+PSA2NSAmJiBrZXlDb2RlIDw9IDkwKSB8fCAvLyBhLXpcbiAgICAgICAgKGtleUNvZGUgPj0gOTYgJiYga2V5Q29kZSA8PSAxMTEpIHx8IC8vIG51bXBhZCAwLTksIG51bWVyaWMgb3BlcmF0b3JzXG4gICAgICAgIChrZXlDb2RlID49IDE4NiAmJiBrZXlDb2RlIDw9IDIyMikgfHwgLy8gc2VtaWNvbG9uLCBlcXVhbCwgY29tbWEsIGRhc2gsIGV0Yy5cbiAgICAgICAga2V5Q29kZSA9PT0gMzIgLy8gc3BhY2VcbiAgICAgICk7XG5cbiAgICAgIGlmIChrZXlDb2RlID09PSBLRVlfREVMRVRFIHx8IGtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gZ2V0SW5wdXRTZWxlY3Rpb24oJGlucHV0WzBdKTtcbiAgICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb24uc3RhcnQpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIHNlbGVjdGlvbi5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UgJiYgc2VsZWN0aW9uLnN0YXJ0KSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uLnN0YXJ0IC0gMSkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gS0VZX0RFTEVURSAmJiB0eXBlb2Ygc2VsZWN0aW9uLnN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbi5zdGFydCkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJpbnRhYmxlKSB7XG4gICAgICAgIHNoaWZ0ID0gZS5zaGlmdEtleTtcbiAgICAgICAgY2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1xuICAgICAgICBpZiAoc2hpZnQpIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBlbHNlIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YWx1ZSArPSBjaGFyYWN0ZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGxhY2Vob2xkZXIgPSAkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKTtcbiAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgIHBsYWNlaG9sZGVyV2lkdGggPSBtZWFzdXJlU3RyaW5nKHBsYWNlaG9sZGVyLCAkaW5wdXQpICsgNDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxhY2Vob2xkZXJXaWR0aCA9IDA7XG4gICAgfVxuXG4gICAgd2lkdGggPSBNYXRoLm1heChtZWFzdXJlU3RyaW5nKHZhbHVlLCAkaW5wdXQpLCBwbGFjZWhvbGRlcldpZHRoKSArIDQ7XG4gICAgaWYgKHdpZHRoICE9PSBjdXJyZW50V2lkdGgpIHtcbiAgICAgIGN1cnJlbnRXaWR0aCA9IHdpZHRoO1xuICAgICAgJGlucHV0LndpZHRoKHdpZHRoKTtcbiAgICAgICRpbnB1dC50cmlnZ2VySGFuZGxlcigncmVzaXplJyk7XG4gICAgfVxuICB9O1xuXG4gICRpbnB1dC5vbigna2V5ZG93biBrZXl1cCB1cGRhdGUgYmx1cicsIHVwZGF0ZSk7XG4gIHVwZGF0ZSgpO1xufTtcblxudmFyIGRvbVRvU3RyaW5nID0gZnVuY3Rpb24gKGQpIHtcbiAgdmFyIHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIHRtcC5hcHBlbmRDaGlsZChkLmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgcmV0dXJuIHRtcC5pbm5lckhUTUw7XG59O1xuXG52YXIgbG9nRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgdmFyIGNvbXBvbmVudCA9IFwiU2VsZWN0aXplXCI7XG5cbiAgY29uc29sZS5lcnJvcihjb21wb25lbnQgKyBcIjogXCIgKyBtZXNzYWdlKVxuXG4gIGlmIChvcHRpb25zLmV4cGxhbmF0aW9uKSB7XG4gICAgLy8gY29uc29sZS5ncm91cCBpcyB1bmRlZmluZWQgaW4gPElFMTFcbiAgICBpZiAoY29uc29sZS5ncm91cCkgY29uc29sZS5ncm91cCgpO1xuICAgIGNvbnNvbGUuZXJyb3Iob3B0aW9ucy5leHBsYW5hdGlvbik7XG4gICAgaWYgKGNvbnNvbGUuZ3JvdXApIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHthbnl9IGRhdGEgRGF0YSB0byB0ZXN0aW5nXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBpcyBhbiBKU09OIG9iamVjdFxuICovXG52YXIgaXNKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdHJ5IHtcbiAgICBKU09OLnBhcnNlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgU2VsZWN0aXplID0gZnVuY3Rpb24oJGlucHV0LCBzZXR0aW5ncykge1xuXHR2YXIga2V5LCBpLCBuLCBkaXIsIGlucHV0LCBzZWxmID0gdGhpcztcblx0aW5wdXQgPSAkaW5wdXRbMF07XG5cdGlucHV0LnNlbGVjdGl6ZSA9IHNlbGY7XG5cblx0Ly8gZGV0ZWN0IHJ0bCBlbnZpcm9ubWVudFxuXHR2YXIgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGlucHV0LCBudWxsKTtcblx0ZGlyID0gY29tcHV0ZWRTdHlsZSA/IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlyZWN0aW9uJykgOiBpbnB1dC5jdXJyZW50U3R5bGUgJiYgaW5wdXQuY3VycmVudFN0eWxlLmRpcmVjdGlvbjtcblx0ZGlyID0gZGlyIHx8ICRpbnB1dC5wYXJlbnRzKCdbZGlyXTpmaXJzdCcpLmF0dHIoJ2RpcicpIHx8ICcnO1xuXG5cdC8vIHNldHVwIGRlZmF1bHQgc3RhdGVcblx0JC5leHRlbmQoc2VsZiwge1xuXHRcdG9yZGVyICAgICAgICAgICAgOiAwLFxuXHRcdHNldHRpbmdzICAgICAgICAgOiBzZXR0aW5ncyxcblx0XHQkaW5wdXQgICAgICAgICAgIDogJGlucHV0LFxuXHRcdHRhYkluZGV4ICAgICAgICAgOiAkaW5wdXQuYXR0cigndGFiaW5kZXgnKSB8fCAnJyxcblx0XHR0YWdUeXBlICAgICAgICAgIDogaW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0JyA/IFRBR19TRUxFQ1QgOiBUQUdfSU5QVVQsXG5cdFx0cnRsICAgICAgICAgICAgICA6IC9ydGwvaS50ZXN0KGRpciksXG5cblx0XHRldmVudE5TICAgICAgICAgIDogJy5zZWxlY3RpemUnICsgKCsrU2VsZWN0aXplLmNvdW50KSxcblx0XHRoaWdobGlnaHRlZFZhbHVlIDogbnVsbCxcblx0XHRpc0JsdXJyaW5nICAgICAgIDogZmFsc2UsXG5cdFx0aXNPcGVuICAgICAgICAgICA6IGZhbHNlLFxuXHRcdGlzRGlzYWJsZWQgICAgICAgOiBmYWxzZSxcblx0XHRpc1JlcXVpcmVkICAgICAgIDogJGlucHV0LmlzKCdbcmVxdWlyZWRdJyksXG5cdFx0aXNJbnZhbGlkICAgICAgICA6IGZhbHNlLFxuXHRcdGlzTG9ja2VkICAgICAgICAgOiBmYWxzZSxcblx0XHRpc0ZvY3VzZWQgICAgICAgIDogZmFsc2UsXG5cdFx0aXNJbnB1dEhpZGRlbiAgICA6IGZhbHNlLFxuXHRcdGlzU2V0dXAgICAgICAgICAgOiBmYWxzZSxcblx0XHRpc1NoaWZ0RG93biAgICAgIDogZmFsc2UsXG5cdFx0aXNDbWREb3duICAgICAgICA6IGZhbHNlLFxuXHRcdGlzQ3RybERvd24gICAgICAgOiBmYWxzZSxcblx0XHRpZ25vcmVGb2N1cyAgICAgIDogZmFsc2UsXG5cdFx0aWdub3JlQmx1ciAgICAgICA6IGZhbHNlLFxuXHRcdGlnbm9yZUhvdmVyICAgICAgOiBmYWxzZSxcblx0XHRoYXNPcHRpb25zICAgICAgIDogZmFsc2UsXG5cdFx0Y3VycmVudFJlc3VsdHMgICA6IG51bGwsXG5cdFx0bGFzdFZhbHVlICAgICAgICA6ICcnLFxuXHRcdGxhc3RWYWxpZFZhbHVlICAgOiAnJyxcblx0XHRjYXJldFBvcyAgICAgICAgIDogMCxcblx0XHRsb2FkaW5nICAgICAgICAgIDogMCxcblx0XHRsb2FkZWRTZWFyY2hlcyAgIDoge30sXG4gICAgaXNEcm9wZG93bkNsb3Npbmc6IGZhbHNlLFxuXG5cdFx0JGFjdGl2ZU9wdGlvbiAgICA6IG51bGwsXG5cdFx0JGFjdGl2ZUl0ZW1zICAgICA6IFtdLFxuXG5cdFx0b3B0Z3JvdXBzICAgICAgICA6IHt9LFxuXHRcdG9wdGlvbnMgICAgICAgICAgOiB7fSxcblx0XHR1c2VyT3B0aW9ucyAgICAgIDoge30sXG5cdFx0aXRlbXMgICAgICAgICAgICA6IFtdLFxuXHRcdHJlbmRlckNhY2hlICAgICAgOiB7fSxcblx0XHRvblNlYXJjaENoYW5nZSAgIDogc2V0dGluZ3MubG9hZFRocm90dGxlID09PSBudWxsID8gc2VsZi5vblNlYXJjaENoYW5nZSA6IGRlYm91bmNlKHNlbGYub25TZWFyY2hDaGFuZ2UsIHNldHRpbmdzLmxvYWRUaHJvdHRsZSlcblx0fSk7XG5cblx0Ly8gc2VhcmNoIHN5c3RlbVxuXHRzZWxmLnNpZnRlciA9IG5ldyBTaWZ0ZXIodGhpcy5vcHRpb25zLCB7ZGlhY3JpdGljczogc2V0dGluZ3MuZGlhY3JpdGljc30pO1xuXG5cdC8vIGJ1aWxkIG9wdGlvbnMgdGFibGVcblx0aWYgKHNlbGYuc2V0dGluZ3Mub3B0aW9ucykge1xuXHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLnNldHRpbmdzLm9wdGlvbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRzZWxmLnJlZ2lzdGVyT3B0aW9uKHNlbGYuc2V0dGluZ3Mub3B0aW9uc1tpXSk7XG5cdFx0fVxuXHRcdGRlbGV0ZSBzZWxmLnNldHRpbmdzLm9wdGlvbnM7XG4gIH1cblxuXHQvLyBidWlsZCBvcHRncm91cCB0YWJsZVxuXHRpZiAoc2VsZi5zZXR0aW5ncy5vcHRncm91cHMpIHtcblx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5zZXR0aW5ncy5vcHRncm91cHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRzZWxmLnJlZ2lzdGVyT3B0aW9uR3JvdXAoc2VsZi5zZXR0aW5ncy5vcHRncm91cHNbaV0pO1xuXHRcdH1cblx0XHRkZWxldGUgc2VsZi5zZXR0aW5ncy5vcHRncm91cHM7XG5cdH1cblxuXHQvLyBvcHRpb24tZGVwZW5kZW50IGRlZmF1bHRzXG5cdHNlbGYuc2V0dGluZ3MubW9kZSA9IHNlbGYuc2V0dGluZ3MubW9kZSB8fCAoc2VsZi5zZXR0aW5ncy5tYXhJdGVtcyA9PT0gMSA/ICdzaW5nbGUnIDogJ211bHRpJyk7XG5cdGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQgIT09ICdib29sZWFuJykge1xuXHRcdHNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkID0gc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknO1xuXHR9XG5cblx0c2VsZi5pbml0aWFsaXplUGx1Z2lucyhzZWxmLnNldHRpbmdzLnBsdWdpbnMpO1xuXHRzZWxmLnNldHVwQ2FsbGJhY2tzKCk7XG5cdHNlbGYuc2V0dXBUZW1wbGF0ZXMoKTtcblx0c2VsZi5zZXR1cCgpO1xufTtcblxuLy8gbWl4aW5zXG4vLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5NaWNyb0V2ZW50Lm1peGluKFNlbGVjdGl6ZSk7XG5NaWNyb1BsdWdpbi5taXhpbihTZWxlY3RpemUpO1xuXG4vLyBtZXRob2RzXG4vLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG4kLmV4dGVuZChTZWxlY3RpemUucHJvdG90eXBlLCB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYWxsIGVsZW1lbnRzIGFuZCBzZXRzIHVwIGV2ZW50IGJpbmRpbmdzLlxuXHQgKi9cblx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxmICAgICAgPSB0aGlzO1xuXHRcdHZhciBzZXR0aW5ncyAgPSBzZWxmLnNldHRpbmdzO1xuXHRcdHZhciBldmVudE5TICAgPSBzZWxmLmV2ZW50TlM7XG5cdFx0dmFyICR3aW5kb3cgICA9ICQod2luZG93KTtcblx0XHR2YXIgJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XG5cdFx0dmFyICRpbnB1dCAgICA9IHNlbGYuJGlucHV0O1xuXG5cdFx0dmFyICR3cmFwcGVyO1xuXHRcdHZhciAkY29udHJvbDtcblx0XHR2YXIgJGNvbnRyb2xfaW5wdXQ7XG5cdFx0dmFyICRkcm9wZG93bjtcblx0XHR2YXIgJGRyb3Bkb3duX2NvbnRlbnQ7XG5cdFx0dmFyICRkcm9wZG93bl9wYXJlbnQ7XG5cdFx0dmFyIGlucHV0TW9kZTtcblx0XHR2YXIgdGltZW91dF9ibHVyO1xuXHRcdHZhciB0aW1lb3V0X2ZvY3VzO1xuXHRcdHZhciBjbGFzc2VzO1xuXHRcdHZhciBjbGFzc2VzX3BsdWdpbnM7XG5cdFx0dmFyIGlucHV0SWQ7XG5cblx0XHRpbnB1dE1vZGUgICAgICAgICA9IHNlbGYuc2V0dGluZ3MubW9kZTtcblx0XHRjbGFzc2VzICAgICAgICAgICA9ICRpbnB1dC5hdHRyKCdjbGFzcycpIHx8ICcnO1xuXG4gICAgJHdyYXBwZXIgICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLndyYXBwZXJDbGFzcykuYWRkQ2xhc3MoY2xhc3NlcyArICcgc2VsZWN0aXplLWNvbnRyb2wnKS5hZGRDbGFzcyhpbnB1dE1vZGUpO1xuXHRcdCRjb250cm9sICAgICAgICAgID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5pbnB1dENsYXNzICsgJyBzZWxlY3RpemUtaW5wdXQgaXRlbXMnKS5hcHBlbmRUbygkd3JhcHBlcik7XG5cdFx0JGNvbnRyb2xfaW5wdXQgICAgPSAkKCc8aW5wdXQgdHlwZT1cInNlbGVjdC1vbmVcIiBhdXRvY29tcGxldGU9XCJuZXctcGFzc3dvcmRcIiBhdXRvZmlsbD1cIm5vXCIgLz4nKS5hcHBlbmRUbygkY29udHJvbCkuYXR0cigndGFiaW5kZXgnLCAkaW5wdXQuaXMoJzpkaXNhYmxlZCcpID8gJy0xJyA6IHNlbGYudGFiSW5kZXgpO1xuXHRcdCRkcm9wZG93bl9wYXJlbnQgID0gJChzZXR0aW5ncy5kcm9wZG93blBhcmVudCB8fCAkd3JhcHBlcik7XG5cdFx0JGRyb3Bkb3duICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ2xhc3MpLmFkZENsYXNzKGlucHV0TW9kZSArICcgc2VsZWN0aXplLWRyb3Bkb3duJykuaGlkZSgpLmFwcGVuZFRvKCRkcm9wZG93bl9wYXJlbnQpO1xuXHRcdCRkcm9wZG93bl9jb250ZW50ID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5kcm9wZG93bkNvbnRlbnRDbGFzcyArICcgc2VsZWN0aXplLWRyb3Bkb3duLWNvbnRlbnQnKS5hdHRyKCd0YWJpbmRleCcsICctMScpLmFwcGVuZFRvKCRkcm9wZG93bik7XG5cblx0XHRpZihpbnB1dElkID0gJGlucHV0LmF0dHIoJ2lkJykpIHtcblx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ2lkJywgaW5wdXRJZCArICctc2VsZWN0aXplZCcpO1xuXHRcdFx0JChcImxhYmVsW2Zvcj0nXCIraW5wdXRJZCtcIiddXCIpLmF0dHIoJ2ZvcicsIGlucHV0SWQgKyAnLXNlbGVjdGl6ZWQnKTtcblx0XHR9XG5cblx0XHRpZihzZWxmLnNldHRpbmdzLmNvcHlDbGFzc2VzVG9Ecm9wZG93bikge1xuXHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKGNsYXNzZXMpO1xuXHRcdH1cblxuXHRcdCR3cmFwcGVyLmNzcyh7XG5cdFx0XHR3aWR0aDogJGlucHV0WzBdLnN0eWxlLndpZHRoXG5cdFx0fSk7XG5cblx0XHRpZiAoc2VsZi5wbHVnaW5zLm5hbWVzLmxlbmd0aCkge1xuXHRcdFx0Y2xhc3Nlc19wbHVnaW5zID0gJ3BsdWdpbi0nICsgc2VsZi5wbHVnaW5zLm5hbWVzLmpvaW4oJyBwbHVnaW4tJyk7XG5cdFx0XHQkd3JhcHBlci5hZGRDbGFzcyhjbGFzc2VzX3BsdWdpbnMpO1xuXHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKGNsYXNzZXNfcGx1Z2lucyk7XG5cdFx0fVxuXG5cdFx0aWYgKChzZXR0aW5ncy5tYXhJdGVtcyA9PT0gbnVsbCB8fCBzZXR0aW5ncy5tYXhJdGVtcyA+IDEpICYmIHNlbGYudGFnVHlwZSA9PT0gVEFHX1NFTEVDVCkge1xuXHRcdFx0JGlucHV0LmF0dHIoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHNlbGYuc2V0dGluZ3MucGxhY2Vob2xkZXIpIHtcblx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgc2V0dGluZ3MucGxhY2Vob2xkZXIpO1xuXHRcdH1cblxuXHRcdC8vIGlmIHNwbGl0T24gd2FzIG5vdCBwYXNzZWQgaW4sIGNvbnN0cnVjdCBpdCBmcm9tIHRoZSBkZWxpbWl0ZXIgdG8gYWxsb3cgcGFzdGluZyB1bml2ZXJzYWxseVxuXHRcdGlmICghc2VsZi5zZXR0aW5ncy5zcGxpdE9uICYmIHNlbGYuc2V0dGluZ3MuZGVsaW1pdGVyKSB7XG5cdFx0XHR2YXIgZGVsaW1pdGVyRXNjYXBlZCA9IHNlbGYuc2V0dGluZ3MuZGVsaW1pdGVyLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuXHRcdFx0c2VsZi5zZXR0aW5ncy5zcGxpdE9uID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGRlbGltaXRlckVzY2FwZWQgKyAnK1xcXFxzKicpO1xuXHRcdH1cblxuXHRcdGlmICgkaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnKSkge1xuXHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnLCAkaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCRpbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScpKSB7XG5cdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScsICRpbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScpKTtcblx0XHR9XG5cdFx0aWYgKCRpbnB1dC5pcygnaW5wdXQnKSkge1xuXHRcdFx0JGNvbnRyb2xfaW5wdXRbMF0udHlwZSA9ICRpbnB1dFswXS50eXBlO1xuXHRcdH1cblxuXHRcdHNlbGYuJHdyYXBwZXIgICAgICAgICAgPSAkd3JhcHBlcjtcblx0XHRzZWxmLiRjb250cm9sICAgICAgICAgID0gJGNvbnRyb2w7XG5cdFx0c2VsZi4kY29udHJvbF9pbnB1dCAgICA9ICRjb250cm9sX2lucHV0O1xuXHRcdHNlbGYuJGRyb3Bkb3duICAgICAgICAgPSAkZHJvcGRvd247XG5cdFx0c2VsZi4kZHJvcGRvd25fY29udGVudCA9ICRkcm9wZG93bl9jb250ZW50O1xuXG5cdFx0JGRyb3Bkb3duLm9uKCdtb3VzZWVudGVyIG1vdXNlZG93biBtb3VzZXVwIGNsaWNrJywgJ1tkYXRhLWRpc2FibGVkXT5bZGF0YS1zZWxlY3RhYmxlXScsIGZ1bmN0aW9uKGUpIHsgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsgfSk7XG5cdFx0JGRyb3Bkb3duLm9uKCdtb3VzZWVudGVyJywgJ1tkYXRhLXNlbGVjdGFibGVdJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uT3B0aW9uSG92ZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSk7XG5cdFx0JGRyb3Bkb3duLm9uKCdtb3VzZXVwIGNsaWNrJywgJ1tkYXRhLXNlbGVjdGFibGVdJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uT3B0aW9uU2VsZWN0LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0pO1xuXHRcdHdhdGNoQ2hpbGRFdmVudCgkY29udHJvbCwgJ21vdXNldXAnLCAnKjpub3QoaW5wdXQpJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uSXRlbVNlbGVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9KTtcblx0XHRhdXRvR3JvdygkY29udHJvbF9pbnB1dCk7XG5cblx0XHQkY29udHJvbC5vbih7XG5cdFx0XHRtb3VzZWRvd24gOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25Nb3VzZURvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdGNsaWNrICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbkNsaWNrLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH1cblx0XHR9KTtcblxuXHRcdCRjb250cm9sX2lucHV0Lm9uKHtcblx0XHRcdG1vdXNlZG93biA6IGZ1bmN0aW9uKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSxcblx0XHRcdGtleWRvd24gICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbktleURvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdGtleXByZXNzICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbktleVByZXNzLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXG5cdFx0XHRpbnB1dCAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25JbnB1dC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0cmVzaXplICAgIDogZnVuY3Rpb24oKSB7IHNlbGYucG9zaXRpb25Ecm9wZG93bi5hcHBseShzZWxmLCBbXSk7IH0sXG5cdFx0XHQvLyBibHVyICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25CbHVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXG5cdFx0XHRmb2N1cyAgICAgOiBmdW5jdGlvbigpIHsgc2VsZi5pZ25vcmVCbHVyID0gZmFsc2U7IHJldHVybiBzZWxmLm9uRm9jdXMuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdHBhc3RlICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vblBhc3RlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH1cblx0XHR9KTtcblxuXHRcdCRkb2N1bWVudC5vbigna2V5ZG93bicgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRzZWxmLmlzQ21kRG93biA9IGVbSVNfTUFDID8gJ21ldGFLZXknIDogJ2N0cmxLZXknXTtcblx0XHRcdHNlbGYuaXNDdHJsRG93biA9IGVbSVNfTUFDID8gJ2FsdEtleScgOiAnY3RybEtleSddO1xuXHRcdFx0c2VsZi5pc1NoaWZ0RG93biA9IGUuc2hpZnRLZXk7XG5cdFx0fSk7XG5cblx0XHQkZG9jdW1lbnQub24oJ2tleXVwJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9DVFJMKSBzZWxmLmlzQ3RybERvd24gPSBmYWxzZTtcblx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9TSElGVCkgc2VsZi5pc1NoaWZ0RG93biA9IGZhbHNlO1xuXHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gS0VZX0NNRCkgc2VsZi5pc0NtZERvd24gPSBmYWxzZTtcblx0XHR9KTtcblxuXHRcdCRkb2N1bWVudC5vbignbW91c2Vkb3duJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmIChzZWxmLmlzRm9jdXNlZCkge1xuXHRcdFx0XHQvLyBwcmV2ZW50IGV2ZW50cyBvbiB0aGUgZHJvcGRvd24gc2Nyb2xsYmFyIGZyb20gY2F1c2luZyB0aGUgY29udHJvbCB0byBibHVyXG5cdFx0XHRcdGlmIChlLnRhcmdldCA9PT0gc2VsZi4kZHJvcGRvd25bMF0gfHwgZS50YXJnZXQucGFyZW50Tm9kZSA9PT0gc2VsZi4kZHJvcGRvd25bMF0pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gYmx1ciBvbiBjbGljayBvdXRzaWRlXG5cdFx0XHRcdC8vIGRvIG5vdCBibHVyIGlmIHRoZSBkcm9wZG93biBpcyBjbGlja2VkXG5cdFx0XHRcdGlmICghc2VsZi4kZHJvcGRvd24uaGFzKGUudGFyZ2V0KS5sZW5ndGggJiYgZS50YXJnZXQgIT09IHNlbGYuJGNvbnRyb2xbMF0pIHtcblx0XHRcdFx0XHRzZWxmLmJsdXIoZS50YXJnZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkd2luZG93Lm9uKFsnc2Nyb2xsJyArIGV2ZW50TlMsICdyZXNpemUnICsgZXZlbnROU10uam9pbignICcpLCBmdW5jdGlvbigpIHtcblx0XHRcdGlmIChzZWxmLmlzT3Blbikge1xuXHRcdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQkd2luZG93Lm9uKCdtb3VzZW1vdmUnICsgZXZlbnROUywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmlnbm9yZUhvdmVyID0gc2VsZi5zZXR0aW5ncy5pZ25vcmVIb3Zlcjtcblx0XHR9KTtcblxuXHRcdC8vIHN0b3JlIG9yaWdpbmFsIGNoaWxkcmVuIGFuZCB0YWIgaW5kZXggc28gdGhhdCB0aGV5IGNhbiBiZVxuXHRcdC8vIHJlc3RvcmVkIHdoZW4gdGhlIGRlc3Ryb3koKSBtZXRob2QgaXMgY2FsbGVkLlxuXHRcdC8vIERldGFjaCBjaGlsZHJlbiBvdXRzaWRlIG9mIERPTSB0byBwcmV2ZW50IHNsb3dkb3duIG9uIGxhcmdlIHNlbGVjdHNcbiAgICB2YXIgaW5wdXRQbGFjZWhvbGRlciA9ICQoJzxkaXY+PC9kaXY+Jyk7XG5cdFx0dmFyIGlucHV0Q2hpbGRyZW4gPSAkaW5wdXQuY2hpbGRyZW4oKS5kZXRhY2goKTtcblxuICAgICRpbnB1dC5yZXBsYWNlV2l0aChpbnB1dFBsYWNlaG9sZGVyKTtcbiAgICBpbnB1dFBsYWNlaG9sZGVyLnJlcGxhY2VXaXRoKCRpbnB1dCk7XG5cbiAgICB0aGlzLnJldmVydFNldHRpbmdzID0ge1xuXHRcdFx0JGNoaWxkcmVuIDogaW5wdXRDaGlsZHJlbixcblx0XHRcdHRhYmluZGV4ICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpXG5cdFx0fTtcblxuXHRcdCRpbnB1dC5hdHRyKCd0YWJpbmRleCcsIC0xKS5oaWRlKCkuYWZ0ZXIoc2VsZi4kd3JhcHBlcik7XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShzZXR0aW5ncy5pdGVtcykpIHtcblx0XHRcdHNlbGYubGFzdFZhbGlkVmFsdWUgPSBzZXR0aW5ncy5pdGVtcztcblx0XHRcdHNlbGYuc2V0VmFsdWUoc2V0dGluZ3MuaXRlbXMpO1xuXHRcdFx0ZGVsZXRlIHNldHRpbmdzLml0ZW1zO1xuXHRcdH1cblxuXHRcdC8vIGZlYXR1cmUgZGV0ZWN0IGZvciB0aGUgdmFsaWRhdGlvbiBBUElcblx0XHRpZiAoU1VQUE9SVFNfVkFMSURJVFlfQVBJKSB7XG5cdFx0XHQkaW5wdXQub24oJ2ludmFsaWQnICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHNlbGYuaXNJbnZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCgpO1xuXHRcdHNlbGYucmVmcmVzaEl0ZW1zKCk7XG5cdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XG5cdFx0c2VsZi5pc1NldHVwID0gdHJ1ZTtcblxuXHRcdGlmICgkaW5wdXQuaXMoJzpkaXNhYmxlZCcpKSB7XG5cdFx0XHRzZWxmLmRpc2FibGUoKTtcblx0XHR9XG5cblx0XHRzZWxmLm9uKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlKTtcblxuXHRcdCRpbnB1dC5kYXRhKCdzZWxlY3RpemUnLCBzZWxmKTtcblx0XHQkaW5wdXQuYWRkQ2xhc3MoJ3NlbGVjdGl6ZWQnKTtcblx0XHRzZWxmLnRyaWdnZXIoJ2luaXRpYWxpemUnKTtcblxuXHRcdC8vIHByZWxvYWQgb3B0aW9uc1xuXHRcdGlmIChzZXR0aW5ncy5wcmVsb2FkID09PSB0cnVlKSB7XG5cdFx0XHRzZWxmLm9uU2VhcmNoQ2hhbmdlKCcnKTtcblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogU2V0cyB1cCBkZWZhdWx0IHJlbmRlcmluZyBmdW5jdGlvbnMuXG5cdCAqL1xuXHRzZXR1cFRlbXBsYXRlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciBmaWVsZF9sYWJlbCA9IHNlbGYuc2V0dGluZ3MubGFiZWxGaWVsZDtcblx0XHR2YXIgZmllbGRfdmFsdWUgPSBzZWxmLnNldHRpbmdzLnZhbHVlRmllbGQ7XG5cdFx0dmFyIGZpZWxkX29wdGdyb3VwID0gc2VsZi5zZXR0aW5ncy5vcHRncm91cExhYmVsRmllbGQ7XG5cblx0XHR2YXIgdGVtcGxhdGVzID0ge1xuXHRcdFx0J29wdGdyb3VwJzogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJvcHRncm91cFwiPicgKyBkYXRhLmh0bWwgKyAnPC9kaXY+Jztcblx0XHRcdH0sXG5cdFx0XHQnb3B0Z3JvdXBfaGVhZGVyJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XG5cdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGdyb3VwLWhlYWRlclwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9vcHRncm91cF0pICsgJzwvZGl2Pic7XG5cdFx0XHR9LFxuXHRcdFx0J29wdGlvbic6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xuICAgICAgICB2YXIgY2xhc3NlcyA9IGRhdGEuY2xhc3NlcyA/ICcgJyArIGRhdGEuY2xhc3NlcyA6ICcnO1xuICAgICAgICBjbGFzc2VzICs9IGRhdGFbZmllbGRfdmFsdWVdID09PSAnJyA/ICcgc2VsZWN0aXplLWRyb3Bkb3duLWVtcHR5b3B0aW9ubGFiZWwnIDogJyc7XG5cbiAgICAgICAgdmFyIHN0eWxlcyA9IGRhdGEuc3R5bGVzID8gJyBzdHlsZT1cIicgKyBkYXRhLnN0eWxlcyArICAnXCInOiAnJztcblx0XHRcdFx0cmV0dXJuICc8ZGl2JyArIHN0eWxlcyArICcgY2xhc3M9XCJvcHRpb24nICsgY2xhc3NlcyArICdcIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfbGFiZWxdKSArICc8L2Rpdj4nO1xuXHRcdFx0fSxcblx0XHRcdCdpdGVtJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XG5cdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIml0ZW1cIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfbGFiZWxdKSArICc8L2Rpdj4nO1xuXHRcdFx0fSxcblx0XHRcdCdvcHRpb25fY3JlYXRlJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XG5cdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cImNyZWF0ZVwiPkFkZCA8c3Ryb25nPicgKyBlc2NhcGUoZGF0YS5pbnB1dCkgKyAnPC9zdHJvbmc+JiN4MjAyNjs8L2Rpdj4nO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRzZWxmLnNldHRpbmdzLnJlbmRlciA9ICQuZXh0ZW5kKHt9LCB0ZW1wbGF0ZXMsIHNlbGYuc2V0dGluZ3MucmVuZGVyKTtcblx0fSxcblxuXHQvKipcblx0ICogTWFwcyBmaXJlZCBldmVudHMgdG8gY2FsbGJhY2tzIHByb3ZpZGVkXG5cdCAqIGluIHRoZSBzZXR0aW5ncyB1c2VkIHdoZW4gY3JlYXRpbmcgdGhlIGNvbnRyb2wuXG5cdCAqL1xuXHRzZXR1cENhbGxiYWNrczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGtleSwgZm4sIGNhbGxiYWNrcyA9IHtcblx0XHRcdCdpbml0aWFsaXplJyAgICAgIDogJ29uSW5pdGlhbGl6ZScsXG5cdFx0XHQnY2hhbmdlJyAgICAgICAgICA6ICdvbkNoYW5nZScsXG5cdFx0XHQnaXRlbV9hZGQnICAgICAgICA6ICdvbkl0ZW1BZGQnLFxuXHRcdFx0J2l0ZW1fcmVtb3ZlJyAgICAgOiAnb25JdGVtUmVtb3ZlJyxcblx0XHRcdCdjbGVhcicgICAgICAgICAgIDogJ29uQ2xlYXInLFxuXHRcdFx0J29wdGlvbl9hZGQnICAgICAgOiAnb25PcHRpb25BZGQnLFxuXHRcdFx0J29wdGlvbl9yZW1vdmUnICAgOiAnb25PcHRpb25SZW1vdmUnLFxuXHRcdFx0J29wdGlvbl9jbGVhcicgICAgOiAnb25PcHRpb25DbGVhcicsXG5cdFx0XHQnb3B0Z3JvdXBfYWRkJyAgICA6ICdvbk9wdGlvbkdyb3VwQWRkJyxcblx0XHRcdCdvcHRncm91cF9yZW1vdmUnIDogJ29uT3B0aW9uR3JvdXBSZW1vdmUnLFxuXHRcdFx0J29wdGdyb3VwX2NsZWFyJyAgOiAnb25PcHRpb25Hcm91cENsZWFyJyxcblx0XHRcdCdkcm9wZG93bl9vcGVuJyAgIDogJ29uRHJvcGRvd25PcGVuJyxcblx0XHRcdCdkcm9wZG93bl9jbG9zZScgIDogJ29uRHJvcGRvd25DbG9zZScsXG5cdFx0XHQndHlwZScgICAgICAgICAgICA6ICdvblR5cGUnLFxuXHRcdFx0J2xvYWQnICAgICAgICAgICAgOiAnb25Mb2FkJyxcblx0XHRcdCdmb2N1cycgICAgICAgICAgIDogJ29uRm9jdXMnLFxuXHRcdFx0J2JsdXInICAgICAgICAgICAgOiAnb25CbHVyJyxcblx0XHRcdCdkcm9wZG93bl9pdGVtX2FjdGl2YXRlJyAgICAgICAgOiAnb25Ecm9wZG93bkl0ZW1BY3RpdmF0ZScsXG5cdFx0XHQnZHJvcGRvd25faXRlbV9kZWFjdGl2YXRlJyAgICAgIDogJ29uRHJvcGRvd25JdGVtRGVhY3RpdmF0ZSdcblx0XHR9O1xuXG5cdFx0Zm9yIChrZXkgaW4gY2FsbGJhY2tzKSB7XG5cdFx0XHRpZiAoY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0Zm4gPSB0aGlzLnNldHRpbmdzW2NhbGxiYWNrc1trZXldXTtcblx0XHRcdFx0aWYgKGZuKSB0aGlzLm9uKGtleSwgZm4pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1haW4gY29udHJvbCBlbGVtZW50XG5cdCAqIGhhcyBhIGNsaWNrIGV2ZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZVxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0b25DbGljazogZnVuY3Rpb24oZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIGlmIHRoZSBkcm9wZG93biBpcyBjbG9zaW5nIGR1ZSB0byBhIG1vdXNlZG93biwgd2UgZG9uJ3Qgd2FudCB0b1xuICAgIC8vIHJlZm9jdXMgdGhlIGVsZW1lbnQuXG4gICAgaWYgKHNlbGYuaXNEcm9wZG93bkNsb3NpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cblx0XHQvLyBuZWNlc3NhcnkgZm9yIG1vYmlsZSB3ZWJraXQgZGV2aWNlcyAobWFudWFsIGZvY3VzIHRyaWdnZXJpbmdcblx0XHQvLyBpcyBpZ25vcmVkIHVubGVzcyBpbnZva2VkIHdpdGhpbiBhIGNsaWNrIGV2ZW50KVxuICAgIC8vIGFsc28gbmVjZXNzYXJ5IHRvIHJlb3BlbiBhIGRyb3Bkb3duIHRoYXQgaGFzIGJlZW4gY2xvc2VkIGJ5XG4gICAgLy8gY2xvc2VBZnRlclNlbGVjdFxuXHRcdGlmICghc2VsZi5pc0ZvY3VzZWQgfHwgIXNlbGYuaXNPcGVuKSB7XG5cdFx0XHRzZWxmLmZvY3VzKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgbWFpbiBjb250cm9sIGVsZW1lbnRcblx0ICogaGFzIGEgbW91c2UgZG93biBldmVudC5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdG9uTW91c2VEb3duOiBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciBkZWZhdWx0UHJldmVudGVkID0gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKTtcblx0XHR2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuXG5cdFx0aWYgKHNlbGYuaXNGb2N1c2VkKSB7XG5cdFx0XHQvLyByZXRhaW4gZm9jdXMgYnkgcHJldmVudGluZyBuYXRpdmUgaGFuZGxpbmcuIGlmIHRoZVxuXHRcdFx0Ly8gZXZlbnQgdGFyZ2V0IGlzIHRoZSBpbnB1dCBpdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuXHRcdFx0Ly8gb3RoZXJ3aXNlLCB0ZXh0IHNlbGVjdGlvbiB3aXRoaW4gdGhlIGlucHV0IHdvbid0IHdvcmsuXG5cdFx0XHRpZiAoZS50YXJnZXQgIT09IHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pIHtcblx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcblx0XHRcdFx0XHQvLyB0b2dnbGUgZHJvcGRvd25cblx0XHRcdFx0XHRzZWxmLmlzT3BlbiA/IHNlbGYuY2xvc2UoKSA6IHNlbGYub3BlbigpO1xuXG5cdFx0XHRcdFx0Ly8gd2hlbiBjbG9zaW5nIHRoZSBkcm9wZG93biwgd2Ugc2V0IGEgaXNEcm9wZG93bkNsb3Npbmdcblx0XHRcdFx0XHQvLyB2YXJpYmxlIHRlbXBvcmFpbHkgdG8gcHJldmVudCB0aGUgZHJvcGRvd24gZnJvbSByZW9wZW5pbmdcblx0XHRcdFx0XHQvLyBmcm9tIHRoZSBvbkNsaWNrIGV2ZW50XG5cdFx0XHRcdFx0c2VsZi5pc0Ryb3Bkb3duQ2xvc2luZyA9IHRydWU7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHNlbGYuaXNEcm9wZG93bkNsb3NpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9LCBzZWxmLnNldHRpbmdzLmNsb3NlRHJvcGRvd25UaHJlc2hvbGQpO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIWRlZmF1bHRQcmV2ZW50ZWQpIHtcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBnaXZlIGNvbnRyb2wgZm9jdXNcblx0XHRcdGlmICghZGVmYXVsdFByZXZlbnRlZCkge1xuXHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmZvY3VzKCk7XG5cdFx0XHRcdH0sIDApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWQuXG5cdCAqIFRoaXMgc2hvdWxkIHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gdGhlIG9yaWdpbmFsIERPTVxuXHQgKiBpbnB1dCAvIHNlbGVjdCBlbGVtZW50LlxuXHQgKi9cblx0b25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRpZiAoc2VsZi5nZXRWYWx1ZSgpICE9PSBcIlwiKSB7XG5cdFx0XHRzZWxmLmxhc3RWYWxpZFZhbHVlID0gc2VsZi5nZXRWYWx1ZSgpO1xuXHRcdH1cblx0XHR0aGlzLiRpbnB1dC50cmlnZ2VyKCdpbnB1dCcpO1xuXHRcdHRoaXMuJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBwYXN0ZS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRvblBhc3RlOiBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKHNlbGYuaXNGdWxsKCkgfHwgc2VsZi5pc0lucHV0SGlkZGVuIHx8IHNlbGYuaXNMb2NrZWQpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiBhIHJlZ2V4IG9yIHN0cmluZyBpcyBpbmNsdWRlZCwgdGhpcyB3aWxsIHNwbGl0IHRoZSBwYXN0ZWRcblx0XHQvLyBpbnB1dCBhbmQgY3JlYXRlIEl0ZW1zIGZvciBlYWNoIHNlcGFyYXRlIHZhbHVlXG5cdFx0aWYgKHNlbGYuc2V0dGluZ3Muc3BsaXRPbikge1xuXG5cdFx0XHQvLyBXYWl0IGZvciBwYXN0ZWQgdGV4dCB0byBiZSByZWNvZ25pemVkIGluIHZhbHVlXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcGFzdGVkVGV4dCA9IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCk7XG5cdFx0XHRcdGlmKCFwYXN0ZWRUZXh0Lm1hdGNoKHNlbGYuc2V0dGluZ3Muc3BsaXRPbikpeyByZXR1cm4gfVxuXG5cdFx0XHRcdHZhciBzcGxpdElucHV0ID0gcGFzdGVkVGV4dFxuXHRcdFx0XHRcdC50cmltKClcblx0XHRcdFx0XHQuc3BsaXQoc2VsZi5zZXR0aW5ncy5zcGxpdE9uKTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSBzcGxpdElucHV0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdHNlbGYuY3JlYXRlSXRlbShzcGxpdElucHV0W2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBrZXlwcmVzcy5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRvbktleVByZXNzOiBmdW5jdGlvbihlKSB7XG5cdFx0aWYgKHRoaXMuaXNMb2NrZWQpIHJldHVybiBlICYmIGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgY2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUgfHwgZS53aGljaCk7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuY3JlYXRlICYmIHRoaXMuc2V0dGluZ3MubW9kZSA9PT0gJ211bHRpJyAmJiBjaGFyYWN0ZXIgPT09IHRoaXMuc2V0dGluZ3MuZGVsaW1pdGVyKSB7XG5cdFx0XHR0aGlzLmNyZWF0ZUl0ZW0oKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGtleWRvd24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0b25LZXlEb3duOiBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIGlzSW5wdXQgPSBlLnRhcmdldCA9PT0gdGhpcy4kY29udHJvbF9pbnB1dFswXTtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoc2VsZi5pc0xvY2tlZCkge1xuXHRcdFx0aWYgKGUua2V5Q29kZSAhPT0gS0VZX1RBQikge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChlLmtleUNvZGUpIHtcblx0XHRcdGNhc2UgS0VZX0E6XG5cdFx0XHRcdGlmIChzZWxmLmlzQ21kRG93bikge1xuXHRcdFx0XHRcdHNlbGYuc2VsZWN0QWxsKCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBLRVlfRVNDOlxuXHRcdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0Y2FzZSBLRVlfTjpcblx0XHRcdFx0aWYgKCFlLmN0cmxLZXkgfHwgZS5hbHRLZXkpIGJyZWFrO1xuXHRcdFx0Y2FzZSBLRVlfRE9XTjpcblx0XHRcdFx0aWYgKCFzZWxmLmlzT3BlbiAmJiBzZWxmLmhhc09wdGlvbnMpIHtcblx0XHRcdFx0XHRzZWxmLm9wZW4oKTtcblx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHtcblx0XHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcblx0XHRcdFx0XHR2YXIgJG5leHQgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgMSk7XG5cdFx0XHRcdFx0aWYgKCRuZXh0Lmxlbmd0aCkgc2VsZi5zZXRBY3RpdmVPcHRpb24oJG5leHQsIHRydWUsIHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0Y2FzZSBLRVlfUDpcblx0XHRcdFx0aWYgKCFlLmN0cmxLZXkgfHwgZS5hbHRLZXkpIGJyZWFrO1xuXHRcdFx0Y2FzZSBLRVlfVVA6XG5cdFx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHtcblx0XHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcblx0XHRcdFx0XHR2YXIgJHByZXYgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgLTEpO1xuXHRcdFx0XHRcdGlmICgkcHJldi5sZW5ndGgpIHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRwcmV2LCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGNhc2UgS0VZX1JFVFVSTjpcblx0XHRcdFx0aWYgKHNlbGYuaXNPcGVuICYmIHNlbGYuJGFjdGl2ZU9wdGlvbikge1xuXHRcdFx0XHRcdHNlbGYub25PcHRpb25TZWxlY3Qoe2N1cnJlbnRUYXJnZXQ6IHNlbGYuJGFjdGl2ZU9wdGlvbn0pO1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlIEtFWV9MRUZUOlxuXHRcdFx0XHRzZWxmLmFkdmFuY2VTZWxlY3Rpb24oLTEsIGUpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlIEtFWV9SSUdIVDpcblx0XHRcdFx0c2VsZi5hZHZhbmNlU2VsZWN0aW9uKDEsIGUpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlIEtFWV9UQUI6XG5cdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnNlbGVjdE9uVGFiICYmIHNlbGYuaXNPcGVuICYmIHNlbGYuJGFjdGl2ZU9wdGlvbikge1xuXHRcdFx0XHRcdHNlbGYub25PcHRpb25TZWxlY3Qoe2N1cnJlbnRUYXJnZXQ6IHNlbGYuJGFjdGl2ZU9wdGlvbn0pO1xuXG5cdFx0XHRcdFx0Ly8gRGVmYXVsdCBiZWhhdmlvdXIgaXMgdG8ganVtcCB0byB0aGUgbmV4dCBmaWVsZCwgd2Ugb25seSB3YW50IHRoaXNcblx0XHRcdFx0XHQvLyBpZiB0aGUgY3VycmVudCBmaWVsZCBkb2Vzbid0IGFjY2VwdCBhbnkgbW9yZSBlbnRyaWVzXG5cdFx0XHRcdFx0aWYgKCFzZWxmLmlzRnVsbCgpKSB7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLmNyZWF0ZUl0ZW0oKSAmJiBzZWxmLnNldHRpbmdzLnNob3dBZGRPcHRpb25PbkNyZWF0ZSkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlIEtFWV9CQUNLU1BBQ0U6XG5cdFx0XHRjYXNlIEtFWV9ERUxFVEU6XG5cdFx0XHRcdHNlbGYuZGVsZXRlU2VsZWN0aW9uKGUpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKChzZWxmLmlzRnVsbCgpIHx8IHNlbGYuaXNJbnB1dEhpZGRlbikgJiYgIShJU19NQUMgPyBlLm1ldGFLZXkgOiBlLmN0cmxLZXkpKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBpbnB1dC5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRvbklucHV0OiBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dmFyIHZhbHVlID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSB8fCAnJztcblx0XHRpZiAoc2VsZi5sYXN0VmFsdWUgIT09IHZhbHVlKSB7XG5cdFx0XHRzZWxmLmxhc3RWYWx1ZSA9IHZhbHVlO1xuXHRcdFx0c2VsZi5vblNlYXJjaENoYW5nZSh2YWx1ZSk7XG5cdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKCk7XG5cdFx0XHRzZWxmLnRyaWdnZXIoJ3R5cGUnLCB2YWx1ZSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBJbnZva2VzIHRoZSB1c2VyLXByb3ZpZGUgb3B0aW9uIHByb3ZpZGVyIC8gbG9hZGVyLlxuXHQgKlxuXHQgKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIGlzIGRlYm91bmNlZCBpbiB0aGUgU2VsZWN0aXplXG5cdCAqIGNvbnN0cnVjdG9yIChieSBgc2V0dGluZ3MubG9hZFRocm90dGxlYCBtaWxsaXNlY29uZHMpXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHQgKi9cblx0b25TZWFyY2hDaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciBmbiA9IHNlbGYuc2V0dGluZ3MubG9hZDtcblx0XHRpZiAoIWZuKSByZXR1cm47XG5cdFx0aWYgKHNlbGYubG9hZGVkU2VhcmNoZXMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XG5cdFx0c2VsZi5sb2FkZWRTZWFyY2hlc1t2YWx1ZV0gPSB0cnVlO1xuXHRcdHNlbGYubG9hZChmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgW3ZhbHVlLCBjYWxsYmFja10pO1xuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBmb2N1cy5cblx0ICpcblx0ICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIChvcHRpb25hbClcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRvbkZvY3VzOiBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciB3YXNGb2N1c2VkID0gc2VsZi5pc0ZvY3VzZWQ7XG5cblx0XHRpZiAoc2VsZi5pc0Rpc2FibGVkKSB7XG5cdFx0XHRzZWxmLmJsdXIoKTtcblx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSByZXR1cm47XG5cdFx0c2VsZi5pc0ZvY3VzZWQgPSB0cnVlO1xuXHRcdGlmIChzZWxmLnNldHRpbmdzLnByZWxvYWQgPT09ICdmb2N1cycpIHNlbGYub25TZWFyY2hDaGFuZ2UoJycpO1xuXG5cdFx0aWYgKCF3YXNGb2N1c2VkKSBzZWxmLnRyaWdnZXIoJ2ZvY3VzJyk7XG5cblx0XHRpZiAoIXNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xuXHRcdFx0c2VsZi5zaG93SW5wdXQoKTtcblx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcblx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoISFzZWxmLnNldHRpbmdzLm9wZW5PbkZvY3VzKTtcblx0XHR9XG5cblx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBibHVyLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGRlc3Rcblx0ICovXG5cdG9uQmx1cjogZnVuY3Rpb24oZSwgZGVzdCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRpZiAoIXNlbGYuaXNGb2N1c2VkKSByZXR1cm47XG5cdFx0c2VsZi5pc0ZvY3VzZWQgPSBmYWxzZTtcblxuXHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIEJ1ZyBmaXggZG8gbm90IGJsdXIgZHJvcGRvd24gaGVyZVxuXHRcdC8vIGVsc2UgaWYgKCFzZWxmLmlnbm9yZUJsdXIgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gc2VsZi4kZHJvcGRvd25fY29udGVudFswXSkge1xuXHRcdC8vIFx0Ly8gbmVjZXNzYXJ5IHRvIHByZXZlbnQgSUUgY2xvc2luZyB0aGUgZHJvcGRvd24gd2hlbiB0aGUgc2Nyb2xsYmFyIGlzIGNsaWNrZWRcblx0XHQvLyBcdHNlbGYuaWdub3JlQmx1ciA9IHRydWU7XG5cdFx0Ly8gXHRzZWxmLm9uRm9jdXMoZSk7XG5cdFx0Ly8gXHRyZXR1cm47XG5cdFx0Ly8gfVxuXG5cdFx0dmFyIGRlYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcblx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcblx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKG51bGwpO1xuXHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXG5cdFx0XHQvLyBJRTExIGJ1ZzogZWxlbWVudCBzdGlsbCBtYXJrZWQgYXMgYWN0aXZlXG5cdFx0XHRkZXN0ICYmIGRlc3QuZm9jdXMgJiYgZGVzdC5mb2N1cygpO1xuXG5cdFx0XHRzZWxmLmlzQmx1cnJpbmcgPSBmYWxzZTtcblx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSBmYWxzZTtcblx0XHRcdHNlbGYudHJpZ2dlcignYmx1cicpO1xuXHRcdH07XG5cblx0XHRzZWxmLmlzQmx1cnJpbmcgPSB0cnVlO1xuXHRcdHNlbGYuaWdub3JlRm9jdXMgPSB0cnVlO1xuXHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLnNldHRpbmdzLmNyZWF0ZU9uQmx1cikge1xuXHRcdFx0c2VsZi5jcmVhdGVJdGVtKG51bGwsIGZhbHNlLCBkZWFjdGl2YXRlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVhY3RpdmF0ZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcm9sbHMgb3ZlclxuXHQgKiBhbiBvcHRpb24gaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICovXG5cdG9uT3B0aW9uSG92ZXI6IGZ1bmN0aW9uKGUpIHtcblx0XHRpZiAodGhpcy5pZ25vcmVIb3ZlcikgcmV0dXJuO1xuXHRcdHRoaXMuc2V0QWN0aXZlT3B0aW9uKGUuY3VycmVudFRhcmdldCwgZmFsc2UpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYW4gb3B0aW9uXG5cdCAqIGluIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRvbk9wdGlvblNlbGVjdDogZnVuY3Rpb24oZSkge1xuXHRcdHZhciB2YWx1ZSwgJHRhcmdldCwgJG9wdGlvbiwgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHQkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHRcdGlmICgkdGFyZ2V0Lmhhc0NsYXNzKCdjcmVhdGUnKSkge1xuXHRcdFx0c2VsZi5jcmVhdGVJdGVtKG51bGwsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jbG9zZUFmdGVyU2VsZWN0KSB7XG5cdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsdWUgPSAkdGFyZ2V0LmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcblx0XHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xuXHRcdFx0XHRzZWxmLmFkZEl0ZW0odmFsdWUpO1xuXHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jbG9zZUFmdGVyU2VsZWN0KSB7XG5cdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCFzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCAmJiBlLnR5cGUgJiYgL21vdXNlLy50ZXN0KGUudHlwZSkpIHtcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldE9wdGlvbih2YWx1ZSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYW4gaXRlbVxuXHQgKiB0aGF0IGhhcyBiZWVuIHNlbGVjdGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICovXG5cdG9uSXRlbVNlbGVjdDogZnVuY3Rpb24oZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XG5cdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ211bHRpJykge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKGUuY3VycmVudFRhcmdldCwgZSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBJbnZva2VzIHRoZSBwcm92aWRlZCBtZXRob2QgdGhhdCBwcm92aWRlc1xuXHQgKiByZXN1bHRzIHRvIGEgY2FsbGJhY2stLS13aGljaCBhcmUgdGhlbiBhZGRlZFxuXHQgKiBhcyBvcHRpb25zIHRvIHRoZSBjb250cm9sLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuXHQgKi9cblx0bG9hZDogZnVuY3Rpb24oZm4pIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0dmFyICR3cmFwcGVyID0gc2VsZi4kd3JhcHBlci5hZGRDbGFzcyhzZWxmLnNldHRpbmdzLmxvYWRpbmdDbGFzcyk7XG5cblx0XHRzZWxmLmxvYWRpbmcrKztcblx0XHRmbi5hcHBseShzZWxmLCBbZnVuY3Rpb24ocmVzdWx0cykge1xuXHRcdFx0c2VsZi5sb2FkaW5nID0gTWF0aC5tYXgoc2VsZi5sb2FkaW5nIC0gMSwgMCk7XG5cdFx0XHRpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLmFkZE9wdGlvbihyZXN1bHRzKTtcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhzZWxmLmlzRm9jdXNlZCAmJiAhc2VsZi5pc0lucHV0SGlkZGVuKTtcblx0XHRcdH1cblx0XHRcdGlmICghc2VsZi5sb2FkaW5nKSB7XG5cdFx0XHRcdCR3cmFwcGVyLnJlbW92ZUNsYXNzKHNlbGYuc2V0dGluZ3MubG9hZGluZ0NsYXNzKTtcblx0XHRcdH1cblx0XHRcdHNlbGYudHJpZ2dlcignbG9hZCcsIHJlc3VsdHMpO1xuXHRcdH1dKTtcblx0fSxcblxuXHQvKipcblx0ICogR2V0cyB0aGUgdmFsdWUgb2YgaW5wdXQgZmllbGQgb2YgdGhlIGNvbnRyb2wuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IHZhbHVlXG5cdCAqL1xuXHRnZXRUZXh0Ym94VmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciAkaW5wdXQgPSB0aGlzLiRjb250cm9sX2lucHV0O1xuXHRcdHJldHVybiAkaW5wdXQudmFsKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGlucHV0IGZpZWxkIG9mIHRoZSBjb250cm9sIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHQgKi9cblx0c2V0VGV4dGJveFZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdHZhciAkaW5wdXQgPSB0aGlzLiRjb250cm9sX2lucHV0O1xuXHRcdHZhciBjaGFuZ2VkID0gJGlucHV0LnZhbCgpICE9PSB2YWx1ZTtcblx0XHRpZiAoY2hhbmdlZCkge1xuXHRcdFx0JGlucHV0LnZhbCh2YWx1ZSkudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScpO1xuXHRcdFx0dGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBjb250cm9sLiBJZiBtdWx0aXBsZSBpdGVtc1xuXHQgKiBjYW4gYmUgc2VsZWN0ZWQgKGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4pLCB0aGlzIHJldHVybnNcblx0ICogYW4gYXJyYXkuIElmIG9ubHkgb25lIGl0ZW0gY2FuIGJlIHNlbGVjdGVkLCB0aGlzXG5cdCAqIHJldHVybnMgYSBzdHJpbmcuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHttaXhlZH1cblx0ICovXG5cdGdldFZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy50YWdUeXBlID09PSBUQUdfU0VMRUNUICYmIHRoaXMuJGlucHV0LmF0dHIoJ211bHRpcGxlJykpIHtcblx0XHRcdHJldHVybiB0aGlzLml0ZW1zO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pdGVtcy5qb2luKHRoaXMuc2V0dGluZ3MuZGVsaW1pdGVyKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJlc2V0cyB0aGUgc2VsZWN0ZWQgaXRlbXMgdG8gdGhlIGdpdmVuIHZhbHVlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xOdW1iZXI+fSB2YWx1ZVxuXHQgKi9cblx0c2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcblx0XHRjb25zdCBpdGVtcyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuXHRcdGlmIChpdGVtcy5qb2luKCcnKSA9PT0gdGhpcy5pdGVtcy5qb2luKCcnKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBldmVudHMgPSBzaWxlbnQgPyBbXSA6IFsnY2hhbmdlJ107XG5cblx0XHRkZWJvdW5jZV9ldmVudHModGhpcywgZXZlbnRzLCBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY2xlYXIoc2lsZW50KTtcblx0XHRcdHRoaXMuYWRkSXRlbXModmFsdWUsIHNpbGVudCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJlc2V0cyB0aGUgbnVtYmVyIG9mIG1heCBpdGVtcyB0byB0aGUgZ2l2ZW4gdmFsdWVcblx0ICpcblx0ICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG5cdCAqL1xuXHRzZXRNYXhJdGVtczogZnVuY3Rpb24odmFsdWUpe1xuXHRcdGlmKHZhbHVlID09PSAwKSB2YWx1ZSA9IG51bGw7IC8vcmVzZXQgdG8gdW5saW1pdGVkIGl0ZW1zLlxuXHRcdHRoaXMuc2V0dGluZ3MubWF4SXRlbXMgPSB2YWx1ZTtcblx0XHR0aGlzLnNldHRpbmdzLm1vZGUgPSB0aGlzLnNldHRpbmdzLm1vZGUgfHwgKHRoaXMuc2V0dGluZ3MubWF4SXRlbXMgPT09IDEgPyAnc2luZ2xlJyA6ICdtdWx0aScpO1xuXHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHNlbGVjdGVkIGl0ZW0uXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkaXRlbVxuXHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXG5cdCAqL1xuXHRzZXRBY3RpdmVJdGVtOiBmdW5jdGlvbigkaXRlbSwgZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHR2YXIgZXZlbnROYW1lO1xuXHRcdHZhciBpLCBpZHgsIGJlZ2luLCBlbmQsIGl0ZW0sIHN3YXA7XG5cdFx0dmFyICRsYXN0O1xuXG5cdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHJldHVybjtcblx0XHQkaXRlbSA9ICQoJGl0ZW0pO1xuXG5cdFx0Ly8gY2xlYXIgdGhlIGFjdGl2ZSBzZWxlY3Rpb25cblx0XHRpZiAoISRpdGVtLmxlbmd0aCkge1xuXHRcdFx0JChzZWxmLiRhY3RpdmVJdGVtcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMgPSBbXTtcblx0XHRcdGlmIChzZWxmLmlzRm9jdXNlZCkge1xuXHRcdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIG1vZGlmeSBzZWxlY3Rpb25cblx0XHRldmVudE5hbWUgPSBlICYmIGUudHlwZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0aWYgKGV2ZW50TmFtZSA9PT0gJ21vdXNlZG93bicgJiYgc2VsZi5pc1NoaWZ0RG93biAmJiBzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcblx0XHRcdCRsYXN0ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTpsYXN0Jyk7XG5cdFx0XHRiZWdpbiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2RlcywgWyRsYXN0WzBdXSk7XG5cdFx0XHRlbmQgICA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2RlcywgWyRpdGVtWzBdXSk7XG5cdFx0XHRpZiAoYmVnaW4gPiBlbmQpIHtcblx0XHRcdFx0c3dhcCAgPSBiZWdpbjtcblx0XHRcdFx0YmVnaW4gPSBlbmQ7XG5cdFx0XHRcdGVuZCAgID0gc3dhcDtcblx0XHRcdH1cblx0XHRcdGZvciAoaSA9IGJlZ2luOyBpIDw9IGVuZDsgaSsrKSB7XG5cdFx0XHRcdGl0ZW0gPSBzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXNbaV07XG5cdFx0XHRcdGlmIChzZWxmLiRhY3RpdmVJdGVtcy5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuXHRcdFx0XHRcdCQoaXRlbSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnB1c2goaXRlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9IGVsc2UgaWYgKChldmVudE5hbWUgPT09ICdtb3VzZWRvd24nICYmIHNlbGYuaXNDdHJsRG93bikgfHwgKGV2ZW50TmFtZSA9PT0gJ2tleWRvd24nICYmIHRoaXMuaXNTaGlmdERvd24pKSB7XG5cdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG5cdFx0XHRcdGlkeCA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoJGl0ZW1bMF0pO1xuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5zcGxpY2UoaWR4LCAxKTtcblx0XHRcdFx0JGl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMucHVzaCgkaXRlbS5hZGRDbGFzcygnYWN0aXZlJylbMF0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKHNlbGYuJGFjdGl2ZUl0ZW1zKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IFskaXRlbS5hZGRDbGFzcygnYWN0aXZlJylbMF1dO1xuXHRcdH1cblxuXHRcdC8vIGVuc3VyZSBjb250cm9sIGhhcyBmb2N1c1xuXHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cdFx0aWYgKCF0aGlzLmlzRm9jdXNlZCkge1xuXHRcdFx0c2VsZi5mb2N1cygpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogU2V0cyB0aGUgc2VsZWN0ZWQgaXRlbSBpbiB0aGUgZHJvcGRvd24gbWVudVxuXHQgKiBvZiBhdmFpbGFibGUgb3B0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9ICRvYmplY3Rcblx0ICogQHBhcmFtIHtib29sZWFufSBzY3JvbGxcblx0ICogQHBhcmFtIHtib29sZWFufSBhbmltYXRlXG5cdCAqL1xuXHRzZXRBY3RpdmVPcHRpb246IGZ1bmN0aW9uKCRvcHRpb24sIHNjcm9sbCwgYW5pbWF0ZSkge1xuXHRcdHZhciBoZWlnaHRfbWVudSwgaGVpZ2h0X2l0ZW0sIHk7XG5cdFx0dmFyIHNjcm9sbF90b3AsIHNjcm9sbF9ib3R0b207XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbikge1xuXHRcdFx0c2VsZi4kYWN0aXZlT3B0aW9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdHNlbGYudHJpZ2dlcignZHJvcGRvd25faXRlbV9kZWFjdGl2YXRlJywgc2VsZi4kYWN0aXZlT3B0aW9uLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XG5cdFx0fVxuXHRcdHNlbGYuJGFjdGl2ZU9wdGlvbiA9IG51bGw7XG5cblx0XHQkb3B0aW9uID0gJCgkb3B0aW9uKTtcblx0XHRpZiAoISRvcHRpb24ubGVuZ3RoKSByZXR1cm47XG5cblx0XHRzZWxmLiRhY3RpdmVPcHRpb24gPSAkb3B0aW9uLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRpZiAoc2VsZi5pc09wZW4pIHNlbGYudHJpZ2dlcignZHJvcGRvd25faXRlbV9hY3RpdmF0ZScsIHNlbGYuJGFjdGl2ZU9wdGlvbi5hdHRyKCdkYXRhLXZhbHVlJykpO1xuXG5cdFx0aWYgKHNjcm9sbCB8fCAhaXNzZXQoc2Nyb2xsKSkge1xuXG5cdFx0XHRoZWlnaHRfbWVudSAgID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5oZWlnaHQoKTtcblx0XHRcdGhlaWdodF9pdGVtICAgPSBzZWxmLiRhY3RpdmVPcHRpb24ub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cdFx0XHRzY3JvbGwgICAgICAgID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5zY3JvbGxUb3AoKSB8fCAwO1xuXHRcdFx0eSAgICAgICAgICAgICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vZmZzZXQoKS50b3AgLSBzZWxmLiRkcm9wZG93bl9jb250ZW50Lm9mZnNldCgpLnRvcCArIHNjcm9sbDtcblx0XHRcdHNjcm9sbF90b3AgICAgPSB5O1xuXHRcdFx0c2Nyb2xsX2JvdHRvbSA9IHkgLSBoZWlnaHRfbWVudSArIGhlaWdodF9pdGVtO1xuXG5cdFx0XHRpZiAoeSArIGhlaWdodF9pdGVtID4gaGVpZ2h0X21lbnUgKyBzY3JvbGwpIHtcblx0XHRcdFx0c2VsZi4kZHJvcGRvd25fY29udGVudC5zdG9wKCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGxfYm90dG9tfSwgYW5pbWF0ZSA/IHNlbGYuc2V0dGluZ3Muc2Nyb2xsRHVyYXRpb24gOiAwKTtcblx0XHRcdH0gZWxzZSBpZiAoeSA8IHNjcm9sbCkge1xuXHRcdFx0XHRzZWxmLiRkcm9wZG93bl9jb250ZW50LnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbF90b3B9LCBhbmltYXRlID8gc2VsZi5zZXR0aW5ncy5zY3JvbGxEdXJhdGlvbiA6IDApO1xuXHRcdFx0fVxuXG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZWxlY3RzIGFsbCBpdGVtcyAoQ1RSTCArIEEpLlxuXHQgKi9cblx0c2VsZWN0QWxsOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHJldHVybjtcblxuXHRcdHNlbGYuJGFjdGl2ZUl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpKTtcblx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xuXHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdH1cblx0XHRzZWxmLmZvY3VzKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEhpZGVzIHRoZSBpbnB1dCBlbGVtZW50IG91dCBvZiB2aWV3LCB3aGlsZVxuXHQgKiByZXRhaW5pbmcgaXRzIGZvY3VzLlxuXHQgKi9cblx0aGlkZUlucHV0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRzZWxmLnNldFRleHRib3hWYWx1ZSgnJyk7XG5cdFx0c2VsZi4kY29udHJvbF9pbnB1dC5jc3Moe29wYWNpdHk6IDAsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiBzZWxmLnJ0bCA/IDEwMDAwIDogMH0pO1xuXHRcdHNlbGYuaXNJbnB1dEhpZGRlbiA9IHRydWU7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJlc3RvcmVzIGlucHV0IHZpc2liaWxpdHkuXG5cdCAqL1xuXHRzaG93SW5wdXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuJGNvbnRyb2xfaW5wdXQuY3NzKHtvcGFjaXR5OiAxLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgbGVmdDogMH0pO1xuXHRcdHRoaXMuaXNJbnB1dEhpZGRlbiA9IGZhbHNlO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBHaXZlcyB0aGUgY29udHJvbCBmb2N1cy5cblx0ICovXG5cdGZvY3VzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0aWYgKHNlbGYuaXNEaXNhYmxlZCkgcmV0dXJuIHNlbGY7XG5cblx0XHRzZWxmLmlnbm9yZUZvY3VzID0gdHJ1ZTtcblx0XHRzZWxmLiRjb250cm9sX2lucHV0WzBdLmZvY3VzKCk7XG5cdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gZmFsc2U7XG5cdFx0XHRzZWxmLm9uRm9jdXMoKTtcblx0XHR9LCAwKTtcblx0XHRyZXR1cm4gc2VsZjtcblx0fSxcblxuXHQvKipcblx0ICogRm9yY2VzIHRoZSBjb250cm9sIG91dCBvZiBmb2N1cy5cblx0ICpcblx0ICogQHBhcmFtIHtFbGVtZW50fSBkZXN0XG5cdCAqL1xuXHRibHVyOiBmdW5jdGlvbihkZXN0KSB7XG5cdFx0dGhpcy4kY29udHJvbF9pbnB1dFswXS5ibHVyKCk7XG5cdFx0dGhpcy5vbkJsdXIobnVsbCwgZGVzdCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHNjb3JlcyBhbiBvYmplY3Rcblx0ICogdG8gc2hvdyBob3cgZ29vZCBvZiBhIG1hdGNoIGl0IGlzIHRvIHRoZVxuXHQgKiBwcm92aWRlZCBxdWVyeS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG5cdCAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuXHQgKi9cblx0Z2V0U2NvcmVGdW5jdGlvbjogZnVuY3Rpb24ocXVlcnkpIHtcblx0XHRyZXR1cm4gdGhpcy5zaWZ0ZXIuZ2V0U2NvcmVGdW5jdGlvbihxdWVyeSwgdGhpcy5nZXRTZWFyY2hPcHRpb25zKCkpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHNlYXJjaCBvcHRpb25zIGZvciBzaWZ0ZXIgKHRoZSBzeXN0ZW1cblx0ICogZm9yIHNjb3JpbmcgYW5kIHNvcnRpbmcgcmVzdWx0cykuXG5cdCAqXG5cdCAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JyaWFucmVhdmlzL3NpZnRlci5qc1xuXHQgKiBAcmV0dXJuIHtvYmplY3R9XG5cdCAqL1xuXHRnZXRTZWFyY2hPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xuXHRcdHZhciBzb3J0ID0gc2V0dGluZ3Muc29ydEZpZWxkO1xuXHRcdGlmICh0eXBlb2Ygc29ydCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHNvcnQgPSBbe2ZpZWxkOiBzb3J0fV07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGZpZWxkcyAgICAgIDogc2V0dGluZ3Muc2VhcmNoRmllbGQsXG5cdFx0XHRjb25qdW5jdGlvbiA6IHNldHRpbmdzLnNlYXJjaENvbmp1bmN0aW9uLFxuXHRcdFx0c29ydCAgICAgICAgOiBzb3J0LFxuXHRcdFx0bmVzdGluZyAgICAgOiBzZXR0aW5ncy5uZXN0aW5nLFxuICAgICAgZmlsdGVyICAgICAgOiBzZXR0aW5ncy5maWx0ZXJcblx0XHR9O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZWFyY2hlcyB0aHJvdWdoIGF2YWlsYWJsZSBvcHRpb25zIGFuZCByZXR1cm5zXG5cdCAqIGEgc29ydGVkIGFycmF5IG9mIG1hdGNoZXMuXG5cdCAqXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmc6XG5cdCAqXG5cdCAqICAgLSBxdWVyeSB7c3RyaW5nfVxuXHQgKiAgIC0gdG9rZW5zIHthcnJheX1cblx0ICogICAtIHRvdGFsIHtpbnR9XG5cdCAqICAgLSBpdGVtcyB7YXJyYXl9XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxuXHQgKi9cblx0c2VhcmNoOiBmdW5jdGlvbihxdWVyeSkge1xuXHRcdHZhciBpLCB2YWx1ZSwgc2NvcmUsIHJlc3VsdCwgY2FsY3VsYXRlU2NvcmU7XG5cdFx0dmFyIHNlbGYgICAgID0gdGhpcztcblx0XHR2YXIgc2V0dGluZ3MgPSBzZWxmLnNldHRpbmdzO1xuXHRcdHZhciBvcHRpb25zICA9IHRoaXMuZ2V0U2VhcmNoT3B0aW9ucygpO1xuXG5cdFx0Ly8gdmFsaWRhdGUgdXNlci1wcm92aWRlZCByZXN1bHQgc2NvcmluZyBmdW5jdGlvblxuXHRcdGlmIChzZXR0aW5ncy5zY29yZSkge1xuXHRcdFx0Y2FsY3VsYXRlU2NvcmUgPSBzZWxmLnNldHRpbmdzLnNjb3JlLmFwcGx5KHRoaXMsIFtxdWVyeV0pO1xuXHRcdFx0aWYgKHR5cGVvZiBjYWxjdWxhdGVTY29yZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdGl6ZSBcInNjb3JlXCIgc2V0dGluZyBtdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBwZXJmb3JtIHNlYXJjaFxuICAgIGlmIChxdWVyeSAhPT0gc2VsZi5sYXN0UXVlcnkpIHtcbiAgICAgIGlmIChzZXR0aW5ncy5ub3JtYWxpemUpIHF1ZXJ5ID0gcXVlcnkubm9ybWFsaXplKFwiTkZEXCIpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIpO1xuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBxdWVyeTtcblx0XHRcdHJlc3VsdCA9IHNlbGYuc2lmdGVyLnNlYXJjaChxdWVyeSwgJC5leHRlbmQob3B0aW9ucywge3Njb3JlOiBjYWxjdWxhdGVTY29yZX0pKTtcblx0XHRcdHNlbGYuY3VycmVudFJlc3VsdHMgPSByZXN1bHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmN1cnJlbnRSZXN1bHRzKTtcblx0XHR9XG5cblx0XHQvLyBmaWx0ZXIgb3V0IHNlbGVjdGVkIGl0ZW1zXG5cdFx0aWYgKHNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xuXHRcdFx0Zm9yIChpID0gcmVzdWx0Lml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YoaGFzaF9rZXkocmVzdWx0Lml0ZW1zW2ldLmlkKSkgIT09IC0xKSB7XG5cdFx0XHRcdFx0cmVzdWx0Lml0ZW1zLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJlZnJlc2hlcyB0aGUgbGlzdCBvZiBhdmFpbGFibGUgb3B0aW9ucyBzaG93blxuXHQgKiBpbiB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJpZ2dlckRyb3Bkb3duXG5cdCAqL1xuXHRyZWZyZXNoT3B0aW9uczogZnVuY3Rpb24odHJpZ2dlckRyb3Bkb3duKSB7XG5cdFx0dmFyIGksIGosIGssIG4sIGdyb3VwcywgZ3JvdXBzX29yZGVyLCBvcHRpb24sIG9wdGlvbl9odG1sLCBvcHRncm91cCwgb3B0Z3JvdXBzLCBodG1sLCBodG1sX2NoaWxkcmVuLCBoYXNfY3JlYXRlX29wdGlvbjtcblx0XHR2YXIgJGFjdGl2ZSwgJGFjdGl2ZV9iZWZvcmUsICRjcmVhdGU7XG5cblx0XHRpZiAodHlwZW9mIHRyaWdnZXJEcm9wZG93biA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHRyaWdnZXJEcm9wZG93biA9IHRydWU7XG5cdFx0fVxuXG5cdFx0dmFyIHNlbGYgICAgICAgICAgICAgID0gdGhpcztcblx0XHR2YXIgcXVlcnkgICAgICAgICAgICAgPSAoc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSkudHJpbSgpO1xuXHRcdHZhciByZXN1bHRzICAgICAgICAgICA9IHNlbGYuc2VhcmNoKHF1ZXJ5KTtcblx0XHR2YXIgJGRyb3Bkb3duX2NvbnRlbnQgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50O1xuXHRcdHZhciBhY3RpdmVfYmVmb3JlICAgICA9IHNlbGYuJGFjdGl2ZU9wdGlvbiAmJiBoYXNoX2tleShzZWxmLiRhY3RpdmVPcHRpb24uYXR0cignZGF0YS12YWx1ZScpKTtcblxuXHRcdC8vIGJ1aWxkIG1hcmt1cFxuXHRcdG4gPSByZXN1bHRzLml0ZW1zLmxlbmd0aDtcblx0XHRpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MubWF4T3B0aW9ucyA9PT0gJ251bWJlcicpIHtcblx0XHRcdG4gPSBNYXRoLm1pbihuLCBzZWxmLnNldHRpbmdzLm1heE9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdC8vIHJlbmRlciBhbmQgZ3JvdXAgYXZhaWxhYmxlIG9wdGlvbnMgaW5kaXZpZHVhbGx5XG5cdFx0Z3JvdXBzID0ge307XG5cdFx0Z3JvdXBzX29yZGVyID0gW107XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRvcHRpb24gICAgICA9IHNlbGYub3B0aW9uc1tyZXN1bHRzLml0ZW1zW2ldLmlkXTtcblx0XHRcdG9wdGlvbl9odG1sID0gc2VsZi5yZW5kZXIoJ29wdGlvbicsIG9wdGlvbik7XG5cdFx0XHRvcHRncm91cCAgICA9IG9wdGlvbltzZWxmLnNldHRpbmdzLm9wdGdyb3VwRmllbGRdIHx8ICcnO1xuXHRcdFx0b3B0Z3JvdXBzICAgPSBBcnJheS5pc0FycmF5KG9wdGdyb3VwKSA/IG9wdGdyb3VwIDogW29wdGdyb3VwXTtcblxuXHRcdFx0Zm9yIChqID0gMCwgayA9IG9wdGdyb3VwcyAmJiBvcHRncm91cHMubGVuZ3RoOyBqIDwgazsgaisrKSB7XG5cdFx0XHRcdG9wdGdyb3VwID0gb3B0Z3JvdXBzW2pdO1xuXHRcdFx0XHRpZiAoIXNlbGYub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSkge1xuXHRcdFx0XHRcdG9wdGdyb3VwID0gJyc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFncm91cHMuaGFzT3duUHJvcGVydHkob3B0Z3JvdXApKSB7XG5cdFx0XHRcdFx0Z3JvdXBzW29wdGdyb3VwXSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdFx0XHRncm91cHNfb3JkZXIucHVzaChvcHRncm91cCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Z3JvdXBzW29wdGdyb3VwXS5hcHBlbmRDaGlsZChvcHRpb25faHRtbCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gc29ydCBvcHRncm91cHNcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5sb2NrT3B0Z3JvdXBPcmRlcikge1xuXHRcdFx0Z3JvdXBzX29yZGVyLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHR2YXIgYV9vcmRlciA9IHNlbGYub3B0Z3JvdXBzW2FdICYmIHNlbGYub3B0Z3JvdXBzW2FdLiRvcmRlciB8fCAwO1xuXHRcdFx0XHR2YXIgYl9vcmRlciA9IHNlbGYub3B0Z3JvdXBzW2JdICYmIHNlbGYub3B0Z3JvdXBzW2JdLiRvcmRlciB8fCAwO1xuXHRcdFx0XHRyZXR1cm4gYV9vcmRlciAtIGJfb3JkZXI7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyByZW5kZXIgb3B0Z3JvdXAgaGVhZGVycyAmIGpvaW4gZ3JvdXBzXG5cdFx0aHRtbCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRmb3IgKGkgPSAwLCBuID0gZ3JvdXBzX29yZGVyLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0b3B0Z3JvdXAgPSBncm91cHNfb3JkZXJbaV07XG5cdFx0XHRpZiAoc2VsZi5vcHRncm91cHMuaGFzT3duUHJvcGVydHkob3B0Z3JvdXApICYmIGdyb3Vwc1tvcHRncm91cF0uY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdFx0Ly8gcmVuZGVyIHRoZSBvcHRncm91cCBoZWFkZXIgYW5kIG9wdGlvbnMgd2l0aGluIGl0LFxuXHRcdFx0XHQvLyB0aGVuIHBhc3MgaXQgdG8gdGhlIHdyYXBwZXIgdGVtcGxhdGVcblx0XHRcdFx0aHRtbF9jaGlsZHJlbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXBfaGVhZGVyJywgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdKSk7XG5cdFx0XHRcdGh0bWxfY2hpbGRyZW4uYXBwZW5kQ2hpbGQoZ3JvdXBzW29wdGdyb3VwXSk7XG5cblx0XHRcdFx0aHRtbC5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXAnLCAkLmV4dGVuZCh7fSwgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdLCB7XG5cdFx0XHRcdFx0aHRtbDogZG9tVG9TdHJpbmcoaHRtbF9jaGlsZHJlbiksXG5cdFx0XHRcdFx0ZG9tOiAgaHRtbF9jaGlsZHJlblxuXHRcdFx0XHR9KSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHRtbC5hcHBlbmRDaGlsZChncm91cHNbb3B0Z3JvdXBdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQkZHJvcGRvd25fY29udGVudC5odG1sKGh0bWwpO1xuXG5cdFx0Ly8gaGlnaGxpZ2h0IG1hdGNoaW5nIHRlcm1zIGlubGluZVxuXHRcdGlmIChzZWxmLnNldHRpbmdzLmhpZ2hsaWdodCkge1xuXHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQucmVtb3ZlSGlnaGxpZ2h0KCk7XG5cdFx0XHRpZiAocmVzdWx0cy5xdWVyeS5sZW5ndGggJiYgcmVzdWx0cy50b2tlbnMubGVuZ3RoKSB7XG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSByZXN1bHRzLnRva2Vucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRoaWdobGlnaHQoJGRyb3Bkb3duX2NvbnRlbnQsIHJlc3VsdHMudG9rZW5zW2ldLnJlZ2V4KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGFkZCBcInNlbGVjdGVkXCIgY2xhc3MgdG8gc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdGlmICghc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcblx0XHRcdC8vIGNsZWFyIHNlbGVjdGlvbiBvbiBhbGwgcHJldmlvdXNseSBzZWxlY3RlZCBlbGVtZW50cyBmaXJzdFxuXHRcdFx0c2VsZi4kZHJvcGRvd24uZmluZCgnLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLml0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRzZWxmLmdldE9wdGlvbihzZWxmLml0ZW1zW2ldKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblx0XHRcdH1cbiAgICB9XG5cbiAgICBpZiAoc2VsZi5zZXR0aW5ncy5kcm9wZG93blNpemUuc2l6ZVR5cGUgIT09ICdhdXRvJyAmJiBzZWxmLmlzT3Blbikge1xuICAgICAgc2VsZi5zZXR1cERyb3Bkb3duSGVpZ2h0KCk7XG4gICAgfVxuXG5cdFx0Ly8gYWRkIGNyZWF0ZSBvcHRpb25cblx0XHRoYXNfY3JlYXRlX29wdGlvbiA9IHNlbGYuY2FuQ3JlYXRlKHF1ZXJ5KTtcblx0XHRpZiAoaGFzX2NyZWF0ZV9vcHRpb24pIHtcblx0XHRcdGlmKHNlbGYuc2V0dGluZ3Muc2hvd0FkZE9wdGlvbk9uQ3JlYXRlKSB7XG5cdFx0XHRcdCRkcm9wZG93bl9jb250ZW50LnByZXBlbmQoc2VsZi5yZW5kZXIoJ29wdGlvbl9jcmVhdGUnLCB7aW5wdXQ6IHF1ZXJ5fSkpO1xuXHRcdFx0XHQkY3JlYXRlID0gJCgkZHJvcGRvd25fY29udGVudFswXS5jaGlsZE5vZGVzWzBdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBhY3RpdmF0ZVxuXHRcdHNlbGYuaGFzT3B0aW9ucyA9IHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCB8fCAoIGhhc19jcmVhdGVfb3B0aW9uICYmIHNlbGYuc2V0dGluZ3Muc2hvd0FkZE9wdGlvbk9uQ3JlYXRlICkgfHwgc2VsZi5zZXR0aW5ncy5zZXRGaXJzdE9wdGlvbkFjdGl2ZTtcblx0XHRpZiAoc2VsZi5oYXNPcHRpb25zKSB7XG4gICAgICBpZiAocmVzdWx0cy5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRhY3RpdmVfYmVmb3JlID0gYWN0aXZlX2JlZm9yZSAmJiBzZWxmLmdldE9wdGlvbihhY3RpdmVfYmVmb3JlKTtcbiAgICAgICAgaWYgKHJlc3VsdHMucXVlcnkgIT09IFwiXCIgJiYgc2VsZi5zZXR0aW5ncy5zZXRGaXJzdE9wdGlvbkFjdGl2ZSkge1xuICAgICAgICAgICRhY3RpdmUgPSAkZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXTpmaXJzdCcpXG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0cy5xdWVyeSAhPT0gXCJcIiAmJiAkYWN0aXZlX2JlZm9yZSAmJiAkYWN0aXZlX2JlZm9yZS5sZW5ndGgpIHtcbiAgICAgICAgICAkYWN0aXZlID0gJGFjdGl2ZV9iZWZvcmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJyAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICRhY3RpdmUgPSBzZWxmLmdldE9wdGlvbihzZWxmLml0ZW1zWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISRhY3RpdmUgfHwgISRhY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKCRjcmVhdGUgJiYgIXNlbGYuc2V0dGluZ3MuYWRkUHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgJGFjdGl2ZSA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oJGNyZWF0ZSwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRhY3RpdmUgPSAkZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXTpmaXJzdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JGFjdGl2ZSA9ICRjcmVhdGU7XG5cdFx0XHR9XG5cdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbigkYWN0aXZlKTtcblx0XHRcdGlmICh0cmlnZ2VyRHJvcGRvd24gJiYgIXNlbGYuaXNPcGVuKSB7IHNlbGYub3BlbigpOyB9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKG51bGwpO1xuXHRcdFx0aWYgKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLmlzT3BlbikgeyBzZWxmLmNsb3NlKCk7IH1cblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYXZhaWxhYmxlIG9wdGlvbi4gSWYgaXQgYWxyZWFkeSBleGlzdHMsXG5cdCAqIG5vdGhpbmcgd2lsbCBoYXBwZW4uIE5vdGU6IHRoaXMgZG9lcyBub3QgcmVmcmVzaFxuXHQgKiB0aGUgb3B0aW9ucyBsaXN0IGRyb3Bkb3duICh1c2UgYHJlZnJlc2hPcHRpb25zYFxuXHQgKiBmb3IgdGhhdCkuXG5cdCAqXG5cdCAqIFVzYWdlOlxuXHQgKlxuXHQgKiAgIHRoaXMuYWRkT3B0aW9uKGRhdGEpXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSBkYXRhXG5cdCAqL1xuXHRhZGRPcHRpb246IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR2YXIgaSwgbiwgdmFsdWUsIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBkYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRzZWxmLmFkZE9wdGlvbihkYXRhW2ldKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodmFsdWUgPSBzZWxmLnJlZ2lzdGVyT3B0aW9uKGRhdGEpKSB7XG5cdFx0XHRzZWxmLnVzZXJPcHRpb25zW3ZhbHVlXSA9IHRydWU7XG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9hZGQnLCB2YWx1ZSwgZGF0YSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZWdpc3RlcnMgYW4gb3B0aW9uIHRvIHRoZSBwb29sIG9mIG9wdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfVxuXHQgKi9cblx0cmVnaXN0ZXJPcHRpb246IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR2YXIga2V5ID0gaGFzaF9rZXkoZGF0YVt0aGlzLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcblx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3VuZGVmaW5lZCcgfHwga2V5ID09PSBudWxsIHx8IHRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm4gZmFsc2U7XG5cdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCArK3RoaXMub3JkZXI7XG5cdFx0dGhpcy5vcHRpb25zW2tleV0gPSBkYXRhO1xuXHRcdHJldHVybiBrZXk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJlZ2lzdGVycyBhbiBvcHRpb24gZ3JvdXAgdG8gdGhlIHBvb2wgb2Ygb3B0aW9uIGdyb3Vwcy5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0ICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd9XG5cdCAqL1xuXHRyZWdpc3Rlck9wdGlvbkdyb3VwOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dmFyIGtleSA9IGhhc2hfa2V5KGRhdGFbdGhpcy5zZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGRdKTtcblx0XHRpZiAoIWtleSkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCArK3RoaXMub3JkZXI7XG5cdFx0dGhpcy5vcHRncm91cHNba2V5XSA9IGRhdGE7XG5cdFx0cmV0dXJuIGtleTtcblx0fSxcblxuXHQvKipcblx0ICogUmVnaXN0ZXJzIGEgbmV3IG9wdGdyb3VwIGZvciBvcHRpb25zXG5cdCAqIHRvIGJlIGJ1Y2tldGVkIGludG8uXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxuXHQgKi9cblx0YWRkT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGlkLCBkYXRhKSB7XG5cdFx0ZGF0YVt0aGlzLnNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZF0gPSBpZDtcblx0XHRpZiAoaWQgPSB0aGlzLnJlZ2lzdGVyT3B0aW9uR3JvdXAoZGF0YSkpIHtcblx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfYWRkJywgaWQsIGRhdGEpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbiBleGlzdGluZyBvcHRpb24gZ3JvdXAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgKi9cblx0cmVtb3ZlT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGlkKSB7XG5cdFx0aWYgKHRoaXMub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KGlkKSkge1xuXHRcdFx0ZGVsZXRlIHRoaXMub3B0Z3JvdXBzW2lkXTtcblx0XHRcdHRoaXMucmVuZGVyQ2FjaGUgPSB7fTtcblx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfcmVtb3ZlJywgaWQpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogQ2xlYXJzIGFsbCBleGlzdGluZyBvcHRpb24gZ3JvdXBzLlxuXHQgKi9cblx0Y2xlYXJPcHRpb25Hcm91cHM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMub3B0Z3JvdXBzID0ge307XG5cdFx0dGhpcy5yZW5kZXJDYWNoZSA9IHt9O1xuXHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfY2xlYXInKTtcblx0fSxcblxuXHQvKipcblx0ICogVXBkYXRlcyBhbiBvcHRpb24gYXZhaWxhYmxlIGZvciBzZWxlY3Rpb24uIElmXG5cdCAqIGl0IGlzIHZpc2libGUgaW4gdGhlIHNlbGVjdGVkIGl0ZW1zIG9yIG9wdGlvbnNcblx0ICogZHJvcGRvd24sIGl0IHdpbGwgYmUgcmUtcmVuZGVyZWQgYXV0b21hdGljYWxseS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG5cdCAqL1xuXHR1cGRhdGVPcHRpb246IGZ1bmN0aW9uKHZhbHVlLCBkYXRhKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciAkaXRlbSwgJGl0ZW1fbmV3O1xuXHRcdHZhciB2YWx1ZV9uZXcsIGluZGV4X2l0ZW0sIGNhY2hlX2l0ZW1zLCBjYWNoZV9vcHRpb25zLCBvcmRlcl9vbGQ7XG5cblx0XHR2YWx1ZSAgICAgPSBoYXNoX2tleSh2YWx1ZSk7XG5cdFx0dmFsdWVfbmV3ID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcblxuXHRcdC8vIHNhbml0eSBjaGVja3Ncblx0XHRpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcblx0XHRpZiAoIXNlbGYub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHJldHVybjtcblx0XHRpZiAodHlwZW9mIHZhbHVlX25ldyAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBzZXQgaW4gb3B0aW9uIGRhdGEnKTtcblxuXHRcdG9yZGVyX29sZCA9IHNlbGYub3B0aW9uc1t2YWx1ZV0uJG9yZGVyO1xuXG5cdFx0Ly8gdXBkYXRlIHJlZmVyZW5jZXNcblx0XHRpZiAodmFsdWVfbmV3ICE9PSB2YWx1ZSkge1xuXHRcdFx0ZGVsZXRlIHNlbGYub3B0aW9uc1t2YWx1ZV07XG5cdFx0XHRpbmRleF9pdGVtID0gc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKTtcblx0XHRcdGlmIChpbmRleF9pdGVtICE9PSAtMSkge1xuXHRcdFx0XHRzZWxmLml0ZW1zLnNwbGljZShpbmRleF9pdGVtLCAxLCB2YWx1ZV9uZXcpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8IG9yZGVyX29sZDtcblx0XHRzZWxmLm9wdGlvbnNbdmFsdWVfbmV3XSA9IGRhdGE7XG5cblx0XHQvLyBpbnZhbGlkYXRlIHJlbmRlciBjYWNoZVxuXHRcdGNhY2hlX2l0ZW1zID0gc2VsZi5yZW5kZXJDYWNoZVsnaXRlbSddO1xuXHRcdGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcblxuXHRcdGlmIChjYWNoZV9pdGVtcykge1xuXHRcdFx0ZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlXTtcblx0XHRcdGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV9uZXddO1xuXHRcdH1cblx0XHRpZiAoY2FjaGVfb3B0aW9ucykge1xuXHRcdFx0ZGVsZXRlIGNhY2hlX29wdGlvbnNbdmFsdWVdO1xuXHRcdFx0ZGVsZXRlIGNhY2hlX29wdGlvbnNbdmFsdWVfbmV3XTtcblx0XHR9XG5cblx0XHQvLyB1cGRhdGUgdGhlIGl0ZW0gaWYgaXQncyBzZWxlY3RlZFxuXHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YodmFsdWVfbmV3KSAhPT0gLTEpIHtcblx0XHRcdCRpdGVtID0gc2VsZi5nZXRJdGVtKHZhbHVlKTtcblx0XHRcdCRpdGVtX25ldyA9ICQoc2VsZi5yZW5kZXIoJ2l0ZW0nLCBkYXRhKSk7XG5cdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSAkaXRlbV9uZXcuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0JGl0ZW0ucmVwbGFjZVdpdGgoJGl0ZW1fbmV3KTtcblx0XHR9XG5cblx0XHQvLyBpbnZhbGlkYXRlIGxhc3QgcXVlcnkgYmVjYXVzZSB3ZSBtaWdodCBoYXZlIHVwZGF0ZWQgdGhlIHNvcnRGaWVsZFxuXHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcblxuXHRcdC8vIHVwZGF0ZSBkcm9wZG93biBjb250ZW50c1xuXHRcdGlmIChzZWxmLmlzT3Blbikge1xuXHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhmYWxzZSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGEgc2luZ2xlIG9wdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdCAqL1xuXHRyZW1vdmVPcHRpb246IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XG5cblx0XHR2YXIgY2FjaGVfaXRlbXMgPSBzZWxmLnJlbmRlckNhY2hlWydpdGVtJ107XG5cdFx0dmFyIGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcblx0XHRpZiAoY2FjaGVfaXRlbXMpIGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV07XG5cdFx0aWYgKGNhY2hlX29wdGlvbnMpIGRlbGV0ZSBjYWNoZV9vcHRpb25zW3ZhbHVlXTtcblxuXHRcdGRlbGV0ZSBzZWxmLnVzZXJPcHRpb25zW3ZhbHVlXTtcblx0XHRkZWxldGUgc2VsZi5vcHRpb25zW3ZhbHVlXTtcblx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cdFx0c2VsZi50cmlnZ2VyKCdvcHRpb25fcmVtb3ZlJywgdmFsdWUpO1xuXHRcdHNlbGYucmVtb3ZlSXRlbSh2YWx1ZSwgc2lsZW50KTtcblx0fSxcblxuXHQvKipcblx0ICogQ2xlYXJzIGFsbCBvcHRpb25zLCBpbmNsdWRpbmcgYWxsIHNlbGVjdGVkIGl0ZW1zXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdCAqL1xuXHRjbGVhck9wdGlvbnM6IGZ1bmN0aW9uKHNpbGVudCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdHNlbGYubG9hZGVkU2VhcmNoZXMgPSB7fTtcblx0XHRzZWxmLnVzZXJPcHRpb25zID0ge307XG5cdFx0c2VsZi5yZW5kZXJDYWNoZSA9IHt9O1xuXHRcdHZhciBvcHRpb25zID0gc2VsZi5vcHRpb25zO1xuXHRcdCQuZWFjaChzZWxmLm9wdGlvbnMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdGlmKHNlbGYuaXRlbXMuaW5kZXhPZihrZXkpID09IC0xKSB7XG5cdFx0XHRcdGRlbGV0ZSBvcHRpb25zW2tleV07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0c2VsZi5vcHRpb25zID0gc2VsZi5zaWZ0ZXIuaXRlbXMgPSBvcHRpb25zO1xuXHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcblx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9jbGVhcicpO1xuXHRcdHNlbGYuY2xlYXIoc2lsZW50KTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIG9wdGlvblxuXHQgKiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxuXHQgKi9cblx0Z2V0T3B0aW9uOiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLmdldEVsZW1lbnRXaXRoVmFsdWUodmFsdWUsIHRoaXMuJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGpRdWVyeSBlbGVtZW50IG9mIHRoZSBmaXJzdFxuXHQgKiBzZWxlY3RhYmxlIG9wdGlvbi5cblx0ICpcblx0ICogQHJldHVybiB7b2JqZWN0fVxuXHQgKi9cblx0Z2V0Rmlyc3RPcHRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciAkb3B0aW9ucyA9IHRoaXMuJGRyb3Bkb3duLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XG5cdFx0cmV0dXJuICRvcHRpb25zLmxlbmd0aCA+IDAgPyAkb3B0aW9ucy5lcSgwKSA6ICQoKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIG5leHQgb3Jcblx0ICogcHJldmlvdXMgc2VsZWN0YWJsZSBvcHRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkb3B0aW9uXG5cdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb24gIGNhbiBiZSAxIGZvciBuZXh0IG9yIC0xIGZvciBwcmV2aW91c1xuXHQgKiBAcmV0dXJuIHtvYmplY3R9XG5cdCAqL1xuXHRnZXRBZGphY2VudE9wdGlvbjogZnVuY3Rpb24oJG9wdGlvbiwgZGlyZWN0aW9uKSB7XG5cdFx0dmFyICRvcHRpb25zID0gdGhpcy4kZHJvcGRvd24uZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcblx0XHR2YXIgaW5kZXggICAgPSAkb3B0aW9ucy5pbmRleCgkb3B0aW9uKSArIGRpcmVjdGlvbjtcblxuXHRcdHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgJG9wdGlvbnMubGVuZ3RoID8gJG9wdGlvbnMuZXEoaW5kZXgpIDogJCgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCB3aXRoIGEgXCJkYXRhLXZhbHVlXCIgYXR0cmlidXRlXG5cdCAqIHRoYXQgbWF0Y2hlcyB0aGUgZ2l2ZW4gdmFsdWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkZWxzXG5cdCAqIEByZXR1cm4ge29iamVjdH1cblx0ICovXG5cdGdldEVsZW1lbnRXaXRoVmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCAkZWxzKSB7XG5cdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XG5cblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSAkZWxzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRpZiAoJGVsc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSA9PT0gdmFsdWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gJCgkZWxzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiAkKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IHdpdGggYSBcInRleHRDb250ZW50XCIgcHJvcGVydHlcblx0ICogdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiB0ZXh0Q29udGVudCB2YWx1ZS5cblx0ICpcblx0ICogQHBhcmFtIHttaXhlZH0gdGV4dENvbnRlbnRcblx0ICogQHBhcmFtIHtib29sZWFufSBpZ25vcmVDYXNlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkZWxzXG5cdCAqIEByZXR1cm4ge29iamVjdH1cblx0ICovXG5cdGdldEVsZW1lbnRXaXRoVGV4dENvbnRlbnQ6IGZ1bmN0aW9uKHRleHRDb250ZW50LCBpZ25vcmVDYXNlICwkZWxzKSB7XG5cdFx0dGV4dENvbnRlbnQgPSBoYXNoX2tleSh0ZXh0Q29udGVudCk7XG5cblx0XHRpZiAodHlwZW9mIHRleHRDb250ZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0ZXh0Q29udGVudCAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSAkZWxzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHR2YXIgZWxlVGV4dENvbnRlbnQgPSAkZWxzW2ldLnRleHRDb250ZW50XG5cdFx0XHRcdGlmIChpZ25vcmVDYXNlID09IHRydWUpIHtcblx0XHRcdFx0XHRlbGVUZXh0Q29udGVudCA9IChlbGVUZXh0Q29udGVudCAhPT0gbnVsbCkgPyBlbGVUZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpIDogbnVsbDtcblx0XHRcdFx0XHR0ZXh0Q29udGVudCA9IHRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGVsZVRleHRDb250ZW50ID09PSB0ZXh0Q29udGVudCkge1xuXHRcdFx0XHRcdHJldHVybiAkKCRlbHNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuICQoKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIGl0ZW1cblx0ICogbWF0Y2hpbmcgdGhlIGdpdmVuIHZhbHVlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0ICogQHJldHVybnMge29iamVjdH1cblx0ICovXG5cdGdldEl0ZW06IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0RWxlbWVudFdpdGhWYWx1ZSh2YWx1ZSwgdGhpcy4kY29udHJvbC5jaGlsZHJlbigpKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIGl0ZW1cblx0ICogbWF0Y2hpbmcgdGhlIGdpdmVuIHRleHRDb250ZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0ICogQHBhcmFtIHtib29sZWFufSBpZ25vcmVDYXNlXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdCAqL1xuXHRnZXRGaXJzdEl0ZW1NYXRjaGVkQnlUZXh0Q29udGVudDogZnVuY3Rpb24odGV4dENvbnRlbnQsIGlnbm9yZUNhc2UpIHtcblx0XHRpZ25vcmVDYXNlID0gKGlnbm9yZUNhc2UgIT09IG51bGwgJiYgaWdub3JlQ2FzZSA9PT0gdHJ1ZSkgPyB0cnVlIDogZmFsc2U7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0RWxlbWVudFdpdGhUZXh0Q29udGVudCh0ZXh0Q29udGVudCwgaWdub3JlQ2FzZSwgdGhpcy4kZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpKTtcblx0fSxcblxuXHQvKipcblx0ICogXCJTZWxlY3RzXCIgbXVsdGlwbGUgaXRlbXMgYXQgb25jZS4gQWRkcyB0aGVtIHRvIHRoZSBsaXN0XG5cdCAqIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVzXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdCAqL1xuXHRhZGRJdGVtczogZnVuY3Rpb24odmFsdWVzLCBzaWxlbnQpIHtcblx0XHR0aGlzLmJ1ZmZlciA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuXHRcdHZhciBjaGlsZE5vZGVzID0gdGhpcy4kY29udHJvbFswXS5jaGlsZE5vZGVzO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5idWZmZXIuYXBwZW5kQ2hpbGQoY2hpbGROb2Rlc1tpXSk7XG5cdFx0fVxuXG5cdFx0dmFyIGl0ZW1zID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gdmFsdWVzIDogW3ZhbHVlc107XG5cdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSBpdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdHRoaXMuaXNQZW5kaW5nID0gKGkgPCBuIC0gMSk7XG5cdFx0XHR0aGlzLmFkZEl0ZW0oaXRlbXNbaV0sIHNpbGVudCk7XG5cdFx0fVxuXG5cdFx0dmFyIGNvbnRyb2wgPSB0aGlzLiRjb250cm9sWzBdO1xuXHRcdGNvbnRyb2wuaW5zZXJ0QmVmb3JlKHRoaXMuYnVmZmVyLCBjb250cm9sLmZpcnN0Q2hpbGQpO1xuXG5cdFx0dGhpcy5idWZmZXIgPSBudWxsO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBcIlNlbGVjdHNcIiBhbiBpdGVtLiBBZGRzIGl0IHRvIHRoZSBsaXN0XG5cdCAqIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0ICogQHBhcmFtIHtib29sZWFufSBzaWxlbnRcblx0ICovXG5cdGFkZEl0ZW06IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcblx0XHR2YXIgZXZlbnRzID0gc2lsZW50ID8gW10gOiBbJ2NoYW5nZSddO1xuXG5cdFx0ZGVib3VuY2VfZXZlbnRzKHRoaXMsIGV2ZW50cywgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJGl0ZW0sICRvcHRpb24sICRvcHRpb25zO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGlucHV0TW9kZSA9IHNlbGYuc2V0dGluZ3MubW9kZTtcblx0XHRcdHZhciBpLCBhY3RpdmUsIHZhbHVlX25leHQsIHdhc0Z1bGw7XG5cdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KHZhbHVlKTtcblxuXHRcdFx0aWYgKHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdzaW5nbGUnKSBzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XG5cdFx0XHRpZiAoaW5wdXRNb2RlID09PSAnc2luZ2xlJykgc2VsZi5jbGVhcihzaWxlbnQpO1xuXHRcdFx0aWYgKGlucHV0TW9kZSA9PT0gJ211bHRpJyAmJiBzZWxmLmlzRnVsbCgpKSByZXR1cm47XG5cbiAgICAgICRpdGVtID0gJChzZWxmLnJlbmRlcignaXRlbScsIHNlbGYub3B0aW9uc1t2YWx1ZV0pKTtcblx0XHRcdHdhc0Z1bGwgPSBzZWxmLmlzRnVsbCgpO1xuXHRcdFx0c2VsZi5pdGVtcy5zcGxpY2Uoc2VsZi5jYXJldFBvcywgMCwgdmFsdWUpO1xuICAgICAgc2VsZi5pbnNlcnRBdENhcmV0KCRpdGVtKTtcblx0XHRcdGlmICghc2VsZi5pc1BlbmRpbmcgfHwgKCF3YXNGdWxsICYmIHNlbGYuaXNGdWxsKCkpKSB7XG5cdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzZWxmLmlzU2V0dXApIHtcblx0XHRcdFx0JG9wdGlvbnMgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XG5cblx0XHRcdFx0Ly8gdXBkYXRlIG1lbnUgLyByZW1vdmUgdGhlIG9wdGlvbiAoaWYgdGhpcyBpcyBub3Qgb25lIGl0ZW0gYmVpbmcgYWRkZWQgYXMgcGFydCBvZiBzZXJpZXMpXG5cdFx0XHRcdGlmICghc2VsZi5pc1BlbmRpbmcpIHtcblx0XHRcdFx0XHQkb3B0aW9uID0gc2VsZi5nZXRPcHRpb24odmFsdWUpO1xuXHRcdFx0XHRcdHZhbHVlX25leHQgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKCRvcHRpb24sIDEpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHNlbGYuaXNGb2N1c2VkICYmIGlucHV0TW9kZSAhPT0gJ3NpbmdsZScpO1xuXHRcdFx0XHRcdGlmICh2YWx1ZV9uZXh0KSB7XG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldE9wdGlvbih2YWx1ZV9uZXh0KSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaGlkZSB0aGUgbWVudSBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgaGF2ZSBiZWVuIHNlbGVjdGVkIG9yIG5vIG9wdGlvbnMgYXJlIGxlZnRcblx0XHRcdFx0aWYgKCEkb3B0aW9ucy5sZW5ndGggfHwgc2VsZi5pc0Z1bGwoKSkge1xuXHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdFx0fSBlbHNlIGlmICghc2VsZi5pc1BlbmRpbmcpIHtcblx0XHRcdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdpdGVtX2FkZCcsIHZhbHVlLCAkaXRlbSk7XG5cblx0XHRcdFx0aWYgKCFzZWxmLmlzUGVuZGluZykge1xuXHRcdFx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCh7c2lsZW50OiBzaWxlbnR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBzZWxlY3RlZCBpdGVtIG1hdGNoaW5nXG5cdCAqIHRoZSBwcm92aWRlZCB2YWx1ZS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdCAqL1xuXHRyZW1vdmVJdGVtOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciAkaXRlbSwgaSwgaWR4O1xuXG5cdFx0JGl0ZW0gPSAodmFsdWUgaW5zdGFuY2VvZiAkKSA/IHZhbHVlIDogc2VsZi5nZXRJdGVtKHZhbHVlKTtcblx0XHR2YWx1ZSA9IGhhc2hfa2V5KCRpdGVtLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XG5cdFx0aSA9IHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZSk7XG5cblx0XHRpZiAoaSAhPT0gLTEpIHtcblx0XHRcdHNlbGYudHJpZ2dlcignaXRlbV9iZWZvcmVfcmVtb3ZlJywgdmFsdWUsICRpdGVtKTtcblx0XHRcdCRpdGVtLnJlbW92ZSgpO1xuICAgICAgaWYgKCRpdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAkaXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHRcdGlkeCA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoJGl0ZW1bMF0pO1xuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5zcGxpY2UoaWR4LCAxKTtcblx0XHRcdFx0JGl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLml0ZW1zLnNwbGljZShpLCAxKTtcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcblx0XHRcdGlmICghc2VsZi5zZXR0aW5ncy5wZXJzaXN0ICYmIHNlbGYudXNlck9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XG5cdFx0XHRcdHNlbGYucmVtb3ZlT3B0aW9uKHZhbHVlLCBzaWxlbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaSA8IHNlbGYuY2FyZXRQb3MpIHtcblx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLmNhcmV0UG9zIC0gMSk7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XG5cdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XG5cdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcblx0XHRcdHNlbGYudHJpZ2dlcignaXRlbV9yZW1vdmUnLCB2YWx1ZSwgJGl0ZW0pO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogSW52b2tlcyB0aGUgYGNyZWF0ZWAgbWV0aG9kIHByb3ZpZGVkIGluIHRoZVxuXHQgKiBzZWxlY3RpemUgb3B0aW9ucyB0aGF0IHNob3VsZCBwcm92aWRlIHRoZSBkYXRhXG5cdCAqIGZvciB0aGUgbmV3IGl0ZW0sIGdpdmVuIHRoZSB1c2VyIGlucHV0LlxuXHQgKlxuXHQgKiBPbmNlIHRoaXMgY29tcGxldGVzLCBpdCB3aWxsIGJlIGFkZGVkXG5cdCAqIHRvIHRoZSBpdGVtIGxpc3QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyRHJvcGRvd25dXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja11cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdGNyZWF0ZUl0ZW06IGZ1bmN0aW9uKGlucHV0LCB0cmlnZ2VyRHJvcGRvd24pIHtcblx0XHR2YXIgc2VsZiAgPSB0aGlzO1xuXHRcdHZhciBjYXJldCA9IHNlbGYuY2FyZXRQb3M7XG5cdFx0aW5wdXQgPSBpbnB1dCB8fCAoc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSB8fCAnJykudHJpbSgpO1xuXG5cdFx0dmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblx0XHRpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge307XG5cblx0XHRpZiAodHlwZW9mIHRyaWdnZXJEcm9wZG93biAhPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHR0cmlnZ2VyRHJvcGRvd24gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICghc2VsZi5jYW5DcmVhdGUoaW5wdXQpKSB7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHNlbGYubG9jaygpO1xuXG5cdFx0dmFyIHNldHVwID0gKHR5cGVvZiBzZWxmLnNldHRpbmdzLmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLnNldHRpbmdzLmNyZWF0ZSA6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0XHR2YXIgZGF0YSA9IHt9O1xuXHRcdFx0ZGF0YVtzZWxmLnNldHRpbmdzLmxhYmVsRmllbGRdID0gaW5wdXQ7XG5cdFx0XHR2YXIga2V5ID0gaW5wdXQ7XG5cdFx0XHRpZiAoIHNlbGYuc2V0dGluZ3MuZm9ybWF0VmFsdWVUb0tleSAmJiB0eXBlb2Ygc2VsZi5zZXR0aW5ncy5mb3JtYXRWYWx1ZVRvS2V5ID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0XHRrZXkgPSBzZWxmLnNldHRpbmdzLmZvcm1hdFZhbHVlVG9LZXkuYXBwbHkodGhpcywgW2tleV0pO1xuXHRcdFx0XHRpZiAoa2V5ID09PSBudWxsIHx8IHR5cGVvZiBrZXkgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBrZXkgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdGl6ZSBcImZvcm1hdFZhbHVlVG9LZXlcIiBzZXR0aW5nIG11c3QgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBvdGhlciB0aGFuIG9iamVjdCBvciBmdW5jdGlvbi4nKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdID0ga2V5O1xuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fTtcblxuXHRcdHZhciBjcmVhdGUgPSBvbmNlKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHNlbGYudW5sb2NrKCk7XG5cblx0XHRcdGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBjYWxsYmFjaygpO1xuXHRcdFx0dmFyIHZhbHVlID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gY2FsbGJhY2soKTtcblxuXHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xuXHRcdFx0c2VsZi5hZGRPcHRpb24oZGF0YSk7XG5cdFx0XHRzZWxmLnNldENhcmV0KGNhcmV0KTtcblx0XHRcdHNlbGYuYWRkSXRlbSh2YWx1ZSk7XG5cdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLnNldHRpbmdzLm1vZGUgIT09ICdzaW5nbGUnKTtcblx0XHRcdGNhbGxiYWNrKGRhdGEpO1xuXHRcdH0pO1xuXG5cdFx0dmFyIG91dHB1dCA9IHNldHVwLmFwcGx5KHRoaXMsIFtpbnB1dCwgY3JlYXRlXSk7XG5cdFx0aWYgKHR5cGVvZiBvdXRwdXQgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRjcmVhdGUob3V0cHV0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHQvKipcblx0ICogUmUtcmVuZGVycyB0aGUgc2VsZWN0ZWQgaXRlbSBsaXN0cy5cblx0ICovXG5cdHJlZnJlc2hJdGVtczogZnVuY3Rpb24oc2lsZW50KSB7XG5cdFx0dGhpcy5sYXN0UXVlcnkgPSBudWxsO1xuXG5cdFx0aWYgKHRoaXMuaXNTZXR1cCkge1xuXHRcdFx0dGhpcy5hZGRJdGVtKHRoaXMuaXRlbXMsIHNpbGVudCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5yZWZyZXNoU3RhdGUoKTtcblx0XHR0aGlzLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgYWxsIHN0YXRlLWRlcGVuZGVudCBhdHRyaWJ1dGVzXG5cdCAqIGFuZCBDU1MgY2xhc3Nlcy5cblx0ICovXG5cdHJlZnJlc2hTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5yZWZyZXNoVmFsaWRpdHlTdGF0ZSgpO1xuXHRcdHRoaXMucmVmcmVzaENsYXNzZXMoKTtcblx0fSxcblxuXHQvKipcblx0ICogVXBkYXRlIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBvZiBib3RoIGlucHV0IGFuZCBjb250cm9sIGlucHV0LlxuXHQgKlxuXHQgKiBUaGUgYHJlcXVpcmVkYCBwcm9wZXJ0eSBuZWVkcyB0byBiZSBhY3RpdmF0ZWQgb24gdGhlIGNvbnRyb2wgaW5wdXRcblx0ICogZm9yIHRoZSBlcnJvciB0byBiZSBkaXNwbGF5ZWQgYXQgdGhlIHJpZ2h0IHBsYWNlLiBgcmVxdWlyZWRgIGFsc29cblx0ICogbmVlZHMgdG8gYmUgdGVtcG9yYXJpbHkgZGVhY3RpdmF0ZWQgb24gdGhlIGlucHV0IHNpbmNlIHRoZSBpbnB1dCBpc1xuXHQgKiBoaWRkZW4gYW5kIGNhbid0IHNob3cgZXJyb3JzLlxuXHQgKi9cblx0cmVmcmVzaFZhbGlkaXR5U3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICghdGhpcy5pc1JlcXVpcmVkKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgaW52YWxpZCA9ICF0aGlzLml0ZW1zLmxlbmd0aDtcblxuXHRcdHRoaXMuaXNJbnZhbGlkID0gaW52YWxpZDtcblx0XHR0aGlzLiRjb250cm9sX2lucHV0LnByb3AoJ3JlcXVpcmVkJywgaW52YWxpZCk7XG5cdFx0dGhpcy4kaW5wdXQucHJvcCgncmVxdWlyZWQnLCAhaW52YWxpZCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgYWxsIHN0YXRlLWRlcGVuZGVudCBDU1MgY2xhc3Nlcy5cblx0ICovXG5cdHJlZnJlc2hDbGFzc2VzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VsZiAgICAgPSB0aGlzO1xuXHRcdHZhciBpc0Z1bGwgICA9IHNlbGYuaXNGdWxsKCk7XG5cdFx0dmFyIGlzTG9ja2VkID0gc2VsZi5pc0xvY2tlZDtcblxuXHRcdHNlbGYuJHdyYXBwZXJcblx0XHRcdC50b2dnbGVDbGFzcygncnRsJywgc2VsZi5ydGwpO1xuXG5cdFx0c2VsZi4kY29udHJvbFxuXHRcdFx0LnRvZ2dsZUNsYXNzKCdmb2N1cycsIHNlbGYuaXNGb2N1c2VkKVxuXHRcdFx0LnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIHNlbGYuaXNEaXNhYmxlZClcblx0XHRcdC50b2dnbGVDbGFzcygncmVxdWlyZWQnLCBzZWxmLmlzUmVxdWlyZWQpXG5cdFx0XHQudG9nZ2xlQ2xhc3MoJ2ludmFsaWQnLCBzZWxmLmlzSW52YWxpZClcblx0XHRcdC50b2dnbGVDbGFzcygnbG9ja2VkJywgaXNMb2NrZWQpXG5cdFx0XHQudG9nZ2xlQ2xhc3MoJ2Z1bGwnLCBpc0Z1bGwpLnRvZ2dsZUNsYXNzKCdub3QtZnVsbCcsICFpc0Z1bGwpXG5cdFx0XHQudG9nZ2xlQ2xhc3MoJ2lucHV0LWFjdGl2ZScsIHNlbGYuaXNGb2N1c2VkICYmICFzZWxmLmlzSW5wdXRIaWRkZW4pXG5cdFx0XHQudG9nZ2xlQ2xhc3MoJ2Ryb3Bkb3duLWFjdGl2ZScsIHNlbGYuaXNPcGVuKVxuXHRcdFx0LnRvZ2dsZUNsYXNzKCdoYXMtb3B0aW9ucycsICEkLmlzRW1wdHlPYmplY3Qoc2VsZi5vcHRpb25zKSlcblx0XHRcdC50b2dnbGVDbGFzcygnaGFzLWl0ZW1zJywgc2VsZi5pdGVtcy5sZW5ndGggPiAwKTtcblxuXHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuZGF0YSgnZ3JvdycsICFpc0Z1bGwgJiYgIWlzTG9ja2VkKTtcblx0fSxcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBtb3JlIGl0ZW1zIGNhbiBiZSBhZGRlZFxuXHQgKiB0byB0aGUgY29udHJvbCB3aXRob3V0IGV4Y2VlZGluZyB0aGUgdXNlci1kZWZpbmVkIG1heGltdW0uXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0aXNGdWxsOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5tYXhJdGVtcyAhPT0gbnVsbCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+PSB0aGlzLnNldHRpbmdzLm1heEl0ZW1zO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZWZyZXNoZXMgdGhlIG9yaWdpbmFsIDxzZWxlY3Q+IG9yIDxpbnB1dD5cblx0ICogZWxlbWVudCB0byByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlLlxuXHQgKi9cblx0dXBkYXRlT3JpZ2luYWxJbnB1dDogZnVuY3Rpb24ob3B0cykge1xuXHRcdHZhciBpLCBuLCBleGlzdGluZywgZnJlc2gsIG9sZCwgJG9wdGlvbnMsIGxhYmVsLCB2YWx1ZSwgdmFsdWVzLCBzZWxmID0gdGhpcztcblx0XHRvcHRzID0gb3B0cyB8fCB7fTtcblxuXHRcdGlmIChzZWxmLnRhZ1R5cGUgPT09IFRBR19TRUxFQ1QpIHtcblx0XHRcdCRvcHRpb25zICA9IHNlbGYuJGlucHV0LmZpbmQoJ29wdGlvbicpO1xuXHRcdFx0ZXhpc3RpbmcgID0gW107XG5cdFx0XHRmcmVzaCAgICAgPSBbXTtcblx0XHRcdG9sZCAgICAgICA9IFtdO1xuXHRcdFx0dmFsdWVzICAgID0gW107XG5cblx0XHRcdCRvcHRpb25zLmdldCgpLmZvckVhY2goZnVuY3Rpb24ob3B0aW9uKSB7XG5cdFx0XHRcdGV4aXN0aW5nLnB1c2gob3B0aW9uLnZhbHVlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRzZWxmLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuXHRcdFx0XHRsYWJlbCA9IHNlbGYub3B0aW9uc1tpdGVtXVtzZWxmLnNldHRpbmdzLmxhYmVsRmllbGRdIHx8ICcnO1xuXG5cdFx0XHRcdHZhbHVlcy5wdXNoKGl0ZW0pO1xuXG5cdFx0XHRcdGlmIChleGlzdGluZy5pbmRleE9mKGl0ZW0pICE9IC0xKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZnJlc2gucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBlc2NhcGVfaHRtbChpdGVtKSArICdcIiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+JyArIGVzY2FwZV9odG1sKGxhYmVsKSArICc8L29wdGlvbj4nKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRvbGQgPSBleGlzdGluZy5maWx0ZXIoZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlcy5pbmRleE9mKHZhbHVlKSA8IDA7XG5cdFx0XHR9KS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuICdvcHRpb25bdmFsdWU9XCInICsgdmFsdWUgKyAnXCJdJztcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZXhpc3RpbmcubGVuZ3RoIC0gb2xkLmxlbmd0aCArIGZyZXNoLmxlbmd0aCA9PT0gMCAmJiAhc2VsZi4kaW5wdXQuYXR0cignbXVsdGlwbGUnKSkge1xuXHRcdFx0XHRmcmVzaC5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPjwvb3B0aW9uPicpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLiRpbnB1dC5maW5kKG9sZC5qb2luKCcsICcpKS5yZW1vdmUoKTtcblx0XHRcdHNlbGYuJGlucHV0LmFwcGVuZChmcmVzaC5qb2luKCcnKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGYuJGlucHV0LnZhbChzZWxmLmdldFZhbHVlKCkpO1xuXHRcdFx0c2VsZi4kaW5wdXQuYXR0cigndmFsdWUnLHNlbGYuJGlucHV0LnZhbCgpKTtcblx0XHR9XG5cblx0XHRpZiAoc2VsZi5pc1NldHVwKSB7XG5cdFx0XHRpZiAoIW9wdHMuc2lsZW50KSB7XG5cdFx0XHRcdHNlbGYudHJpZ2dlcignY2hhbmdlJywgc2VsZi4kaW5wdXQudmFsKCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogU2hvd3MvaGlkZSB0aGUgaW5wdXQgcGxhY2Vob2xkZXIgZGVwZW5kaW5nXG5cdCAqIG9uIGlmIHRoZXJlIGl0ZW1zIGluIHRoZSBsaXN0IGFscmVhZHkuXG5cdCAqL1xuXHR1cGRhdGVQbGFjZWhvbGRlcjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCF0aGlzLnNldHRpbmdzLnBsYWNlaG9sZGVyKSByZXR1cm47XG5cdFx0dmFyICRpbnB1dCA9IHRoaXMuJGNvbnRyb2xfaW5wdXQ7XG5cblx0XHRpZiAodGhpcy5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdCRpbnB1dC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInLCB0aGlzLnNldHRpbmdzLnBsYWNlaG9sZGVyKTtcblx0XHR9XG5cdFx0JGlucHV0LnRyaWdnZXJIYW5kbGVyKCd1cGRhdGUnLCB7Zm9yY2U6IHRydWV9KTtcblx0fSxcblxuXHQvKipcblx0ICogU2hvd3MgdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBjb250YWluaW5nXG5cdCAqIHRoZSBhdmFpbGFibGUgb3B0aW9ucy5cblx0ICovXG5cdG9wZW46IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmIChcbiAgICAgIHNlbGYuaXNMb2NrZWQgfHxcbiAgICAgIHNlbGYuaXNPcGVuIHx8XG4gICAgICAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSBcIm11bHRpXCIgJiYgc2VsZi5pc0Z1bGwoKSlcbiAgICApXG4gICAgICByZXR1cm47XG5cdFx0c2VsZi5mb2N1cygpO1xuXHRcdHNlbGYuaXNPcGVuID0gdHJ1ZTtcblx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuICAgIHNlbGYuJGRyb3Bkb3duLmNzcyh7IHZpc2liaWxpdHk6ICdoaWRkZW4nLCBkaXNwbGF5OiAnYmxvY2snIH0pO1xuICAgIHNlbGYuc2V0dXBEcm9wZG93bkhlaWdodCgpO1xuXHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xuXHRcdHNlbGYuJGRyb3Bkb3duLmNzcyh7dmlzaWJpbGl0eTogJ3Zpc2libGUnfSk7XG5cdFx0c2VsZi50cmlnZ2VyKCdkcm9wZG93bl9vcGVuJywgc2VsZi4kZHJvcGRvd24pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDbG9zZXMgdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxuXHQgKi9cblx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHR2YXIgdHJpZ2dlciA9IHNlbGYuaXNPcGVuO1xuXG5cdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScgJiYgc2VsZi5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cblx0XHRcdC8vIERvIG5vdCB0cmlnZ2VyIGJsdXIgd2hpbGUgaW5zaWRlIGEgYmx1ciBldmVudCxcblx0XHRcdC8vIHRoaXMgZml4ZXMgc29tZSB3ZWlyZCB0YWJiaW5nIGJlaGF2aW9yIGluIEZGIGFuZCBJRS5cblx0XHRcdC8vIFNlZSAjMTE2NFxuXHRcdFx0aWYgKHNlbGYuaXNCbHVycmluZykge1xuXHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0WzBdLmJsdXIoKTsgLy8gY2xvc2Uga2V5Ym9hcmQgb24gaU9TXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0c2VsZi5pc09wZW4gPSBmYWxzZTtcblx0XHRzZWxmLiRkcm9wZG93bi5oaWRlKCk7XG5cdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24obnVsbCk7XG5cdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblxuXHRcdGlmICh0cmlnZ2VyKSBzZWxmLnRyaWdnZXIoJ2Ryb3Bkb3duX2Nsb3NlJywgc2VsZi4kZHJvcGRvd24pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIGFuZCBhcHBsaWVzIHRoZSBhcHByb3ByaWF0ZVxuXHQgKiBwb3NpdGlvbiBvZiB0aGUgZHJvcGRvd24uXG5cdCAqL1xuXHRwb3NpdGlvbkRyb3Bkb3duOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgJGNvbnRyb2wgPSB0aGlzLiRjb250cm9sO1xuXHRcdHZhciBvZmZzZXQgPSB0aGlzLnNldHRpbmdzLmRyb3Bkb3duUGFyZW50ID09PSAnYm9keScgPyAkY29udHJvbC5vZmZzZXQoKSA6ICRjb250cm9sLnBvc2l0aW9uKCk7XG5cdFx0b2Zmc2V0LnRvcCArPSAkY29udHJvbC5vdXRlckhlaWdodCh0cnVlKTtcblx0XHR2YXIgdyA9ICRjb250cm9sWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLm1pbldpZHRoICYmIHRoaXMuc2V0dGluZ3MubWluV2lkdGggPiB3KVxuXHRcdHtcblx0XHRcdHcgPSB0aGlzLnNldHRpbmdzLm1pbldpZHRoO1xuXHRcdH1cblx0XHR0aGlzLiRkcm9wZG93bi5jc3Moe1xuXHRcdFx0d2lkdGggOiB3LFxuXHRcdFx0dG9wICAgOiBvZmZzZXQudG9wLFxuXHRcdFx0bGVmdCAgOiBvZmZzZXQubGVmdFxuXHRcdH0pO1xuXHR9LFxuXG4gIHNldHVwRHJvcGRvd25IZWlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MuZHJvcGRvd25TaXplID09PSAnb2JqZWN0JyAmJiB0aGlzLnNldHRpbmdzLmRyb3Bkb3duU2l6ZS5zaXplVHlwZSAhPT0gJ2F1dG8nKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5kcm9wZG93blNpemUuc2l6ZVZhbHVlO1xuXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5kcm9wZG93blNpemUuc2l6ZVR5cGUgPT09ICdudW1iZXJJdGVtcycpIHtcbiAgICAgICAgLy8gcmV0cmlldmUgYWxsIGl0ZW1zIChpbmNsdWRlZCBvcHRncm91cCBidXQgZXhlcHQgdGhlIGNvbnRhaW5lciAub3B0Z3JvdXApXG4gICAgICAgIHZhciAkaXRlbXMgPSB0aGlzLiRkcm9wZG93bl9jb250ZW50LmZpbmQoJyonKS5ub3QoJy5vcHRncm91cCwgLmhpZ2hsaWdodCcpLm5vdCh0aGlzLnNldHRpbmdzLmlnbm9yZU9uRHJvcHdkb3duSGVpZ2h0KTtcbiAgICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIG1hcmdpblRvcCA9IDA7XG4gICAgICAgIHZhciBtYXJnaW5Cb3R0b20gPSAwO1xuICAgICAgICB2YXIgc2VwYXJhdG9ySGVpZ2h0ID0gMDtcblxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICB2YXIgJGl0ZW0gPSAkKCRpdGVtc1tpXSk7XG5cbiAgICAgICAgICBpZiAoJGl0ZW0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b3RhbEhlaWdodCArPSAkaXRlbS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgICAgICAvLyBJZiBub3Qgc2VsZWN0YWJsZSwgaXQncyBhbiBvcHRncm91cCBzbyB3ZSBcImlnbm9yZVwiIGZvciBjb3VudCBpdGVtc1xuICAgICAgICAgIGlmICh0eXBlb2YgJGl0ZW0uZGF0YSgnc2VsZWN0YWJsZScpID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoJGl0ZW0uaGFzQ2xhc3MoJ29wdGdyb3VwLWhlYWRlcicpKSB7XG4gICAgICAgICAgICAgIHZhciBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSgkaXRlbS5wYXJlbnQoKVswXSwgJzpiZWZvcmUnKTtcblxuICAgICAgICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wID0gc3R5bGVzLm1hcmdpblRvcCA/IE51bWJlcihzdHlsZXMubWFyZ2luVG9wLnJlcGxhY2UoL1xcVyooXFx3KVxcdyovZywgJyQxJykpIDogMDtcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b20gPSBzdHlsZXMubWFyZ2luQm90dG9tID8gTnVtYmVyKHN0eWxlcy5tYXJnaW5Cb3R0b20ucmVwbGFjZSgvXFxXKihcXHcpXFx3Ki9nLCAnJDEnKSkgOiAwO1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvckhlaWdodCA9IHN0eWxlcy5ib3JkZXJUb3BXaWR0aCA/IE51bWJlcihzdHlsZXMuYm9yZGVyVG9wV2lkdGgucmVwbGFjZSgvXFxXKihcXHcpXFx3Ki9nLCAnJDEnKSkgOiAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWlnaHQrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBwYWRkaW5nIHRvcCBmb3IgYWRkIHRvIGdsb2JhbCBoZWlnaHRcbiAgICAgICAgdmFyIHBhZGRpbmdUb3AgPSB0aGlzLiRkcm9wZG93bl9jb250ZW50LmNzcygncGFkZGluZy10b3AnKSA/IE51bWJlcih0aGlzLiRkcm9wZG93bl9jb250ZW50LmNzcygncGFkZGluZy10b3AnKS5yZXBsYWNlKC9cXFcqKFxcdylcXHcqL2csICckMScpKSA6IDA7XG4gICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gdGhpcy4kZHJvcGRvd25fY29udGVudC5jc3MoJ3BhZGRpbmctYm90dG9tJykgPyBOdW1iZXIodGhpcy4kZHJvcGRvd25fY29udGVudC5jc3MoJ3BhZGRpbmctYm90dG9tJykucmVwbGFjZSgvXFxXKihcXHcpXFx3Ki9nLCAnJDEnKSkgOiAwO1xuXG4gICAgICAgIGhlaWdodCA9ICh0b3RhbEhlaWdodCArIHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tICsgbWFyZ2luVG9wICsgbWFyZ2luQm90dG9tICsgc2VwYXJhdG9ySGVpZ2h0KSArICdweCc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZHJvcGRvd25TaXplLnNpemVUeXBlICE9PSAnZml4ZWRIZWlnaHQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2VsZWN0aXplLmpzIC0gVmFsdWUgb2YgXCJzaXplVHlwZVwiIG11c3QgYmUgXCJmaXhlZEhlaWdodFwiIG9yIFwibnVtYmVySXRlbXMnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRkcm9wZG93bl9jb250ZW50LmNzcyh7IGhlaWdodDogaGVpZ2h0LCBtYXhIZWlnaHQ6ICdub25lJyB9KTtcbiAgICB9XG4gIH0sXG5cblx0LyoqXG5cdCAqIFJlc2V0cyAvIGNsZWFycyBhbGwgc2VsZWN0ZWQgaXRlbXNcblx0ICogZnJvbSB0aGUgY29udHJvbC5cblx0ICpcblx0ICogQHBhcmFtIHtib29sZWFufSBzaWxlbnRcblx0ICovXG5cdGNsZWFyOiBmdW5jdGlvbihzaWxlbnQpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIXNlbGYuaXRlbXMubGVuZ3RoKSByZXR1cm47XG5cdFx0c2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5yZW1vdmUoKTtcblx0XHRzZWxmLml0ZW1zID0gW107XG5cdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdHNlbGYuc2V0Q2FyZXQoMCk7XG5cdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xuXHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcblx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XG5cdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XHRzZWxmLnNob3dJbnB1dCgpO1xuXHRcdHNlbGYudHJpZ2dlcignY2xlYXInKTtcblx0fSxcblxuXHQvKipcblx0ICogQSBoZWxwZXIgbWV0aG9kIGZvciBpbnNlcnRpbmcgYW4gZWxlbWVudFxuXHQgKiBhdCB0aGUgY3VycmVudCBjYXJldCBwb3NpdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9ICRlbFxuXHQgKi9cblx0aW5zZXJ0QXRDYXJldDogZnVuY3Rpb24oJGVsKSB7XG5cdFx0dmFyIGNhcmV0ID0gTWF0aC5taW4odGhpcy5jYXJldFBvcywgdGhpcy5pdGVtcy5sZW5ndGgpO1xuICAgIHZhciBlbCA9ICRlbFswXTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICoqL1xuXHRcdHZhciB0YXJnZXQgPSB0aGlzLmJ1ZmZlciB8fCB0aGlzLiRjb250cm9sWzBdO1xuXG5cdFx0aWYgKGNhcmV0ID09PSAwKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoZWwsIHRhcmdldC5jaGlsZE5vZGVzW2NhcmV0XSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZXRDYXJldChjYXJldCArIDEpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0ocykuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRkZWxldGVTZWxlY3Rpb246IGZ1bmN0aW9uKGUpIHtcblx0XHR2YXIgaSwgbiwgZGlyZWN0aW9uLCBzZWxlY3Rpb24sIHZhbHVlcywgY2FyZXQsIG9wdGlvbl9zZWxlY3QsICRvcHRpb25fc2VsZWN0LCAkdGFpbDtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRkaXJlY3Rpb24gPSAoZSAmJiBlLmtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UpID8gLTEgOiAxO1xuXHRcdHNlbGVjdGlvbiA9IGdldElucHV0U2VsZWN0aW9uKHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pO1xuXG5cdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbiAmJiAhc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcblx0XHRcdGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5kZXNlbGVjdEJlaGF2aW9yID09PSAnc3RyaW5nJyAmJiBzZWxmLnNldHRpbmdzLmRlc2VsZWN0QmVoYXZpb3IgPT09ICd0b3AnKSB7XG5cdFx0XHRcdG9wdGlvbl9zZWxlY3QgPSBzZWxmLmdldEZpcnN0T3B0aW9uKCkuYXR0cignZGF0YS12YWx1ZScpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0aW9uX3NlbGVjdCA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oc2VsZi4kYWN0aXZlT3B0aW9uLCAtMSkuYXR0cignZGF0YS12YWx1ZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGRldGVybWluZSBpdGVtcyB0aGF0IHdpbGwgYmUgcmVtb3ZlZFxuXHRcdHZhbHVlcyA9IFtdO1xuXG5cdFx0aWYgKHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xuXHRcdFx0JHRhaWwgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCcuYWN0aXZlOicgKyAoZGlyZWN0aW9uID4gMCA/ICdsYXN0JyA6ICdmaXJzdCcpKTtcblx0XHRcdGNhcmV0ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5pbmRleCgkdGFpbCk7XG5cdFx0XHRpZiAoZGlyZWN0aW9uID4gMCkgeyBjYXJldCsrOyB9XG5cblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0dmFsdWVzLnB1c2goJChzZWxmLiRhY3RpdmVJdGVtc1tpXSkuYXR0cignZGF0YS12YWx1ZScpKTtcblx0XHRcdH1cblx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKChzZWxmLmlzRm9jdXNlZCB8fCBzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xuXHRcdFx0aWYgKGRpcmVjdGlvbiA8IDAgJiYgc2VsZWN0aW9uLnN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0dmFsdWVzLnB1c2goc2VsZi5pdGVtc1tzZWxmLmNhcmV0UG9zIC0gMV0pO1xuXHRcdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPiAwICYmIHNlbGVjdGlvbi5zdGFydCA9PT0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKS5sZW5ndGgpIHtcblx0XHRcdFx0dmFsdWVzLnB1c2goc2VsZi5pdGVtc1tzZWxmLmNhcmV0UG9zXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gYWxsb3cgdGhlIGNhbGxiYWNrIHRvIGFib3J0XG5cdFx0aWYgKCF2YWx1ZXMubGVuZ3RoIHx8ICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5vbkRlbGV0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzZWxmLnNldHRpbmdzLm9uRGVsZXRlLmFwcGx5KHNlbGYsIFt2YWx1ZXNdKSA9PT0gZmFsc2UpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gcGVyZm9ybSByZW1vdmFsXG5cdFx0aWYgKHR5cGVvZiBjYXJldCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHNlbGYuc2V0Q2FyZXQoY2FyZXQpO1xuXHRcdH1cblx0XHR3aGlsZSAodmFsdWVzLmxlbmd0aCkge1xuXHRcdFx0c2VsZi5yZW1vdmVJdGVtKHZhbHVlcy5wb3AoKSk7XG5cdFx0fVxuXG5cdFx0c2VsZi5zaG93SW5wdXQoKTtcblx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcblx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHRydWUpO1xuXG5cdFx0Ly8gc2VsZWN0IHByZXZpb3VzIG9wdGlvblxuXHRcdGlmIChvcHRpb25fc2VsZWN0KSB7XG5cdFx0XHQkb3B0aW9uX3NlbGVjdCA9IHNlbGYuZ2V0T3B0aW9uKG9wdGlvbl9zZWxlY3QpO1xuXHRcdFx0aWYgKCRvcHRpb25fc2VsZWN0Lmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbigkb3B0aW9uX3NlbGVjdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNlbGVjdHMgdGhlIHByZXZpb3VzIC8gbmV4dCBpdGVtIChkZXBlbmRpbmdcblx0ICogb24gdGhlIGBkaXJlY3Rpb25gIGFyZ3VtZW50KS5cblx0ICpcblx0ICogPiAwIC0gcmlnaHRcblx0ICogPCAwIC0gbGVmdFxuXHQgKlxuXHQgKiBAcGFyYW0ge2ludH0gZGlyZWN0aW9uXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcblx0ICovXG5cdGFkdmFuY2VTZWxlY3Rpb246IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuXHRcdHZhciB0YWlsLCBzZWxlY3Rpb24sIGlkeCwgdmFsdWVMZW5ndGgsIGN1cnNvckF0RWRnZSwgJHRhaWw7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKGRpcmVjdGlvbiA9PT0gMCkgcmV0dXJuO1xuXHRcdGlmIChzZWxmLnJ0bCkgZGlyZWN0aW9uICo9IC0xO1xuXG5cdFx0dGFpbCA9IGRpcmVjdGlvbiA+IDAgPyAnbGFzdCcgOiAnZmlyc3QnO1xuXHRcdHNlbGVjdGlvbiA9IGdldElucHV0U2VsZWN0aW9uKHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pO1xuXG5cdFx0aWYgKHNlbGYuaXNGb2N1c2VkICYmICFzZWxmLmlzSW5wdXRIaWRkZW4pIHtcblx0XHRcdHZhbHVlTGVuZ3RoID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKS5sZW5ndGg7XG5cdFx0XHRjdXJzb3JBdEVkZ2UgPSBkaXJlY3Rpb24gPCAwXG5cdFx0XHRcdD8gc2VsZWN0aW9uLnN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbi5sZW5ndGggPT09IDBcblx0XHRcdFx0OiBzZWxlY3Rpb24uc3RhcnQgPT09IHZhbHVlTGVuZ3RoO1xuXG5cdFx0XHRpZiAoY3Vyc29yQXRFZGdlICYmICF2YWx1ZUxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLmFkdmFuY2VDYXJldChkaXJlY3Rpb24sIGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkdGFpbCA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJy5hY3RpdmU6JyArIHRhaWwpO1xuXHRcdFx0aWYgKCR0YWlsLmxlbmd0aCkge1xuXHRcdFx0XHRpZHggPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmluZGV4KCR0YWlsKTtcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xuXHRcdFx0XHRzZWxmLnNldENhcmV0KGRpcmVjdGlvbiA+IDAgPyBpZHggKyAxIDogaWR4KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIE1vdmVzIHRoZSBjYXJldCBsZWZ0IC8gcmlnaHQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb25cblx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxuXHQgKi9cblx0YWR2YW5jZUNhcmV0OiBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXMsIGZuLCAkYWRqO1xuXG5cdFx0aWYgKGRpcmVjdGlvbiA9PT0gMCkgcmV0dXJuO1xuXG5cdFx0Zm4gPSBkaXJlY3Rpb24gPiAwID8gJ25leHQnIDogJ3ByZXYnO1xuXHRcdGlmIChzZWxmLmlzU2hpZnREb3duKSB7XG5cdFx0XHQkYWRqID0gc2VsZi4kY29udHJvbF9pbnB1dFtmbl0oKTtcblx0XHRcdGlmICgkYWRqLmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oJGFkaik7XG5cdFx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuY2FyZXRQb3MgKyBkaXJlY3Rpb24pO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogTW92ZXMgdGhlIGNhcmV0IHRvIHRoZSBzcGVjaWZpZWQgaW5kZXguXG5cdCAqXG5cdCAqIEBwYXJhbSB7aW50fSBpXG5cdCAqL1xuXHRzZXRDYXJldDogZnVuY3Rpb24oaSkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSB7XG5cdFx0XHRpID0gc2VsZi5pdGVtcy5sZW5ndGg7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzZWxmLml0ZW1zLmxlbmd0aCwgaSkpO1xuXHRcdH1cblxuXHRcdGlmKCFzZWxmLmlzUGVuZGluZykge1xuXHRcdFx0Ly8gdGhlIGlucHV0IG11c3QgYmUgbW92ZWQgYnkgbGVhdmluZyBpdCBpbiBwbGFjZSBhbmQgbW92aW5nIHRoZVxuXHRcdFx0Ly8gc2libGluZ3MsIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGZvY3VzIGNhbm5vdCBiZSByZXN0b3JlZCBvbmNlIGxvc3Rcblx0XHRcdC8vIG9uIG1vYmlsZSB3ZWJraXQgZGV2aWNlc1xuXHRcdFx0dmFyIGosIG4sIGZuLCAkY2hpbGRyZW4sICRjaGlsZDtcblx0XHRcdCRjaGlsZHJlbiA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJyk7XG5cdFx0XHRmb3IgKGogPSAwLCBuID0gJGNoaWxkcmVuLmxlbmd0aDsgaiA8IG47IGorKykge1xuXHRcdFx0XHQkY2hpbGQgPSAkKCRjaGlsZHJlbltqXSkuZGV0YWNoKCk7XG5cdFx0XHRcdGlmIChqIDwgIGkpIHtcblx0XHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmJlZm9yZSgkY2hpbGQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuJGNvbnRyb2wuYXBwZW5kKCRjaGlsZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRzZWxmLmNhcmV0UG9zID0gaTtcblx0fSxcblxuXHQvKipcblx0ICogRGlzYWJsZXMgdXNlciBpbnB1dCBvbiB0aGUgY29udHJvbC4gVXNlZCB3aGlsZVxuXHQgKiBpdGVtcyBhcmUgYmVpbmcgYXN5bmNocm9ub3VzbHkgY3JlYXRlZC5cblx0ICovXG5cdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY2xvc2UoKTtcblx0XHR0aGlzLmlzTG9ja2VkID0gdHJ1ZTtcblx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZS1lbmFibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wuXG5cdCAqL1xuXHR1bmxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaXNMb2NrZWQgPSBmYWxzZTtcblx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBEaXNhYmxlcyB1c2VyIGlucHV0IG9uIHRoZSBjb250cm9sIGNvbXBsZXRlbHkuXG5cdCAqIFdoaWxlIGRpc2FibGVkLCBpdCBjYW5ub3QgcmVjZWl2ZSBmb2N1cy5cblx0ICovXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRzZWxmLiRpbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS5wcm9wKCd0YWJpbmRleCcsIC0xKTtcblx0XHRzZWxmLmlzRGlzYWJsZWQgPSB0cnVlO1xuXHRcdHNlbGYubG9jaygpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBFbmFibGVzIHRoZSBjb250cm9sIHNvIHRoYXQgaXQgY2FuIHJlc3BvbmRcblx0ICogdG8gZm9jdXMgYW5kIHVzZXIgaW5wdXQuXG5cdCAqL1xuXHRlbmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRzZWxmLiRpbnB1dC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRzZWxmLiRjb250cm9sX2lucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnByb3AoJ3RhYmluZGV4Jywgc2VsZi50YWJJbmRleCk7XG5cdFx0c2VsZi5pc0Rpc2FibGVkID0gZmFsc2U7XG5cdFx0c2VsZi51bmxvY2soKTtcblx0fSxcblxuXHQvKipcblx0ICogQ29tcGxldGVseSBkZXN0cm95cyB0aGUgY29udHJvbCBhbmRcblx0ICogdW5iaW5kcyBhbGwgZXZlbnQgbGlzdGVuZXJzIHNvIHRoYXQgaXQgY2FuXG5cdCAqIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuXHQgKi9cblx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciBldmVudE5TID0gc2VsZi5ldmVudE5TO1xuXHRcdHZhciByZXZlcnRTZXR0aW5ncyA9IHNlbGYucmV2ZXJ0U2V0dGluZ3M7XG5cblx0XHRzZWxmLnRyaWdnZXIoJ2Rlc3Ryb3knKTtcblx0XHRzZWxmLm9mZigpO1xuXHRcdHNlbGYuJHdyYXBwZXIucmVtb3ZlKCk7XG5cdFx0c2VsZi4kZHJvcGRvd24ucmVtb3ZlKCk7XG5cblx0XHRzZWxmLiRpbnB1dFxuXHRcdFx0Lmh0bWwoJycpXG5cdFx0XHQuYXBwZW5kKHJldmVydFNldHRpbmdzLiRjaGlsZHJlbilcblx0XHRcdC5yZW1vdmVBdHRyKCd0YWJpbmRleCcpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoJ3NlbGVjdGl6ZWQnKVxuXHRcdFx0LmF0dHIoe3RhYmluZGV4OiByZXZlcnRTZXR0aW5ncy50YWJpbmRleH0pXG5cdFx0XHQuc2hvdygpO1xuXG5cdFx0c2VsZi4kY29udHJvbF9pbnB1dC5yZW1vdmVEYXRhKCdncm93Jyk7XG5cdFx0c2VsZi4kaW5wdXQucmVtb3ZlRGF0YSgnc2VsZWN0aXplJyk7XG5cblx0XHRpZiAoLS1TZWxlY3RpemUuY291bnQgPT0gMCAmJiBTZWxlY3RpemUuJHRlc3RJbnB1dCkge1xuXHRcdFx0U2VsZWN0aXplLiR0ZXN0SW5wdXQucmVtb3ZlKCk7XG5cdFx0XHRTZWxlY3RpemUuJHRlc3RJbnB1dCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQkKHdpbmRvdykub2ZmKGV2ZW50TlMpO1xuXHRcdCQoZG9jdW1lbnQpLm9mZihldmVudE5TKTtcblx0XHQkKGRvY3VtZW50LmJvZHkpLm9mZihldmVudE5TKTtcblxuXHRcdGRlbGV0ZSBzZWxmLiRpbnB1dFswXS5zZWxlY3RpemU7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEEgaGVscGVyIG1ldGhvZCBmb3IgcmVuZGVyaW5nIFwiaXRlbVwiIGFuZFxuXHQgKiBcIm9wdGlvblwiIHRlbXBsYXRlcywgZ2l2ZW4gdGhlIGRhdGEuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZU5hbWVcblx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0ICogQHJldHVybnMge3N0cmluZ31cblx0ICovXG5cdHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGVOYW1lLCBkYXRhKSB7XG5cdFx0dmFyIHZhbHVlLCBpZCwgbGFiZWw7XG5cdFx0dmFyIGh0bWwgPSAnJztcblx0XHR2YXIgY2FjaGUgPSBmYWxzZTtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0dmFyIHJlZ2V4X3RhZyA9IC9eW1xcdCBcXHJcXG5dKjwoW2Etel1bYS16MC05XFwtX10qKD86XFw6W2Etel1bYS16MC05XFwtX10qKT8pL2k7XG5cblx0XHRpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0aW9uJyB8fCB0ZW1wbGF0ZU5hbWUgPT09ICdpdGVtJykge1xuXHRcdFx0dmFsdWUgPSBoYXNoX2tleShkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xuXHRcdFx0Y2FjaGUgPSAhIXZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIHB1bGwgbWFya3VwIGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzXG5cdFx0aWYgKGNhY2hlKSB7XG5cdFx0XHRpZiAoIWlzc2V0KHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXSkpIHtcblx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdID0ge307XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xuXHRcdFx0XHRyZXR1cm4gc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdW3ZhbHVlXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyByZW5kZXIgbWFya3VwXG5cdFx0aHRtbCA9ICQoc2VsZi5zZXR0aW5ncy5yZW5kZXJbdGVtcGxhdGVOYW1lXS5hcHBseSh0aGlzLCBbZGF0YSwgZXNjYXBlX2h0bWxdKSk7XG5cblx0XHQvLyBhZGQgbWFuZGF0b3J5IGF0dHJpYnV0ZXNcblx0XHRpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0aW9uJyB8fCB0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb25fY3JlYXRlJykge1xuXHRcdFx0aWYgKCFkYXRhW3NlbGYuc2V0dGluZ3MuZGlzYWJsZWRGaWVsZF0pIHtcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLXNlbGVjdGFibGUnLCAnJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGdyb3VwJykge1xuXHRcdFx0aWQgPSBkYXRhW3NlbGYuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSB8fCAnJztcblx0XHRcdGh0bWwuYXR0cignZGF0YS1ncm91cCcsIGlkKTtcblx0XHRcdGlmKGRhdGFbc2VsZi5zZXR0aW5ncy5kaXNhYmxlZEZpZWxkXSkge1xuXHRcdFx0XHRodG1sLmF0dHIoJ2RhdGEtZGlzYWJsZWQnLCAnJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ2l0ZW0nKSB7XG5cdFx0XHRodG1sLmF0dHIoJ2RhdGEtdmFsdWUnLCB2YWx1ZSB8fCAnJyk7XG5cdFx0fVxuXG5cdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0aWYgKGNhY2hlKSB7XG5cdFx0XHRzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV1bdmFsdWVdID0gaHRtbFswXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaHRtbFswXTtcblx0fSxcblxuXHQvKipcblx0ICogQ2xlYXJzIHRoZSByZW5kZXIgY2FjaGUgZm9yIGEgdGVtcGxhdGUuIElmXG5cdCAqIG5vIHRlbXBsYXRlIGlzIGdpdmVuLCBjbGVhcnMgYWxsIHJlbmRlclxuXHQgKiBjYWNoZXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZU5hbWVcblx0ICovXG5cdGNsZWFyQ2FjaGU6IGZ1bmN0aW9uKHRlbXBsYXRlTmFtZSkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRpZiAodHlwZW9mIHRlbXBsYXRlTmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHNlbGYucmVuZGVyQ2FjaGUgPSB7fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVsZXRlIHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gZGlzcGxheSB0aGVcblx0ICogY3JlYXRlIGl0ZW0gcHJvbXB0LCBnaXZlbiBhIHVzZXIgaW5wdXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0Y2FuQ3JlYXRlOiBmdW5jdGlvbihpbnB1dCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRpZiAoIXNlbGYuc2V0dGluZ3MuY3JlYXRlKSByZXR1cm4gZmFsc2U7XG5cdFx0dmFyIGZpbHRlciA9IHNlbGYuc2V0dGluZ3MuY3JlYXRlRmlsdGVyO1xuXHRcdHJldHVybiBpbnB1dC5sZW5ndGhcblx0XHRcdCYmICh0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nIHx8IGZpbHRlci5hcHBseShzZWxmLCBbaW5wdXRdKSlcblx0XHRcdCYmICh0eXBlb2YgZmlsdGVyICE9PSAnc3RyaW5nJyB8fCBuZXcgUmVnRXhwKGZpbHRlcikudGVzdChpbnB1dCkpXG5cdFx0XHQmJiAoIShmaWx0ZXIgaW5zdGFuY2VvZiBSZWdFeHApIHx8IGZpbHRlci50ZXN0KGlucHV0KSk7XG5cdH1cbn0pO1xuXG5TZWxlY3RpemUuY291bnQgPSAwO1xuU2VsZWN0aXplLmRlZmF1bHRzID0ge1xuXHRvcHRpb25zOiBbXSxcblx0b3B0Z3JvdXBzOiBbXSxcblxuXHRwbHVnaW5zOiBbXSxcblx0ZGVsaW1pdGVyOiAnLCcsXG5cdHNwbGl0T246IG51bGwsIC8vIHJlZ2V4cCBvciBzdHJpbmcgZm9yIHNwbGl0dGluZyB1cCB2YWx1ZXMgZnJvbSBhIHBhc3RlIGNvbW1hbmRcblx0cGVyc2lzdDogdHJ1ZSxcblx0ZGlhY3JpdGljczogdHJ1ZSxcblx0Y3JlYXRlOiBmYWxzZSxcblx0c2hvd0FkZE9wdGlvbk9uQ3JlYXRlOiB0cnVlLFxuXHRjcmVhdGVPbkJsdXI6IGZhbHNlLFxuXHRjcmVhdGVGaWx0ZXI6IG51bGwsXG5cdGhpZ2hsaWdodDogdHJ1ZSxcblx0b3Blbk9uRm9jdXM6IHRydWUsXG5cdG1heE9wdGlvbnM6IDEwMDAsXG5cdG1heEl0ZW1zOiBudWxsLFxuXHRoaWRlU2VsZWN0ZWQ6IG51bGwsXG5cdGFkZFByZWNlZGVuY2U6IGZhbHNlLFxuXHRzZWxlY3RPblRhYjogdHJ1ZSxcblx0cHJlbG9hZDogZmFsc2UsXG5cdGFsbG93RW1wdHlPcHRpb246IGZhbHNlLFxuXHRzaG93RW1wdHlPcHRpb25JbkRyb3Bkb3duOiBmYWxzZSxcblx0ZW1wdHlPcHRpb25MYWJlbDogJy0tJyxcbiAgc2V0Rmlyc3RPcHRpb25BY3RpdmU6IGZhbHNlLFxuXHRjbG9zZUFmdGVyU2VsZWN0OiBmYWxzZSxcbiAgY2xvc2VEcm9wZG93blRocmVzaG9sZDogMjUwLCAvLyBudW1iZXIgb2YgbXMgdG8gcHJldmVudCByZW9wZW5pbmcgb2YgZHJvcGRvd24gYWZ0ZXIgbW91c2Vkb3duXG5cblx0c2Nyb2xsRHVyYXRpb246IDYwLFxuXHRkZXNlbGVjdEJlaGF2aW9yOiAncHJldmlvdXMnLCAvL3RvcCwgcHJldmlvdXNcblx0bG9hZFRocm90dGxlOiAzMDAsXG5cdGxvYWRpbmdDbGFzczogJ2xvYWRpbmcnLFxuXG5cdGRhdGFBdHRyOiAnZGF0YS1kYXRhJyxcblx0b3B0Z3JvdXBGaWVsZDogJ29wdGdyb3VwJyxcblx0dmFsdWVGaWVsZDogJ3ZhbHVlJyxcblx0bGFiZWxGaWVsZDogJ3RleHQnLFxuXHRkaXNhYmxlZEZpZWxkOiAnZGlzYWJsZWQnLFxuXHRvcHRncm91cExhYmVsRmllbGQ6ICdsYWJlbCcsXG5cdG9wdGdyb3VwVmFsdWVGaWVsZDogJ3ZhbHVlJyxcblx0bG9ja09wdGdyb3VwT3JkZXI6IGZhbHNlLFxuXG5cdHNvcnRGaWVsZDogJyRvcmRlcicsXG5cdHNlYXJjaEZpZWxkOiBbJ3RleHQnXSxcblx0c2VhcmNoQ29uanVuY3Rpb246ICdhbmQnLFxuXG5cdG1vZGU6IG51bGwsXG5cdHdyYXBwZXJDbGFzczogJycsXG5cdGlucHV0Q2xhc3M6ICcnLFxuXHRkcm9wZG93bkNsYXNzOiAnJyxcblx0ZHJvcGRvd25Db250ZW50Q2xhc3M6ICcnLFxuXG5cdGRyb3Bkb3duUGFyZW50OiBudWxsLFxuXG5cdGNvcHlDbGFzc2VzVG9Ecm9wZG93bjogdHJ1ZSxcbiAgZHJvcGRvd25TaXplOiB7XG4gICAgc2l6ZVR5cGU6ICdhdXRvJywgLy8gJ251bWJlckl0ZW1zJyBvciAnZml4ZWRIZWlnaHQnXG4gICAgc2l6ZVZhbHVlOiAnYXV0bycsIC8vIG51bWJlciBvZiBpdGVtcyBvciBoZWlnaHQgdmFsdWUgKHB4IGlzIGRlZmF1bHQpIG9yIENTUyBoZWlnaHQgKHB4LCByZW0sIGVtLCB2aClcbiAgfSxcbiAgbm9ybWFsaXplOiBmYWxzZSxcbiAgaWdub3JlT25Ecm9wd2Rvd25IZWlnaHQ6ICdpbWcsIGknLFxuXHQvKlxuXHRsb2FkICAgICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykgeyAuLi4gfVxuXHRzY29yZSAgICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHNlYXJjaCkgeyAuLi4gfVxuXHRmb3JtYXRWYWx1ZVRvS2V5ICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKGtleSkgeyAuLi4gfVxuXHRvbkluaXRpYWxpemUgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHRvbkNoYW5nZSAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlKSB7IC4uLiB9XG5cdG9uSXRlbUFkZCAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsICRpdGVtKSB7IC4uLiB9XG5cdG9uSXRlbVJlbW92ZSAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsICRpdGVtKSB7IC4uLiB9XG5cdG9uQ2xlYXIgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XG5cdG9uT3B0aW9uQWRkICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsIGRhdGEpIHsgLi4uIH1cblx0b25PcHRpb25SZW1vdmUgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSkgeyAuLi4gfVxuXHRvbk9wdGlvbkNsZWFyICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHRvbk9wdGlvbkdyb3VwQWRkICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKGlkLCBkYXRhKSB7IC4uLiB9XG5cdG9uT3B0aW9uR3JvdXBSZW1vdmUgIDogbnVsbCwgLy8gZnVuY3Rpb24oaWQpIHsgLi4uIH1cblx0b25PcHRpb25Hcm91cENsZWFyICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cblx0b25Ecm9wZG93bk9wZW4gICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigkZHJvcGRvd24pIHsgLi4uIH1cblx0b25Ecm9wZG93bkNsb3NlICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigkZHJvcGRvd24pIHsgLi4uIH1cblx0b25UeXBlICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihzdHIpIHsgLi4uIH1cblx0b25EZWxldGUgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZXMpIHsgLi4uIH1cblx0Ki9cblxuXHRyZW5kZXI6IHtcblx0XHQvKlxuXHRcdGl0ZW06IG51bGwsXG5cdFx0b3B0Z3JvdXA6IG51bGwsXG5cdFx0b3B0Z3JvdXBfaGVhZGVyOiBudWxsLFxuXHRcdG9wdGlvbjogbnVsbCxcblx0XHRvcHRpb25fY3JlYXRlOiBudWxsXG5cdFx0Ki9cblx0fVxufTtcblxuJC5mbi5zZWxlY3RpemUgPSBmdW5jdGlvbiAoc2V0dGluZ3NfdXNlcikge1xuICB2YXIgZGVmYXVsdHMgPSAkLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cztcbiAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBzZXR0aW5nc191c2VyKTtcbiAgdmFyIGF0dHJfZGF0YSA9IHNldHRpbmdzLmRhdGFBdHRyO1xuICB2YXIgZmllbGRfbGFiZWwgPSBzZXR0aW5ncy5sYWJlbEZpZWxkO1xuICB2YXIgZmllbGRfdmFsdWUgPSBzZXR0aW5ncy52YWx1ZUZpZWxkO1xuICB2YXIgZmllbGRfZGlzYWJsZWQgPSBzZXR0aW5ncy5kaXNhYmxlZEZpZWxkO1xuICB2YXIgZmllbGRfb3B0Z3JvdXAgPSBzZXR0aW5ncy5vcHRncm91cEZpZWxkO1xuICB2YXIgZmllbGRfb3B0Z3JvdXBfbGFiZWwgPSBzZXR0aW5ncy5vcHRncm91cExhYmVsRmllbGQ7XG4gIHZhciBmaWVsZF9vcHRncm91cF92YWx1ZSA9IHNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZDtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgc2VsZWN0aXplIGZyb20gYSA8aW5wdXQgdHlwZT1cInRleHRcIj4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtKUXVlcnl9ICRpbnB1dFxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NfZWxlbWVudFxuICAgKi9cbiAgdmFyIGluaXRfdGV4dGJveCA9IGZ1bmN0aW9uICgkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpIHtcbiAgICB2YXIgaSwgbiwgdmFsdWVzLCBvcHRpb247XG5cbiAgICB2YXIgZGF0YV9yYXcgPSAkaW5wdXQuYXR0cihhdHRyX2RhdGEpO1xuXG4gICAgaWYgKCFkYXRhX3Jhdykge1xuICAgICAgdmFyIHZhbHVlID0gKCRpbnB1dC52YWwoKSB8fCAnJykudHJpbSgpO1xuICAgICAgaWYgKCFzZXR0aW5ncy5hbGxvd0VtcHR5T3B0aW9uICYmICF2YWx1ZS5sZW5ndGgpIHJldHVybjtcbiAgICAgIHZhbHVlcyA9IHZhbHVlLnNwbGl0KHNldHRpbmdzLmRlbGltaXRlcik7XG4gICAgICBmb3IgKGkgPSAwLCBuID0gdmFsdWVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBvcHRpb24gPSB7fTtcbiAgICAgICAgb3B0aW9uW2ZpZWxkX2xhYmVsXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgb3B0aW9uW2ZpZWxkX3ZhbHVlXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgIH1cbiAgICAgIHNldHRpbmdzX2VsZW1lbnQuaXRlbXMgPSB2YWx1ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucyA9IEpTT04ucGFyc2UoZGF0YV9yYXcpO1xuICAgICAgZm9yIChpID0gMCwgbiA9IHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgc2V0dGluZ3NfZWxlbWVudC5pdGVtcy5wdXNoKHNldHRpbmdzX2VsZW1lbnQub3B0aW9uc1tpXVtmaWVsZF92YWx1ZV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgc2VsZWN0aXplIGZyb20gYSA8c2VsZWN0PiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gJGlucHV0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5nc19lbGVtZW50XG4gICAqL1xuICB2YXIgaW5pdF9zZWxlY3QgPSBmdW5jdGlvbiAoJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KSB7XG4gICAgdmFyIGksIG4sIHRhZ05hbWUsICRjaGlsZHJlbiwgb3JkZXIgPSAwO1xuICAgIHZhciBvcHRpb25zID0gc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zO1xuICAgIHZhciBvcHRpb25zTWFwID0ge307XG5cbiAgICB2YXIgcmVhZERhdGEgPSBmdW5jdGlvbiAoJGVsKSB7XG4gICAgICB2YXIgZGF0YSA9IGF0dHJfZGF0YSAmJiAkZWwuYXR0cihhdHRyX2RhdGEpO1xuICAgICAgdmFyIGFsbERhdGEgPSAkZWwuZGF0YSgpO1xuICAgICAgdmFyIG9iaiA9IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc0pTT04oZGF0YSkpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKG9iaiwgSlNPTi5wYXJzZShkYXRhKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmpbZGF0YV0gPSBkYXRhO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgT2JqZWN0LmFzc2lnbihvYmosIGFsbERhdGEpO1xuXG4gICAgICByZXR1cm4gb2JqIHx8IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBhZGRPcHRpb24gPSBmdW5jdGlvbiAoJG9wdGlvbiwgZ3JvdXApIHtcbiAgICAgICRvcHRpb24gPSAkKCRvcHRpb24pO1xuXG4gICAgICB2YXIgdmFsdWUgPSBoYXNoX2tleSgkb3B0aW9uLnZhbCgpKTtcbiAgICAgIGlmICghdmFsdWUgJiYgIXNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24pIHJldHVybjtcblxuICAgICAgLy8gaWYgdGhlIG9wdGlvbiBhbHJlYWR5IGV4aXN0cywgaXQncyBwcm9iYWJseSBiZWVuXG4gICAgICAvLyBkdXBsaWNhdGVkIGluIGFub3RoZXIgb3B0Z3JvdXAuIGluIHRoaXMgY2FzZSwgcHVzaFxuICAgICAgLy8gdGhlIGN1cnJlbnQgZ3JvdXAgdG8gdGhlIFwib3B0Z3JvdXBcIiBwcm9wZXJ0eSBvbiB0aGVcbiAgICAgIC8vIGV4aXN0aW5nIG9wdGlvbiBzbyB0aGF0IGl0J3MgcmVuZGVyZWQgaW4gYm90aCBwbGFjZXMuXG4gICAgICBpZiAob3B0aW9uc01hcC5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgdmFyIGFyciA9IG9wdGlvbnNNYXBbdmFsdWVdW2ZpZWxkX29wdGdyb3VwXTtcbiAgICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgICAgb3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdID0gZ3JvdXA7XG4gICAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgICAgICBvcHRpb25zTWFwW3ZhbHVlXVtmaWVsZF9vcHRncm91cF0gPSBbYXJyLCBncm91cF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyci5wdXNoKGdyb3VwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3B0aW9uID0gcmVhZERhdGEoJG9wdGlvbikgfHwge307XG4gICAgICBvcHRpb25bZmllbGRfbGFiZWxdID0gb3B0aW9uW2ZpZWxkX2xhYmVsXSB8fCAkb3B0aW9uLnRleHQoKTtcbiAgICAgIG9wdGlvbltmaWVsZF92YWx1ZV0gPSBvcHRpb25bZmllbGRfdmFsdWVdIHx8IHZhbHVlO1xuICAgICAgb3B0aW9uW2ZpZWxkX2Rpc2FibGVkXSA9IG9wdGlvbltmaWVsZF9kaXNhYmxlZF0gfHwgJG9wdGlvbi5wcm9wKCdkaXNhYmxlZCcpO1xuICAgICAgb3B0aW9uW2ZpZWxkX29wdGdyb3VwXSA9IG9wdGlvbltmaWVsZF9vcHRncm91cF0gfHwgZ3JvdXA7XG4gICAgICBvcHRpb24uc3R5bGVzID0gJG9wdGlvbi5hdHRyKCdzdHlsZScpIHx8ICcnO1xuICAgICAgb3B0aW9uLmNsYXNzZXMgPSAkb3B0aW9uLmF0dHIoJ2NsYXNzJykgfHwgJyc7XG5cbiAgICAgIG9wdGlvbnNNYXBbdmFsdWVdID0gb3B0aW9uO1xuICAgICAgb3B0aW9ucy5wdXNoKG9wdGlvbik7XG5cbiAgICAgIGlmICgkb3B0aW9uLmlzKCc6c2VsZWN0ZWQnKSkge1xuICAgICAgICBzZXR0aW5nc19lbGVtZW50Lml0ZW1zLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgYWRkR3JvdXAgPSBmdW5jdGlvbiAoJG9wdGdyb3VwKSB7XG4gICAgICB2YXIgaSwgbiwgaWQsIG9wdGdyb3VwLCAkb3B0aW9ucztcblxuICAgICAgJG9wdGdyb3VwID0gJCgkb3B0Z3JvdXApO1xuICAgICAgaWQgPSAkb3B0Z3JvdXAuYXR0cignbGFiZWwnKTtcblxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIG9wdGdyb3VwID0gcmVhZERhdGEoJG9wdGdyb3VwKSB8fCB7fTtcbiAgICAgICAgb3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfbGFiZWxdID0gaWQ7XG4gICAgICAgIG9wdGdyb3VwW2ZpZWxkX29wdGdyb3VwX3ZhbHVlXSA9IGlkO1xuICAgICAgICBvcHRncm91cFtmaWVsZF9kaXNhYmxlZF0gPSAkb3B0Z3JvdXAucHJvcCgnZGlzYWJsZWQnKTtcbiAgICAgICAgc2V0dGluZ3NfZWxlbWVudC5vcHRncm91cHMucHVzaChvcHRncm91cCk7XG4gICAgICB9XG5cbiAgICAgICRvcHRpb25zID0gJCgnb3B0aW9uJywgJG9wdGdyb3VwKTtcbiAgICAgIGZvciAoaSA9IDAsIG4gPSAkb3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgYWRkT3B0aW9uKCRvcHRpb25zW2ldLCBpZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNldHRpbmdzX2VsZW1lbnQubWF4SXRlbXMgPSAkaW5wdXQuYXR0cignbXVsdGlwbGUnKSA/IG51bGwgOiAxO1xuXG4gICAgJGNoaWxkcmVuID0gJGlucHV0LmNoaWxkcmVuKCk7XG4gICAgZm9yIChpID0gMCwgbiA9ICRjaGlsZHJlbi5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHRhZ05hbWUgPSAkY2hpbGRyZW5baV0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHRhZ05hbWUgPT09ICdvcHRncm91cCcpIHtcbiAgICAgICAgYWRkR3JvdXAoJGNoaWxkcmVuW2ldKTtcbiAgICAgIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gJ29wdGlvbicpIHtcbiAgICAgICAgYWRkT3B0aW9uKCRjaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGl6ZSkgcmV0dXJuO1xuXG4gICAgdmFyIGluc3RhbmNlO1xuICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xuICAgIHZhciB0YWdfbmFtZSA9IHRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBwbGFjZWhvbGRlciA9ICRpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicpIHx8ICRpbnB1dC5hdHRyKCdkYXRhLXBsYWNlaG9sZGVyJyk7XG4gICAgaWYgKCFwbGFjZWhvbGRlciAmJiAhc2V0dGluZ3MuYWxsb3dFbXB0eU9wdGlvbikge1xuICAgICAgcGxhY2Vob2xkZXIgPSAkaW5wdXQuY2hpbGRyZW4oJ29wdGlvblt2YWx1ZT1cIlwiXScpLnRleHQoKTtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24gJiYgc2V0dGluZ3Muc2hvd0VtcHR5T3B0aW9uSW5Ecm9wZG93biAmJiAhJGlucHV0LmNoaWxkcmVuKCdvcHRpb25bdmFsdWU9XCJcIl0nKS5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnB1dF9odG1sID0gJGlucHV0Lmh0bWwoKTtcbiAgICAgIHZhciBsYWJlbCA9IGVzY2FwZV9odG1sKHNldHRpbmdzLmVtcHR5T3B0aW9uTGFiZWwgfHwgJy0tJyk7XG4gICAgICAkaW5wdXQuaHRtbCgnPG9wdGlvbiB2YWx1ZT1cIlwiPicgKyBsYWJlbCArICc8L29wdGlvbj4nICsgaW5wdXRfaHRtbCk7XG4gICAgfVxuXG4gICAgdmFyIHNldHRpbmdzX2VsZW1lbnQgPSB7XG4gICAgICAncGxhY2Vob2xkZXInOiBwbGFjZWhvbGRlcixcbiAgICAgICdvcHRpb25zJzogW10sXG4gICAgICAnb3B0Z3JvdXBzJzogW10sXG4gICAgICAnaXRlbXMnOiBbXVxuICAgIH07XG5cbiAgICBpZiAodGFnX25hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgICBpbml0X3NlbGVjdCgkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0X3RleHRib3goJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KTtcbiAgICB9XG5cbiAgICBpbnN0YW5jZSA9IG5ldyBTZWxlY3RpemUoJGlucHV0LCAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIHNldHRpbmdzX2VsZW1lbnQsIHNldHRpbmdzX3VzZXIpKTtcbiAgICBpbnN0YW5jZS5zZXR0aW5nc191c2VyID0gc2V0dGluZ3NfdXNlcjtcbiAgfSk7XG59O1xuXG4kLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cyA9IFNlbGVjdGl6ZS5kZWZhdWx0cztcbiQuZm4uc2VsZWN0aXplLnN1cHBvcnQgPSB7XG4gIHZhbGlkaXR5OiBTVVBQT1JUU19WQUxJRElUWV9BUElcbn07XG5cblNlbGVjdGl6ZS5kZWZpbmUoXCJhdXRvX3Bvc2l0aW9uXCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGNvbnN0IFBPU0lUSU9OID0ge1xuICAgIHRvcDogJ3RvcCcsXG4gICAgYm90dG9tOiAnYm90dG9tJyxcbiAgfTtcblxuICBzZWxmLnBvc2l0aW9uRHJvcGRvd24gPSAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgJGNvbnRyb2wgPSB0aGlzLiRjb250cm9sO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5zZXR0aW5ncy5kcm9wZG93blBhcmVudCA9PT0gJ2JvZHknID8gJGNvbnRyb2wub2Zmc2V0KCkgOiAkY29udHJvbC5wb3NpdGlvbigpO1xuICAgICAgb2Zmc2V0LnRvcCArPSAkY29udHJvbC5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgY29uc3QgZHJvcGRvd25IZWlnaHQgPSB0aGlzLiRkcm9wZG93bi5wcm9wKCdzY3JvbGxIZWlnaHQnKSArIDU7IC8vIDUgLSBwYWRkaW5nIHZhbHVlO1xuICAgICAgY29uc3QgY29udHJvbFBvc1RvcCA9IHRoaXMuJGNvbnRyb2wuZ2V0KDApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGNvbnN0IHdyYXBwZXJIZWlnaHQgPSB0aGlzLiR3cmFwcGVyLmhlaWdodCgpO1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBjb250cm9sUG9zVG9wICsgZHJvcGRvd25IZWlnaHQgKyB3cmFwcGVySGVpZ2h0ICA+IHdpbmRvdy5pbm5lckhlaWdodCA/IFBPU0lUSU9OLnRvcCA6IFBPU0lUSU9OLmJvdHRvbTtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAgICAgd2lkdGg6ICRjb250cm9sLm91dGVyV2lkdGgoKSxcbiAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnRcbiAgICAgIH07XG5cbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gUE9TSVRJT04udG9wKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlVG9BZGQgPSB7IGJvdHRvbTogb2Zmc2V0LnRvcCwgdG9wOiAndW5zZXQnIH07XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZHJvcGRvd25QYXJlbnQgPT09ICdib2R5Jykge1xuICAgICAgICAgIHN0eWxlVG9BZGQudG9wID0gb2Zmc2V0LnRvcCAtIHRoaXMuJGRyb3Bkb3duLm91dGVySGVpZ2h0KHRydWUpIC0gJGNvbnRyb2wub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgICAgc3R5bGVUb0FkZC5ib3R0b20gPSAndW5zZXQnO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGVzLCBzdHlsZVRvQWRkKTtcbiAgICAgICAgdGhpcy4kZHJvcGRvd24uYWRkQ2xhc3MoJ3NlbGVjdGl6ZS1wb3NpdGlvbi10b3AnKTtcbiAgICAgICAgdGhpcy4kY29udHJvbC5hZGRDbGFzcygnc2VsZWN0aXplLXBvc2l0aW9uLXRvcCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZXMsIHsgdG9wOiBvZmZzZXQudG9wLCBib3R0b206ICd1bnNldCcgfSk7XG4gICAgICAgIHRoaXMuJGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdzZWxlY3RpemUtcG9zaXRpb24tdG9wJyk7XG4gICAgICAgIHRoaXMuJGNvbnRyb2wucmVtb3ZlQ2xhc3MoJ3NlbGVjdGl6ZS1wb3NpdGlvbi10b3AnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4kZHJvcGRvd24uY3NzKHN0eWxlcyk7XG4gICAgfTtcbiAgfSgpKTtcbn0pO1xuXG5TZWxlY3RpemUuZGVmaW5lKCdhdXRvX3NlbGVjdF9vbl90eXBlJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5vbkJsdXIgPSAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9yaWdpbmFsQmx1ciA9IHNlbGYub25CbHVyO1xuXHRcdHJldHVybiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgJG1hdGNoZWRJdGVtID0gc2VsZi5nZXRGaXJzdEl0ZW1NYXRjaGVkQnlUZXh0Q29udGVudChzZWxmLmxhc3RWYWx1ZSwgdHJ1ZSk7XG5cdFx0XHRpZiAodHlwZW9mICRtYXRjaGVkSXRlbS5hdHRyKCdkYXRhLXZhbHVlJykgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuZ2V0VmFsdWUoKSAhPT0gJG1hdGNoZWRJdGVtLmF0dHIoJ2RhdGEtdmFsdWUnKSlcblx0XHRcdHtcblx0XHRcdFx0c2VsZi5zZXRWYWx1ZSgkbWF0Y2hlZEl0ZW0uYXR0cignZGF0YS12YWx1ZScpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvcmlnaW5hbEJsdXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH0oKSk7XG59KTtcblxuLyoqXG4gKiBQbHVnaW46IFwiYXV0b2ZpbGxfZGlzYWJsZVwiIChzZWxlY3RpemUuanMpXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAtMjAyMiBTZWxlY3RpemUgVGVhbSAmIGNvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBAYXV0aG9yIFJpcyBBZGFtcyA8c2VsZWN0aXplQHJpc2FkYW1zLmNvbT5cbiAqL1xuXG5TZWxlY3RpemUuZGVmaW5lKFwiYXV0b2ZpbGxfZGlzYWJsZVwiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgc2VsZi5zZXR1cCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwNTMxNjcvYXV0b2NvbXBsZXRlLW9mZi12cy1mYWxzZVxuICAgICAgc2VsZi4kY29udHJvbF9pbnB1dC5hdHRyKHsgYXV0b2NvbXBsZXRlOiBcIm5ldy1wYXNzd29yZFwiLCBhdXRvZmlsbDogXCJub1wiIH0pO1xuICAgIH07XG4gIH0pKCk7XG59KTtcblxuLyoqXG4gKiBQbHVnaW46IFwiY2xlYXJfYnV0dG9uXCIgKHNlbGVjdGl6ZS5qcylcbiAqIENvcHlyaWdodCAoYykgMjAxMyBCcmlhbiBSZWF2aXMgJiBjb250cmlidXRvcnNcbiAqIENvcHlyaWdodCAoYykgMjAyMC0yMDIyIFNlbGVjdGl6ZSBUZWFtICYgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgRmFiaWVuIFdpbmtsZXIgPGZhYmllbi53aW5rbGVyQG91dGxvb2suZnI+XG4gKi9cblxuU2VsZWN0aXplLmRlZmluZShcImNsZWFyX2J1dHRvblwiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgb3B0aW9ucyA9ICQuZXh0ZW5kKFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkNsZWFyXCIsXG4gICAgICBjbGFzc05hbWU6IFwiY2xlYXJcIixcbiAgICAgIGxhYmVsOiBcIsOXXCIsXG4gICAgICBodG1sOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICc8YSBjbGFzcz1cIicgKyBkYXRhLmNsYXNzTmFtZSArICdcIiB0aXRsZT1cIicgKyBkYXRhLnRpdGxlICsgJ1wiPiAnICsgZGF0YS5sYWJlbCArICc8L2E+J1xuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9LFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICBzZWxmLnNldHVwID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgc2VsZi4kYnV0dG9uX2NsZWFyID0gJChvcHRpb25zLmh0bWwob3B0aW9ucykpO1xuXG4gICAgICBpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSBcInNpbmdsZVwiKSBzZWxmLiR3cmFwcGVyLmFkZENsYXNzKFwic2luZ2xlXCIpO1xuXG4gICAgICBzZWxmLiR3cmFwcGVyLmFwcGVuZChzZWxmLiRidXR0b25fY2xlYXIpO1xuXG4gICAgICBpZiAoc2VsZi5nZXRWYWx1ZSgpID09PSBcIlwiIHx8IHNlbGYuZ2V0VmFsdWUoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2VsZi4kd3JhcHBlci5maW5kKFwiLlwiICsgb3B0aW9ucy5jbGFzc05hbWUpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHNlbGYuZ2V0VmFsdWUoKSA9PT0gXCJcIiB8fCBzZWxmLmdldFZhbHVlKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2VsZi4kd3JhcHBlci5maW5kKFwiLlwiICsgb3B0aW9ucy5jbGFzc05hbWUpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuJHdyYXBwZXIuZmluZChcIi5cIiArIG9wdGlvbnMuY2xhc3NOYW1lKS5jc3MoXCJkaXNwbGF5XCIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VsZi4kd3JhcHBlci5vbihcImNsaWNrXCIsIFwiLlwiICsgb3B0aW9ucy5jbGFzc05hbWUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xuXG4gICAgICAgIHNlbGYuY2xlYXIoKTtcbiAgICAgICAgc2VsZi4kd3JhcHBlci5maW5kKFwiLlwiICsgb3B0aW9ucy5jbGFzc05hbWUpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSkoKTtcbn0pO1xuXG4vKipcbiAqIFBsdWdpbjogXCJkcmFnX2Ryb3BcIiAoc2VsZWN0aXplLmpzKVxuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICogQ29weXJpZ2h0IChjKSAyMDIwLTIwMjIgU2VsZWN0aXplIFRlYW0gJiBjb250cmlidXRvcnMqXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cbiAqL1xuXG5TZWxlY3RpemUuZGVmaW5lKCdkcmFnX2Ryb3AnLCBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGlmICghJC5mbi5zb3J0YWJsZSkgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJkcmFnX2Ryb3BcIiBwbHVnaW4gcmVxdWlyZXMgalF1ZXJ5IFVJIFwic29ydGFibGVcIi4nKTtcblx0aWYgKHRoaXMuc2V0dGluZ3MubW9kZSAhPT0gJ211bHRpJykgcmV0dXJuO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5sb2NrID0gKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcmlnaW5hbCA9IHNlbGYubG9jaztcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc29ydGFibGUgPSBzZWxmLiRjb250cm9sLmRhdGEoJ3NvcnRhYmxlJyk7XG5cdFx0XHRpZiAoc29ydGFibGUpIHNvcnRhYmxlLmRpc2FibGUoKTtcblx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH0pKCk7XG5cblx0c2VsZi51bmxvY2sgPSAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZi51bmxvY2s7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNvcnRhYmxlID0gc2VsZi4kY29udHJvbC5kYXRhKCdzb3J0YWJsZScpO1xuXHRcdFx0aWYgKHNvcnRhYmxlKSBzb3J0YWJsZS5lbmFibGUoKTtcblx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH0pKCk7XG5cblx0c2VsZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcblx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cblx0XHRcdHZhciAkY29udHJvbCA9IHNlbGYuJGNvbnRyb2wuc29ydGFibGUoe1xuXHRcdFx0XHRpdGVtczogJ1tkYXRhLXZhbHVlXScsXG5cdFx0XHRcdGZvcmNlUGxhY2Vob2xkZXJTaXplOiB0cnVlLFxuXHRcdFx0XHRkaXNhYmxlZDogc2VsZi5pc0xvY2tlZCxcblx0XHRcdFx0c3RhcnQ6IGZ1bmN0aW9uKGUsIHVpKSB7XG5cdFx0XHRcdFx0dWkucGxhY2Vob2xkZXIuY3NzKCd3aWR0aCcsIHVpLmhlbHBlci5jc3MoJ3dpZHRoJykpO1xuXHRcdFx0XHRcdC8vICRjb250cm9sLmNzcyh7b3ZlcmZsb3c6ICd2aXNpYmxlJ30pO1xuXHRcdFx0XHRcdCRjb250cm9sLmFkZENsYXNzKCdkcmFnZ2luZycpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdG9wOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyAkY29udHJvbC5jc3Moe292ZXJmbG93OiAnaGlkZGVuJ30pO1xuXHRcdFx0XHRcdCRjb250cm9sLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpO1xuXHRcdFx0XHRcdHZhciBhY3RpdmUgPSBzZWxmLiRhY3RpdmVJdGVtcyA/IHNlbGYuJGFjdGl2ZUl0ZW1zLnNsaWNlKCkgOiBudWxsO1xuXHRcdFx0XHRcdHZhciB2YWx1ZXMgPSBbXTtcblx0XHRcdFx0XHQkY29udHJvbC5jaGlsZHJlbignW2RhdGEtdmFsdWVdJykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCQodGhpcykuYXR0cignZGF0YS12YWx1ZScpKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRzZWxmLmlzRm9jdXNlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdHNlbGYuc2V0VmFsdWUodmFsdWVzKTtcblx0XHRcdFx0XHRzZWxmLmlzRm9jdXNlZCA9IHRydWU7XG5cdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKGFjdGl2ZSk7XG5cdFx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cdH0pKCk7XG5cbn0pO1xuXG4vKipcbiAqIFBsdWdpbjogXCJkcm9wZG93bl9oZWFkZXJcIiAoc2VsZWN0aXplLmpzKVxuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICogQ29weXJpZ2h0IChjKSAyMDIwLTIwMjIgU2VsZWN0aXplIFRlYW0gJiBjb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xuICogZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GXG4gKiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQGF1dGhvciBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPlxuICovXG5cblNlbGVjdGl6ZS5kZWZpbmUoJ2Ryb3Bkb3duX2hlYWRlcicsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdG9wdGlvbnMgPSAkLmV4dGVuZCh7XG5cdFx0dGl0bGUgICAgICAgICA6ICdVbnRpdGxlZCcsXG5cdFx0aGVhZGVyQ2xhc3MgICA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyJyxcblx0XHR0aXRsZVJvd0NsYXNzIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXItdGl0bGUnLFxuXHRcdGxhYmVsQ2xhc3MgICAgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlci1sYWJlbCcsXG5cdFx0Y2xvc2VDbGFzcyAgICA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyLWNsb3NlJyxcblxuXHRcdGh0bWw6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdCc8ZGl2IGNsYXNzPVwiJyArIGRhdGEuaGVhZGVyQ2xhc3MgKyAnXCI+JyArXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInICsgZGF0YS50aXRsZVJvd0NsYXNzICsgJ1wiPicgK1xuXHRcdFx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiJyArIGRhdGEubGFiZWxDbGFzcyArICdcIj4nICsgZGF0YS50aXRsZSArICc8L3NwYW4+JyArXG5cdFx0XHRcdFx0XHQnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIGRhdGEuY2xvc2VDbGFzcyArICdcIj4mI3hkNzs8L2E+JyArXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xuXHRcdFx0XHQnPC9kaXY+J1xuXHRcdFx0KTtcblx0XHR9XG5cdH0sIG9wdGlvbnMpO1xuXG5cdHNlbGYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0c2VsZi4kZHJvcGRvd25faGVhZGVyID0gJChvcHRpb25zLmh0bWwob3B0aW9ucykpO1xuICAgICAgc2VsZi4kZHJvcGRvd24ucHJlcGVuZChzZWxmLiRkcm9wZG93bl9oZWFkZXIpO1xuICAgICAgc2VsZi4kZHJvcGRvd25faGVhZGVyLmZpbmQoJy4nICsgb3B0aW9ucy5jbG9zZUNsYXNzKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgIH0pO1xuXHRcdH07XG5cdH0pKCk7XG5cbn0pO1xuXG4vKipcbiAqIFBsdWdpbjogXCJvcHRncm91cF9jb2x1bW5zXCIgKHNlbGVjdGl6ZS5qcylcbiAqIENvcHlyaWdodCAoYykgMjAxMyBTaW1vbiBIZXdpdHQgJiBjb250cmlidXRvcnNcbiAqIENvcHlyaWdodCAoYykgMjAyMC0yMDIyIFNlbGVjdGl6ZSBUZWFtICYgY29udHJpYnV0b3JzKlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBAYXV0aG9yIFNpbW9uIEhld2l0dCA8c2lAc2poZXdpdHQuY28udWs+XG4gKi9cblxuU2VsZWN0aXplLmRlZmluZSgnb3B0Z3JvdXBfY29sdW1ucycsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdG9wdGlvbnMgPSAkLmV4dGVuZCh7XG5cdFx0ZXF1YWxpemVXaWR0aCAgOiB0cnVlLFxuXHRcdGVxdWFsaXplSGVpZ2h0IDogdHJ1ZVxuXHR9LCBvcHRpb25zKTtcblxuXHR0aGlzLmdldEFkamFjZW50T3B0aW9uID0gZnVuY3Rpb24oJG9wdGlvbiwgZGlyZWN0aW9uKSB7XG5cdFx0dmFyICRvcHRpb25zID0gJG9wdGlvbi5jbG9zZXN0KCdbZGF0YS1ncm91cF0nKS5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xuXHRcdHZhciBpbmRleCAgICA9ICRvcHRpb25zLmluZGV4KCRvcHRpb24pICsgZGlyZWN0aW9uO1xuXG5cdFx0cmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCAkb3B0aW9ucy5sZW5ndGggPyAkb3B0aW9ucy5lcShpbmRleCkgOiAkKCk7XG5cdH07XG5cblx0dGhpcy5vbktleURvd24gPSAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5vbktleURvd247XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBpbmRleCwgJG9wdGlvbiwgJG9wdGlvbnMsICRvcHRncm91cDtcblxuXHRcdFx0aWYgKHRoaXMuaXNPcGVuICYmIChlLmtleUNvZGUgPT09IEtFWV9MRUZUIHx8IGUua2V5Q29kZSA9PT0gS0VZX1JJR0hUKSkge1xuXHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcblx0XHRcdFx0JG9wdGdyb3VwID0gdGhpcy4kYWN0aXZlT3B0aW9uLmNsb3Nlc3QoJ1tkYXRhLWdyb3VwXScpO1xuXHRcdFx0XHRpbmRleCA9ICRvcHRncm91cC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpLmluZGV4KHRoaXMuJGFjdGl2ZU9wdGlvbik7XG5cblx0XHRcdFx0aWYoZS5rZXlDb2RlID09PSBLRVlfTEVGVCkge1xuXHRcdFx0XHRcdCRvcHRncm91cCA9ICRvcHRncm91cC5wcmV2KCdbZGF0YS1ncm91cF0nKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkb3B0Z3JvdXAgPSAkb3B0Z3JvdXAubmV4dCgnW2RhdGEtZ3JvdXBdJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkb3B0aW9ucyA9ICRvcHRncm91cC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xuXHRcdFx0XHQkb3B0aW9uICA9ICRvcHRpb25zLmVxKE1hdGgubWluKCRvcHRpb25zLmxlbmd0aCAtIDEsIGluZGV4KSk7XG5cdFx0XHRcdGlmICgkb3B0aW9uLmxlbmd0aCkge1xuXHRcdFx0XHRcdHRoaXMuc2V0QWN0aXZlT3B0aW9uKCRvcHRpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fTtcblx0fSkoKTtcblxuXHR2YXIgZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGl2O1xuXHRcdHZhciB3aWR0aCA9IGdldFNjcm9sbGJhcldpZHRoLndpZHRoO1xuXHRcdHZhciBkb2MgPSBkb2N1bWVudDtcblxuXHRcdGlmICh0eXBlb2Ygd2lkdGggPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRkaXYuaW5uZXJIVE1MID0gJzxkaXYgc3R5bGU9XCJ3aWR0aDo1MHB4O2hlaWdodDo1MHB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTUwcHg7dG9wOi01MHB4O292ZXJmbG93OmF1dG87XCI+PGRpdiBzdHlsZT1cIndpZHRoOjFweDtoZWlnaHQ6MTAwcHg7XCI+PC9kaXY+PC9kaXY+Jztcblx0XHRcdGRpdiA9IGRpdi5maXJzdENoaWxkO1xuXHRcdFx0ZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHRcdHdpZHRoID0gZ2V0U2Nyb2xsYmFyV2lkdGgud2lkdGggPSBkaXYub2Zmc2V0V2lkdGggLSBkaXYuY2xpZW50V2lkdGg7XG5cdFx0XHRkb2MuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuXHRcdH1cblx0XHRyZXR1cm4gd2lkdGg7XG5cdH07XG5cblx0dmFyIGVxdWFsaXplU2l6ZXMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaSwgbiwgaGVpZ2h0X21heCwgd2lkdGgsIHdpZHRoX2xhc3QsIHdpZHRoX3BhcmVudCwgJG9wdGdyb3VwcztcblxuXHRcdCRvcHRncm91cHMgPSAkKCdbZGF0YS1ncm91cF0nLCBzZWxmLiRkcm9wZG93bl9jb250ZW50KTtcblx0XHRuID0gJG9wdGdyb3Vwcy5sZW5ndGg7XG5cdFx0aWYgKCFuIHx8ICFzZWxmLiRkcm9wZG93bl9jb250ZW50LndpZHRoKCkpIHJldHVybjtcblxuXHRcdGlmIChvcHRpb25zLmVxdWFsaXplSGVpZ2h0KSB7XG5cdFx0XHRoZWlnaHRfbWF4ID0gMDtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0aGVpZ2h0X21heCA9IE1hdGgubWF4KGhlaWdodF9tYXgsICRvcHRncm91cHMuZXEoaSkuaGVpZ2h0KCkpO1xuXHRcdFx0fVxuXHRcdFx0JG9wdGdyb3Vwcy5jc3Moe2hlaWdodDogaGVpZ2h0X21heH0pO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmVxdWFsaXplV2lkdGgpIHtcblx0XHRcdHdpZHRoX3BhcmVudCA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuaW5uZXJXaWR0aCgpIC0gZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcblx0XHRcdHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aF9wYXJlbnQgLyBuKTtcblx0XHRcdCRvcHRncm91cHMuY3NzKHt3aWR0aDogd2lkdGh9KTtcblx0XHRcdGlmIChuID4gMSkge1xuXHRcdFx0XHR3aWR0aF9sYXN0ID0gd2lkdGhfcGFyZW50IC0gd2lkdGggKiAobiAtIDEpO1xuXHRcdFx0XHQkb3B0Z3JvdXBzLmVxKG4gLSAxKS5jc3Moe3dpZHRoOiB3aWR0aF9sYXN0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGlmIChvcHRpb25zLmVxdWFsaXplSGVpZ2h0IHx8IG9wdGlvbnMuZXF1YWxpemVXaWR0aCkge1xuXHRcdGhvb2suYWZ0ZXIodGhpcywgJ3Bvc2l0aW9uRHJvcGRvd24nLCBlcXVhbGl6ZVNpemVzKTtcblx0XHRob29rLmFmdGVyKHRoaXMsICdyZWZyZXNoT3B0aW9ucycsIGVxdWFsaXplU2l6ZXMpO1xuXHR9XG5cblxufSk7XG5cbi8qKlxuICogUGx1Z2luOiBcInJlbW92ZV9idXR0b25cIiAoc2VsZWN0aXplLmpzKVxuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICogQ29weXJpZ2h0IChjKSAyMDIwLTIwMjIgU2VsZWN0aXplIFRlYW0gJiBjb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xuICogZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GXG4gKiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQGF1dGhvciBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPlxuICovXG5cblNlbGVjdGl6ZS5kZWZpbmUoJ3JlbW92ZV9idXR0b24nLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAodGhpcy5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykgcmV0dXJuO1xuXG5cdG9wdGlvbnMgPSAkLmV4dGVuZCh7XG5cdFx0XHRsYWJlbCAgICAgOiAnJiN4ZDc7Jyxcblx0XHRcdHRpdGxlICAgICA6ICdSZW1vdmUnLFxuXHRcdFx0Y2xhc3NOYW1lIDogJ3JlbW92ZScsXG5cdFx0XHRhcHBlbmQgICAgOiB0cnVlXG5cdFx0fSwgb3B0aW9ucyk7XG5cblx0XHR2YXIgbXVsdGlDbG9zZSA9IGZ1bmN0aW9uKHRoaXNSZWYsIG9wdGlvbnMpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzUmVmO1xuXHRcdFx0dmFyIGh0bWwgPSAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIG9wdGlvbnMuY2xhc3NOYW1lICsgJ1wiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIicgKyBlc2NhcGVfaHRtbChvcHRpb25zLnRpdGxlKSArICdcIj4nICsgb3B0aW9ucy5sYWJlbCArICc8L2E+JztcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBcHBlbmRzIGFuIGVsZW1lbnQgYXMgYSBjaGlsZCAod2l0aCByYXcgSFRNTCkuXG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfY29udGFpbmVyXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9lbGVtZW50XG5cdFx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdFx0XHQgKi9cblx0XHRcdHZhciBhcHBlbmQgPSBmdW5jdGlvbihodG1sX2NvbnRhaW5lciwgaHRtbF9lbGVtZW50KSB7XG5cdFx0XHRcdHZhciBwb3MgPSBodG1sX2NvbnRhaW5lci5zZWFyY2goLyg8XFwvW14+XSs+XFxzKikkLyk7XG5cdFx0XHRcdHJldHVybiBodG1sX2NvbnRhaW5lci5zdWJzdHJpbmcoMCwgcG9zKSArIGh0bWxfZWxlbWVudCArIGh0bWxfY29udGFpbmVyLnN1YnN0cmluZyhwb3MpO1xuXHRcdFx0fTtcblxuXHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxuXHRcdFx0XHRcdGlmIChvcHRpb25zLmFwcGVuZCkge1xuXHRcdFx0XHRcdFx0dmFyIHJlbmRlcl9pdGVtID0gc2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbTtcblx0XHRcdFx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW0gPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhcHBlbmQocmVuZGVyX2l0ZW0uYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKSwgaHRtbCk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG9yaWdpbmFsLmFwcGx5KHRoaXNSZWYsIGFyZ3VtZW50cyk7XG5cblx0XHRcdFx0XHQvLyBhZGQgZXZlbnQgbGlzdGVuZXJcblx0XHRcdFx0XHR0aGlzUmVmLiRjb250cm9sLm9uKCdjbGljaycsICcuJyArIG9wdGlvbnMuY2xhc3NOYW1lLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0XHR2YXIgJGl0ZW0gPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCk7XG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oJGl0ZW0pO1xuXHRcdFx0XHRcdFx0aWYgKHNlbGYuZGVsZXRlU2VsZWN0aW9uKCkpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fTtcblx0XHRcdH0pKCk7XG5cdFx0fTtcblxuICAgIG11bHRpQ2xvc2UodGhpcywgb3B0aW9ucyk7XG59KTtcblxuLyoqXG4gKiBQbHVnaW46IFwicmVzdG9yZV9vbl9iYWNrc3BhY2VcIiAoc2VsZWN0aXplLmpzKVxuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICogQ29weXJpZ2h0IChjKSAyMDIwLTIwMjIgU2VsZWN0aXplIFRlYW0gJiBjb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xuICogZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GXG4gKiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQGF1dGhvciBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPlxuICovXG5cblNlbGVjdGl6ZS5kZWZpbmUoJ3Jlc3RvcmVfb25fYmFja3NwYWNlJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0b3B0aW9ucy50ZXh0ID0gb3B0aW9ucy50ZXh0IHx8IGZ1bmN0aW9uKG9wdGlvbikge1xuXHRcdHJldHVybiBvcHRpb25bdGhpcy5zZXR0aW5ncy5sYWJlbEZpZWxkXTtcblx0fTtcblxuXHR0aGlzLm9uS2V5RG93biA9IChmdW5jdGlvbigpIHtcblx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLm9uS2V5RG93bjtcblx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGluZGV4LCBvcHRpb247XG5cdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFICYmIHRoaXMuJGNvbnRyb2xfaW5wdXQudmFsKCkgPT09ICcnICYmICF0aGlzLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0aW5kZXggPSB0aGlzLmNhcmV0UG9zIC0gMTtcblx0XHRcdFx0aWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLml0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IHRoaXMub3B0aW9uc1t0aGlzLml0ZW1zW2luZGV4XV07XG5cdFx0XHRcdFx0aWYgKHRoaXMuZGVsZXRlU2VsZWN0aW9uKGUpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldFRleHRib3hWYWx1ZShvcHRpb25zLnRleHQuYXBwbHkodGhpcywgW29wdGlvbl0pKTtcblx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaE9wdGlvbnModHJ1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH0pKCk7XG59KTtcblxuU2VsZWN0aXplLmRlZmluZSgnc2VsZWN0X29uX2ZvY3VzJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3JpZ2luYWxGb2N1cyA9IHNlbGYub25Gb2N1cztcblx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHZhbHVlID0gc2VsZi5nZXRJdGVtKHNlbGYuZ2V0VmFsdWUoKSkudGV4dCgpO1xuXHRcdFx0c2VsZi5jbGVhcigpO1xuXHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUodmFsdWUpO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5zZWxlY3QoKTtcblx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3Muc2VsZWN0T25UYWIpIHtcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldEZpcnN0SXRlbU1hdGNoZWRCeVRleHRDb250ZW50KHZhbHVlKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5zZXR0aW5ncy5zY29yZSA9IG51bGw7XG5cdFx0XHR9LDApO1xuXHRcdFx0cmV0dXJuIG9yaWdpbmFsRm9jdXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9O1xuXHR9KCkpO1xuXG5cdHNlbGYub25CbHVyID0gKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcmlnaW5hbEJsdXIgPSBzZWxmLm9uQmx1cjtcblx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0aWYgKHNlbGYuZ2V0VmFsdWUoKSA9PT0gXCJcIiAmJiBzZWxmLmxhc3RWYWxpZFZhbHVlICE9PSBzZWxmLmdldFZhbHVlKCkpIHtcblx0XHRcdFx0c2VsZi5zZXRWYWx1ZShzZWxmLmxhc3RWYWxpZFZhbHVlKTtcblx0XHRcdH1cblx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0c2VsZi5zZXR0aW5ncy5zY29yZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9LCAwICk7XG5cdFx0XHRyZXR1cm4gb3JpZ2luYWxCbHVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9KCkpO1xuXHRzZWxmLnNldHRpbmdzLnNjb3JlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gMTsgfTtcblx0fTtcblxufSk7XG5cblNlbGVjdGl6ZS5kZWZpbmUoJ3RhZ19saW1pdCcsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBvcHRpb25zLnRhZ0xpbWl0ID0gb3B0aW9ucy50YWdMaW1pdFxuICAgIHRoaXMub25CbHVyID0gKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gc2VsZi5vbkJsdXJcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGUpO1xuICAgICAgICAgICAgaWYgKCFlKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgY29uc3QgJGNvbnRyb2wgPSB0aGlzLiRjb250cm9sXG4gICAgICAgICAgICBjb25zdCAkaXRlbXMgPSAkY29udHJvbC5maW5kKCcuaXRlbScpXG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IG9wdGlvbnMudGFnTGltaXRcbiAgICAgICAgICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkIHx8ICRpdGVtcy5sZW5ndGggPD0gbGltaXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgICAgICRpdGVtcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGxpbWl0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAkKGl0ZW0pLmhpZGUoKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRjb250cm9sLmFwcGVuZCgnPHNwYW4+PGI+JyArICgkaXRlbXMubGVuZ3RoIC0gbGltaXQpICsgJzwvYj48L3NwYW4+JylcbiAgICAgICAgfTtcbiAgICB9KSgpXG5cbiAgICB0aGlzLm9uRm9jdXMgPSAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBzZWxmLm9uRm9jdXNcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGUpO1xuICAgICAgICAgICAgaWYgKCFlKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgY29uc3QgJGNvbnRyb2wgPSB0aGlzLiRjb250cm9sXG4gICAgICAgICAgICBjb25zdCAkaXRlbXMgPSAkY29udHJvbC5maW5kKCcuaXRlbScpXG4gICAgICAgICAgICAkaXRlbXMuc2hvdygpXG4gICAgICAgICAgICAkY29udHJvbC5maW5kKCdzcGFuJykucmVtb3ZlKClcblxuICAgICAgICB9O1xuICAgIH0pKClcbn0pO1xuXG4gIHJldHVybiBTZWxlY3RpemU7XG59KSk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsIlNlbGVjdGl6ZSIsImpRdWVyeSIsInRoaXMiLCIkIiwiTWljcm9FdmVudCIsImZuIiwicmVtb3ZlSGlnaGxpZ2h0IiwiZmluZCIsImVhY2giLCJwYXJlbnROb2RlIiwiZmlyc3RDaGlsZCIsIm5vZGVOYW1lIiwicGFyZW50IiwicmVwbGFjZUNoaWxkIiwibm9ybWFsaXplIiwiZW5kIiwiU2lmdGVyIiwiaXRlbXMiLCJzZXR0aW5ncyIsImRpYWNyaXRpY3MiLCJwcm90b3R5cGUiLCJvbiIsImV2ZW50IiwiZmN0IiwiX2V2ZW50cyIsInB1c2giLCJvZmYiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic3BsaWNlIiwiaW5kZXhPZiIsInRyaWdnZXIiLCJldmVudHMiLCJpIiwiYXBwbHkiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsIm1peGluIiwiZGVzdE9iamVjdCIsInByb3BzIiwiTWljcm9QbHVnaW4iLCJ1dGlscyIsIkludGVyZmFjZSIsInBsdWdpbnMiLCJpbml0aWFsaXplUGx1Z2lucyIsImtleSIsInF1ZXVlIiwibmFtZXMiLCJyZXF1ZXN0ZWQiLCJsb2FkZWQiLCJpc0FycmF5IiwibmFtZSIsIm9wdGlvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsInNoaWZ0IiwibG9hZFBsdWdpbiIsInBsdWdpbiIsIkVycm9yIiwidkFyZyIsIk9iamVjdCIsInRvU3RyaW5nIiwiY21wIiwidG9rZW5pemUiLCJxdWVyeSIsInJlc3BlY3Rfd29yZF9ib3VuZGFyaWVzIiwidHJpbSIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwicmVnZXgiLCJsZXR0ZXIiLCJ0b2tlbnMiLCJ3b3JkcyIsInNwbGl0IiwiZXNjYXBlX3JlZ2V4IiwiRElBQ1JJVElDUyIsInJlcGxhY2UiLCJSZWdFeHAiLCJzdHJpbmciLCJpdGVyYXRvciIsIm9iamVjdCIsImNhbGxiYWNrIiwiaXNfYXJyYXkiLCJmb3JFYWNoIiwiZ2V0U2NvcmVGdW5jdGlvbiIsInNlYXJjaCIsInNjb3JlVmFsdWUiLCJ2YWx1ZSIsInRva2VuIiwicG9zIiwic2NvcmUiLCJmaWVsZF9jb3VudCIsInByZXBhcmVTZWFyY2giLCJmaWVsZHMiLCJ0b2tlbl9jb3VudCIsIm5lc3RpbmciLCJzY29yZU9iamVjdCIsImRhdGEiLCJnZXRhdHRyIiwic3VtIiwiY29uanVuY3Rpb24iLCJnZXRTb3J0RnVuY3Rpb24iLCJmaWVsZCIsImZpZWxkc19jb3VudCIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWVycyIsImltcGxpY2l0X3Njb3JlIiwic2VsZiIsInNvcnQiLCJzb3J0X2VtcHR5IiwiZ2V0X2ZpZWxkIiwicmVzdWx0IiwiaWQiLCJ1bnNoaWZ0IiwiZGlyZWN0aW9uIiwiYSIsImIiLCJvcHRpb25fZmllbGRzIiwib3B0aW9uX3NvcnQiLCJvcHRpb25fc29ydF9lbXB0eSIsImV4dGVuZCIsInRvdGFsIiwiZm5fc2NvcmUiLCJpdGVtIiwiZmlsdGVyIiwiZm5fc29ydCIsImxpbWl0IiwiYXNjaWlmb2xkIiwiayIsIm9iaiIsInN0ciIsImMiLCJkIiwiZSIsImYiLCJnIiwiaCIsImoiLCJsIiwibyIsInAiLCJxIiwiciIsInMiLCJ0IiwidSIsInYiLCJ3IiwieCIsInkiLCJ6IiwiY2h1bmsiLCJmb3JlaWdubGV0dGVycyIsImxvb2t1cCIsInN1YnN0cmluZyIsImNoYXJBdCIsInJlZ2V4cCIsImZvcmVpZ25sZXR0ZXIiLCJ1YURldGVjdCIsInBsYXRmb3JtIiwicmUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnREYXRhIiwidGVzdCIsInVzZXJBZ2VudCIsImlzc2V0IiwiaGFzaF9rZXkiLCJlc2NhcGVfaHRtbCIsImRlYm91bmNlX2V2ZW50cyIsInR5cGVzIiwidHlwZSIsImV2ZW50X2FyZ3MiLCJnZXRJbnB1dFNlbGVjdGlvbiIsImlucHV0Iiwic2VsIiwic2VsTGVuIiwidW5kZWZpbmVkIiwiY29uc29sZSIsIndhcm4iLCJzdGFydCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZG9jdW1lbnQiLCJzZWxlY3Rpb24iLCJmb2N1cyIsImNyZWF0ZVJhbmdlIiwidGV4dCIsIm1vdmVTdGFydCIsIm1lYXN1cmVTdHJpbmciLCIkcGFyZW50IiwiJHRlc3RJbnB1dCIsImNzcyIsInBvc2l0aW9uIiwid2lkdGgiLCJwYWRkaW5nIiwid2hpdGVTcGFjZSIsImhlaWdodCIsIm92ZXJmbG93IiwiYXBwZW5kIiwiYXBwZW5kVG8iLCJ0cmFuc2ZlclN0eWxlcyIsImF1dG9Hcm93IiwiJGlucHV0IiwidXBkYXRlIiwicGxhY2Vob2xkZXIiLCJ3aW5kb3ciLCJtZXRhS2V5IiwiYWx0S2V5IiwiZm9yY2UiLCJ2YWwiLCJwcmludGFibGUiLCJrZXlDb2RlIiwic2hpZnRLZXkiLCJjaGFyYWN0ZXIiLCJmcm9tQ2hhckNvZGUiLCJ0b1VwcGVyQ2FzZSIsInBsYWNlaG9sZGVyV2lkdGgiLCJhdHRyIiwiTWF0aCIsIm1heCIsImN1cnJlbnRXaWR0aCIsInRyaWdnZXJIYW5kbGVyIiwiSVNfTUFDIiwiS0VZX0NNRCIsIktFWV9DVFJMIiwiU1VQUE9SVFNfVkFMSURJVFlfQVBJIiwiY3JlYXRlRWxlbWVudCIsInZhbGlkaXR5IiwiaG9vayIsImJlZm9yZSIsIm1ldGhvZCIsIm9yaWdpbmFsIiwiYWZ0ZXIiLCIkZnJvbSIsIiR0byIsInByb3BlcnRpZXMiLCJzdHlsZXMiLCJkZWxheSIsInRpbWVvdXQiLCJjb21wdXRlZFN0eWxlIiwic2VsZWN0aXplIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImRpciIsImdldFByb3BlcnR5VmFsdWUiLCJjdXJyZW50U3R5bGUiLCJwYXJlbnRzIiwib3JkZXIiLCJ0YWJJbmRleCIsInRhZ1R5cGUiLCJ0YWdOYW1lIiwicnRsIiwiZXZlbnROUyIsImNvdW50IiwiaGlnaGxpZ2h0ZWRWYWx1ZSIsImlzQmx1cnJpbmciLCJpc09wZW4iLCJpc0Rpc2FibGVkIiwiaXNSZXF1aXJlZCIsImlzIiwiaXNJbnZhbGlkIiwiaXNMb2NrZWQiLCJpc0ZvY3VzZWQiLCJpc0lucHV0SGlkZGVuIiwiaXNTZXR1cCIsImlzU2hpZnREb3duIiwiaXNDbWREb3duIiwiaXNDdHJsRG93biIsImlnbm9yZUZvY3VzIiwiaWdub3JlQmx1ciIsImlnbm9yZUhvdmVyIiwiaGFzT3B0aW9ucyIsImN1cnJlbnRSZXN1bHRzIiwibGFzdFZhbHVlIiwibGFzdFZhbGlkVmFsdWUiLCJjYXJldFBvcyIsImxvYWRpbmciLCJsb2FkZWRTZWFyY2hlcyIsImlzRHJvcGRvd25DbG9zaW5nIiwiJGFjdGl2ZU9wdGlvbiIsIiRhY3RpdmVJdGVtcyIsIm9wdGdyb3VwcyIsInVzZXJPcHRpb25zIiwicmVuZGVyQ2FjaGUiLCJvblNlYXJjaENoYW5nZSIsImxvYWRUaHJvdHRsZSIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2lmdGVyIiwicmVnaXN0ZXJPcHRpb24iLCJyZWdpc3Rlck9wdGlvbkdyb3VwIiwibW9kZSIsIm1heEl0ZW1zIiwiaGlkZVNlbGVjdGVkIiwic2V0dXBDYWxsYmFja3MiLCJzZXR1cFRlbXBsYXRlcyIsInNldHVwIiwiJHdpbmRvdyIsIiRkb2N1bWVudCIsImlucHV0TW9kZSIsImNsYXNzZXMiLCIkd3JhcHBlciIsImFkZENsYXNzIiwid3JhcHBlckNsYXNzIiwiJGNvbnRyb2wiLCJpbnB1dENsYXNzIiwiJGNvbnRyb2xfaW5wdXQiLCIkZHJvcGRvd25fcGFyZW50IiwiZHJvcGRvd25QYXJlbnQiLCIkZHJvcGRvd24iLCJkcm9wZG93bkNsYXNzIiwiaGlkZSIsIiRkcm9wZG93bl9jb250ZW50IiwiZHJvcGRvd25Db250ZW50Q2xhc3MiLCJpbnB1dFBsYWNlaG9sZGVyIiwiaW5wdXRJZCIsImNvcHlDbGFzc2VzVG9Ecm9wZG93biIsInN0eWxlIiwiY2xhc3Nlc19wbHVnaW5zIiwiam9pbiIsInNwbGl0T24iLCJkZWxpbWl0ZXIiLCJkZWxpbWl0ZXJFc2NhcGVkIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib25PcHRpb25Ib3ZlciIsIm9uT3B0aW9uU2VsZWN0Iiwic2VsZWN0b3IiLCJvbkl0ZW1TZWxlY3QiLCJjaGlsZCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJtb3VzZWRvd24iLCJvbk1vdXNlRG93biIsImNsaWNrIiwib25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImtleWRvd24iLCJvbktleURvd24iLCJrZXlwcmVzcyIsIm9uS2V5UHJlc3MiLCJvbklucHV0IiwicmVzaXplIiwicG9zaXRpb25Ecm9wZG93biIsIm9uRm9jdXMiLCJwYXN0ZSIsIm9uUGFzdGUiLCJoYXMiLCJibHVyIiwiaW5wdXRDaGlsZHJlbiIsImNoaWxkcmVuIiwiZGV0YWNoIiwicmVwbGFjZVdpdGgiLCJyZXZlcnRTZXR0aW5ncyIsIiRjaGlsZHJlbiIsInRhYmluZGV4Iiwic2V0VmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInJlZnJlc2hTdGF0ZSIsInVwZGF0ZU9yaWdpbmFsSW5wdXQiLCJyZWZyZXNoSXRlbXMiLCJ1cGRhdGVQbGFjZWhvbGRlciIsImRpc2FibGUiLCJvbkNoYW5nZSIsInByZWxvYWQiLCJmaWVsZF9sYWJlbCIsImxhYmVsRmllbGQiLCJmaWVsZF92YWx1ZSIsInZhbHVlRmllbGQiLCJmaWVsZF9vcHRncm91cCIsIm9wdGdyb3VwTGFiZWxGaWVsZCIsInJlbmRlciIsIm9wdGdyb3VwIiwiaHRtbCIsIm9wdGdyb3VwX2hlYWRlciIsImVzY2FwZSIsIm9wdGlvbiIsIm9wdGlvbl9jcmVhdGUiLCJjYWxsYmFja3MiLCJpbml0aWFsaXplIiwiY2hhbmdlIiwiaXRlbV9hZGQiLCJpdGVtX3JlbW92ZSIsImNsZWFyIiwib3B0aW9uX2FkZCIsIm9wdGlvbl9yZW1vdmUiLCJvcHRpb25fY2xlYXIiLCJvcHRncm91cF9hZGQiLCJvcHRncm91cF9yZW1vdmUiLCJvcHRncm91cF9jbGVhciIsImRyb3Bkb3duX29wZW4iLCJkcm9wZG93bl9jbG9zZSIsImxvYWQiLCJkcm9wZG93bl9pdGVtX2FjdGl2YXRlIiwiZHJvcGRvd25faXRlbV9kZWFjdGl2YXRlIiwiZGVmYXVsdFByZXZlbnRlZCIsImlzRGVmYXVsdFByZXZlbnRlZCIsImNsb3NlIiwib3BlbiIsImNsb3NlRHJvcGRvd25UaHJlc2hvbGQiLCJzZXRBY3RpdmVJdGVtIiwiZ2V0VmFsdWUiLCJpc0Z1bGwiLCJwYXN0ZWRUZXh0IiwibWF0Y2giLCJzcGxpdElucHV0IiwiY3JlYXRlSXRlbSIsIndoaWNoIiwiY3JlYXRlIiwiJHByZXYiLCJzZWxlY3RBbGwiLCJjdHJsS2V5IiwiJG5leHQiLCJnZXRBZGphY2VudE9wdGlvbiIsInNldEFjdGl2ZU9wdGlvbiIsImFkdmFuY2VTZWxlY3Rpb24iLCJzZWxlY3RPblRhYiIsInNob3dBZGRPcHRpb25PbkNyZWF0ZSIsImRlbGV0ZVNlbGVjdGlvbiIsInJlZnJlc2hPcHRpb25zIiwid2FzRm9jdXNlZCIsInNob3dJbnB1dCIsIm9wZW5PbkZvY3VzIiwib25CbHVyIiwiZGVzdCIsImRlYWN0aXZhdGUiLCJzZXRUZXh0Ym94VmFsdWUiLCJzZXRDYXJldCIsImNyZWF0ZU9uQmx1ciIsIiR0YXJnZXQiLCJoYXNDbGFzcyIsImNsb3NlQWZ0ZXJTZWxlY3QiLCJsYXN0UXVlcnkiLCJhZGRJdGVtIiwiZ2V0T3B0aW9uIiwibG9hZGluZ0NsYXNzIiwicmVzdWx0cyIsImFkZE9wdGlvbiIsInJlbW92ZUNsYXNzIiwiZ2V0VGV4dGJveFZhbHVlIiwic2lsZW50IiwiYWRkSXRlbXMiLCJzZXRNYXhJdGVtcyIsIiRpdGVtIiwiZXZlbnROYW1lIiwic3dhcCIsIiRsYXN0IiwiYmVnaW4iLCJjaGlsZE5vZGVzIiwiaWR4IiwiaGlkZUlucHV0IiwiJG9wdGlvbiIsInNjcm9sbCIsImFuaW1hdGUiLCJoZWlnaHRfaXRlbSIsInNjcm9sbF90b3AiLCJzY3JvbGxfYm90dG9tIiwiaGVpZ2h0X21lbnUiLCJvdXRlckhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsInN0b3AiLCJzY3JvbGxEdXJhdGlvbiIsIm9wYWNpdHkiLCJsZWZ0IiwiZ2V0U2VhcmNoT3B0aW9ucyIsInNvcnRGaWVsZCIsInNlYXJjaEZpZWxkIiwic2VhcmNoQ29uanVuY3Rpb24iLCJjYWxjdWxhdGVTY29yZSIsInRyaWdnZXJEcm9wZG93biIsImdyb3VwcyIsImdyb3Vwc19vcmRlciIsIm9wdGlvbl9odG1sIiwiaHRtbF9jaGlsZHJlbiIsImhhc19jcmVhdGVfb3B0aW9uIiwiJGFjdGl2ZSIsIiRjcmVhdGUiLCJ0bXAiLCJhY3RpdmVfYmVmb3JlIiwibWF4T3B0aW9ucyIsIm1pbiIsIm9wdGdyb3VwRmllbGQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYXBwZW5kQ2hpbGQiLCJsb2NrT3B0Z3JvdXBPcmRlciIsIiRvcmRlciIsImNsb25lTm9kZSIsImlubmVySFRNTCIsImRvbSIsImhpZ2hsaWdodCIsIiRlbGVtZW50IiwicGF0dGVybiIsIm5vZGUiLCJza2lwIiwibm9kZVR5cGUiLCJzcGFubm9kZSIsIm1pZGRsZWNsb25lIiwiY2xhc3NOYW1lIiwibWlkZGxlYml0Iiwic3BsaXRUZXh0IiwiZHJvcGRvd25TaXplIiwic2l6ZVR5cGUiLCJzZXR1cERyb3Bkb3duSGVpZ2h0IiwiY2FuQ3JlYXRlIiwicHJlcGVuZCIsInNldEZpcnN0T3B0aW9uQWN0aXZlIiwiJGFjdGl2ZV9iZWZvcmUiLCJhZGRQcmVjZWRlbmNlIiwib3B0Z3JvdXBWYWx1ZUZpZWxkIiwiYWRkT3B0aW9uR3JvdXAiLCJyZW1vdmVPcHRpb25Hcm91cCIsImNsZWFyT3B0aW9uR3JvdXBzIiwidXBkYXRlT3B0aW9uIiwidmFsdWVfbmV3IiwiY2FjaGVfaXRlbXMiLCJvcmRlcl9vbGQiLCJpbmRleF9pdGVtIiwiY2FjaGVfb3B0aW9ucyIsImdldEl0ZW0iLCIkaXRlbV9uZXciLCJyZW1vdmVPcHRpb24iLCJyZW1vdmVJdGVtIiwiY2xlYXJPcHRpb25zIiwiZ2V0RWxlbWVudFdpdGhWYWx1ZSIsImdldEZpcnN0T3B0aW9uIiwiJG9wdGlvbnMiLCJlcSIsImluZGV4IiwiJGVscyIsImdldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRXaXRoVGV4dENvbnRlbnQiLCJ0ZXh0Q29udGVudCIsImlnbm9yZUNhc2UiLCJlbGVUZXh0Q29udGVudCIsImdldEZpcnN0SXRlbU1hdGNoZWRCeVRleHRDb250ZW50IiwidmFsdWVzIiwiYnVmZmVyIiwiaXNQZW5kaW5nIiwiY29udHJvbCIsImluc2VydEJlZm9yZSIsInZhbHVlX25leHQiLCJ3YXNGdWxsIiwiaW5zZXJ0QXRDYXJldCIsInJlbW92ZSIsInBlcnNpc3QiLCJjYXJldCIsImxvY2siLCJjYWxsZWQiLCJmb3JtYXRWYWx1ZVRvS2V5IiwidW5sb2NrIiwib3V0cHV0IiwicmVmcmVzaFZhbGlkaXR5U3RhdGUiLCJyZWZyZXNoQ2xhc3NlcyIsImludmFsaWQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJpc0VtcHR5T2JqZWN0Iiwib3B0cyIsImV4aXN0aW5nIiwiZnJlc2giLCJvbGQiLCJsYWJlbCIsImdldCIsIm1hcCIsInJlbW92ZUF0dHIiLCJ2aXNpYmlsaXR5IiwiZGlzcGxheSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1pbldpZHRoIiwic2l6ZVZhbHVlIiwiJGl0ZW1zIiwibm90IiwiaWdub3JlT25Ecm9wd2Rvd25IZWlnaHQiLCJ0b3RhbEhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInNlcGFyYXRvckhlaWdodCIsIk51bWJlciIsImJvcmRlclRvcFdpZHRoIiwibWF4SGVpZ2h0IiwiJGVsIiwiZWwiLCJvcHRpb25fc2VsZWN0IiwiJHRhaWwiLCJkZXNlbGVjdEJlaGF2aW9yIiwib25EZWxldGUiLCJwb3AiLCIkb3B0aW9uX3NlbGVjdCIsInRhaWwiLCJ2YWx1ZUxlbmd0aCIsImFkdmFuY2VDYXJldCIsIiRhZGoiLCIkY2hpbGQiLCJlbmFibGUiLCJkZXN0cm95Iiwic2hvdyIsInJlbW92ZURhdGEiLCJib2R5IiwidGVtcGxhdGVOYW1lIiwiY2FjaGUiLCJkaXNhYmxlZEZpZWxkIiwiY2xlYXJDYWNoZSIsImNyZWF0ZUZpbHRlciIsImRlZmF1bHRzIiwiYWxsb3dFbXB0eU9wdGlvbiIsInNob3dFbXB0eU9wdGlvbkluRHJvcGRvd24iLCJlbXB0eU9wdGlvbkxhYmVsIiwiZGF0YUF0dHIiLCJzZXR0aW5nc191c2VyIiwiaW5pdF9zZWxlY3QiLCJzZXR0aW5nc19lbGVtZW50IiwiZ3JvdXAiLCJvcHRpb25zTWFwIiwiYXJyIiwicmVhZERhdGEiLCJmaWVsZF9kaXNhYmxlZCIsImF0dHJfZGF0YSIsImFsbERhdGEiLCJpc0pTT04iLCJKU09OIiwicGFyc2UiLCJhc3NpZ24iLCJhZGRHcm91cCIsIiRvcHRncm91cCIsImZpZWxkX29wdGdyb3VwX2xhYmVsIiwiZmllbGRfb3B0Z3JvdXBfdmFsdWUiLCJ0YWdfbmFtZSIsImlucHV0X2h0bWwiLCJpbml0X3RleHRib3giLCJkYXRhX3JhdyIsInN1cHBvcnQiLCJQT1NJVElPTiIsImJvdHRvbSIsImRyb3Bkb3duSGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJvdXRlcldpZHRoIiwic3R5bGVUb0FkZCIsIm9yaWdpbmFsQmx1ciIsIiRtYXRjaGVkSXRlbSIsImF1dG9jb21wbGV0ZSIsImF1dG9maWxsIiwidGl0bGUiLCIkYnV0dG9uX2NsZWFyIiwic29ydGFibGUiLCJmb3JjZVBsYWNlaG9sZGVyU2l6ZSIsImRpc2FibGVkIiwidWkiLCJoZWxwZXIiLCJhY3RpdmUiLCJoZWFkZXJDbGFzcyIsInRpdGxlUm93Q2xhc3MiLCJsYWJlbENsYXNzIiwiY2xvc2VDbGFzcyIsIiRkcm9wZG93bl9oZWFkZXIiLCJlcXVhbGl6ZVNpemVzIiwiaGVpZ2h0X21heCIsIndpZHRoX3BhcmVudCIsIiRvcHRncm91cHMiLCJlcXVhbGl6ZUhlaWdodCIsImVxdWFsaXplV2lkdGgiLCJpbm5lcldpZHRoIiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJyb3VuZCIsIndpZHRoX2xhc3QiLCJjbG9zZXN0IiwicHJldiIsIm5leHQiLCJkaXYiLCJkb2MiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJ0aGlzUmVmIiwicmVuZGVyX2l0ZW0iLCJodG1sX2NvbnRhaW5lciIsImh0bWxfZWxlbWVudCIsIm9yaWdpbmFsRm9jdXMiLCJzZWxlY3QiLCJ0YWdMaW1pdCIsInRvQXJyYXkiXSwibWFwcGluZ3MiOiJBQUFBLENBQUMsU0FBVUEsRUFBTUMsR0FDTyxZQUFsQixPQUFPQyxRQUF5QkEsT0FBT0MsSUFDekNELE9BQU8sQ0FBQyxVQUFXRCxDQUFPLEVBQ0MsVUFBbEIsT0FBT0csUUFBaUQsVUFBMUIsT0FBT0EsT0FBT0MsUUFDckRELE9BQU9DLFFBQVVKLEVBQVFLLFFBQVEsUUFBUSxDQUFDLEVBRTFDTixFQUFLTyxVQUFZTixFQUFRRCxFQUFLUSxNQUFNLENBRXhDLEVBQUVDLEtBQU0sU0FBVUMsR0FDaEIsYUFxRWUsU0FBYkMsS0FuQkpELEVBQUVFLEdBQUdDLGdCQUFrQixXQUNyQixPQUFPSixLQUFLSyxLQUFLLGdCQUFnQixFQUFFQyxLQUFLLFdBQ3RDTixLQUFLTyxXQUFXQyxXQUFXQyxTQUMz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
